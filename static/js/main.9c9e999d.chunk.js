(this.webpackJsonplending=this.webpackJsonplending||[]).push([[0],{1018:function(e,t){},1020:function(e,t){},103:function(e,t,n){"use strict";var r=n(48);n.d(t,"BorrowAmountType",(function(){return r.a})),n.d(t,"LendingObligationLayout",(function(){return r.d})),n.d(t,"LendingReserveParser",(function(){return r.f})),n.d(t,"borrowInstruction",(function(){return r.h})),n.d(t,"calculateBorrowAPY",(function(){return r.i})),n.d(t,"collateralToLiquidity",(function(){return r.l})),n.d(t,"initObligationInstruction",(function(){return r.o})),n.d(t,"reserveMarketCap",(function(){return r.t}));n(668),n(669)},1031:function(e,t){},1035:function(e,t){},1037:function(e,t){},1069:function(e,t){},1071:function(e,t){},1078:function(e,t){},1079:function(e,t){},1099:function(e,t){},1100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromUTF8Array=t.toUTF8Array=void 0,t.toUTF8Array=function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t},t.fromUTF8Array=function(e){var t,n="";for(t=0;t<e.length;t++){var r=e[t];if(r<128)n+=String.fromCharCode(r);else if(r>191&&r<224)n+=String.fromCharCode((31&r)<<6|63&e[t+1]),t+=1;else if(r>223&&r<240)n+=String.fromCharCode((15&r)<<12|(63&e[t+1])<<6|63&e[t+2]),t+=2;else{var a=((7&r)<<18|(63&e[t+1])<<12|(63&e[t+2])<<6|63&e[t+3])-65536;n+=String.fromCharCode(a>>10|55296,1023&a|56320),t+=3}}return n}},1101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeLength=t.decodeLength=void 0,t.decodeLength=function(e){for(var t=0,n=0;;){var r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t},t.encodeLength=function(e,t){for(var n=t;;){var r=127&n;if(0==(n>>=7)){e.push(r);break}r|=128,e.push(r)}}},1103:function(e,t){},1104:function(e,t,n){"use strict";(function(e){var r=n(7),a=n(170),i=n(86);Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadata=t.getEdition=t.getNameSymbol=t.mintNewEditionFromMasterEditionViaToken=t.createMasterEdition=t.createMetadata=t.updateMetadata=t.transferUpdateAuthority=t.decodeNameSymbolTuple=t.decodeMasterEdition=t.decodeEdition=t.decodeMetadata=t.METADATA_SCHEMA=t.NameSymbolTuple=t.Metadata=t.Edition=t.MasterEdition=t.MetadataCategory=t.MetadataKey=t.MAX_MASTER_EDITION_KEN=t.MAX_NAME_SYMBOL_LEN=t.MAX_METADATA_LEN=t.MAX_URI_LENGTH=t.MAX_SYMBOL_LENGTH=t.MAX_NAME_LENGTH=t.EDITION=t.METADATA_PREFIX=void 0;var o,u=n(30),c=n(186),l=n(353),s=n(354);t.METADATA_PREFIX="metadata",t.EDITION="edition",t.MAX_NAME_LENGTH=32,t.MAX_SYMBOL_LENGTH=10,t.MAX_URI_LENGTH=200,t.MAX_METADATA_LEN=33+t.MAX_NAME_LENGTH+t.MAX_SYMBOL_LENGTH+t.MAX_URI_LENGTH+200,t.MAX_NAME_SYMBOL_LEN=41,t.MAX_MASTER_EDITION_KEN=50,function(e){e[e.MetadataV1=0]="MetadataV1",e[e.NameSymbolTupleV1=1]="NameSymbolTupleV1",e[e.EditionV1=2]="EditionV1",e[e.MasterEditionV1=3]="MasterEditionV1"}(o=t.MetadataKey||(t.MetadataKey={})),function(e){e.Audio="audio",e.Video="video",e.Image="image"}(t.MetadataCategory||(t.MetadataCategory={}));var d=function e(t){i(this,e),this.key=o.MasterEditionV1,this.supply=t.supply,this.maxSupply=t.maxSupply,this.masterMint=t.masterMint};t.MasterEdition=d;var f=function e(t){i(this,e),this.key=o.EditionV1,this.parent=t.parent,this.edition=t.edition};t.Edition=f;var m=function e(t){i(this,e),this.key=o.MetadataV1,this.nonUniqueSpecificUpdateAuthority=t.nonUniqueSpecificUpdateAuthority,this.mint=t.mint,this.name=t.name,this.symbol=t.symbol,this.uri=t.uri};t.Metadata=m;var p=function e(t){i(this,e),this.key=o.NameSymbolTupleV1,this.updateAuthority=new u.PublicKey(t.updateAuthority),this.metadata=new u.PublicKey(t.metadata)};t.NameSymbolTuple=p;var v=function e(t){i(this,e),this.instruction=0,this.allowDuplicates=!1,this.name=t.name,this.symbol=t.symbol,this.uri=t.uri,this.allowDuplicates=!!t.allowDuplicates},b=function e(t){i(this,e),this.instruction=1,this.uri=t.uri,this.nonUniqueSpecificUpdateAuthority=t.nonUniqueSpecificUpdateAuthority?new u.PublicKey(t.nonUniqueSpecificUpdateAuthority):null},y=function e(){i(this,e),this.instruction=2},h=function e(t){i(this,e),this.instruction=3,this.maxSupply=t.maxSupply};t.METADATA_SCHEMA=new Map([[v,{kind:"struct",fields:[["instruction","u8"],["allowDuplicates","u8"],["name","string"],["symbol","string"],["uri","string"]]}],[b,{kind:"struct",fields:[["instruction","u8"],["uri","string"],["nonUniqueSpecificUpdateAuthority",{kind:"option",type:"pubkey"}]]}],[y,{kind:"struct",fields:[["instruction","u8"]]}],[h,{kind:"struct",fields:[["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]}],[d,{kind:"struct",fields:[["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}],["masterMint","pubkey"]]}],[f,{kind:"struct",fields:[["key","u8"],["parent","pubkey"],["edition","u64"]]}],[m,{kind:"struct",fields:[["key","u8"],["nonUniqueSpecificUpdateAuthority",{kind:"option",type:"pubkey"}],["mint","pubkey"],["name","string"],["symbol","string"],["uri","string"]]}],[p,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkey"],["metadata","pubkey"]]}]]);var g=function(){var e=a(r.mark((function e(n){var a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.deserializeBorsh(t.METADATA_SCHEMA,m,n),e.next=3,O(a);case 3:return a.nameSymbolTuple=e.sent,e.next=6,M(a.mint);case 6:return a.edition=e.sent,e.next=9,M(a.mint);case 9:return a.masterEdition=e.sent,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.decodeMetadata=g;t.decodeEdition=function(e){return l.deserializeBorsh(t.METADATA_SCHEMA,f,e)};t.decodeMasterEdition=function(e){return l.deserializeBorsh(t.METADATA_SCHEMA,d,e)};function E(){return(E=a(r.mark((function n(a,i,o,l){var d,f,m;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:d=c.programIds().metadata,f=e.from(s.serialize(t.METADATA_SCHEMA,new y)),m=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}],l.push(new u.TransactionInstruction({keys:m,programId:d,data:f}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(){return(k=a(r.mark((function n(a,i,o,l,d,f,m,p,v){var y,h,g,E;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(y=c.programIds().metadata,n.t0=p,n.t0){n.next=6;break}return n.next=5,u.PublicKey.findProgramAddress([e.from("metadata"),y.toBuffer(),d.toBuffer()],y);case 5:n.t0=n.sent[0];case 6:if(p=n.t0,n.t1=v,n.t1){n.next=12;break}return n.next=11,u.PublicKey.findProgramAddress([e.from("metadata"),y.toBuffer(),e.from(i),e.from(a)],y);case 11:n.t1=n.sent[0];case 12:return v=n.t1,h=new b({uri:o,nonUniqueSpecificUpdateAuthority:l||void 0}),g=e.from(s.serialize(t.METADATA_SCHEMA,h)),E=[{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!0,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1}],m.push(new u.TransactionInstruction({keys:E,programId:y,data:g})),n.abrupt("return",[p,v]);case 18:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(){return(w=a(r.mark((function n(a,i,o,l,d,f,m,p,b){var y,h,g,E,k,w;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return y=c.programIds().metadata,n.next=3,u.PublicKey.findProgramAddress([e.from("metadata"),y.toBuffer(),f.toBuffer()],y);case 3:return h=n.sent[0],n.next=6,u.PublicKey.findProgramAddress([e.from("metadata"),y.toBuffer(),e.from(i),e.from(a)],y);case 6:return g=n.sent[0],E=new v({name:i,symbol:a,uri:o,allowDuplicates:l}),k=e.from(s.serialize(t.METADATA_SCHEMA,E)),w=[{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],p.push(new u.TransactionInstruction({keys:w,programId:y,data:k})),n.abrupt("return",[h,g]);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function A(){return(A=a(r.mark((function n(a,i,o,l,d,f,m,p,v){var b,y,g,E,k,w,A;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b=c.programIds().metadata,n.next=3,u.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),b.toBuffer(),l.toBuffer()],b);case 3:return y=n.sent[0],n.next=6,u.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),b.toBuffer(),e.from(a),e.from(i)],b);case 6:return g=n.sent[0],n.next=9,u.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),b.toBuffer(),l.toBuffer(),e.from(t.EDITION)],b);case 9:E=n.sent[0],k=new h({maxSupply:o||null}),w=e.from(s.serialize(t.METADATA_SCHEMA,k)),A=[{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!0,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!0,isWritable:!1},{pubkey:c.programIds().token,isSigner:!1,isWritable:!1},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],p.push(new u.TransactionInstruction({keys:A,programId:b,data:w}));case 14:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(){return(S=a(r.mark((function t(n,a,i,o,l,s,d,f,m){var p,v,b,y,h,g,E;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p=c.programIds().metadata,t.next=3,_(n);case 3:return v=t.sent,t.next=6,_(a);case 6:return b=t.sent,t.next=9,M(n);case 9:return y=t.sent,t.next=12,M(a);case 12:h=t.sent,g=e.from([5]),E=[{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:c.programIds().token,isSigner:!1,isWritable:!1},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],f.push(new u.TransactionInstruction({keys:E,programId:p,data:g}));case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return(x=a(r.mark((function n(a){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=c.programIds(),n.next=3,u.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),i.metadata.toBuffer(),a.mint.toBuffer(),e.from(a.name),e.from(a.symbol)],i.metadata);case 3:return n.abrupt("return",n.sent[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function M(e){return P.apply(this,arguments)}function P(){return(P=a(r.mark((function n(a){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=c.programIds(),n.next=3,u.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),i.metadata.toBuffer(),a.toBuffer(),e.from(t.EDITION)],i.metadata);case 3:return n.abrupt("return",n.sent[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(e){return T.apply(this,arguments)}function T(){return(T=a(r.mark((function n(a){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=c.programIds(),n.next=3,u.PublicKey.findProgramAddress([e.from(t.METADATA_PREFIX),i.metadata.toBuffer(),a.toBuffer()],i.metadata);case 3:return n.abrupt("return",n.sent[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}t.decodeNameSymbolTuple=function(e){return l.deserializeBorsh(t.METADATA_SCHEMA,p,e)},t.transferUpdateAuthority=function(e,t,n,r){return E.apply(this,arguments)},t.updateMetadata=function(e,t,n,r,a,i,o,u,c){return k.apply(this,arguments)},t.createMetadata=function(e,t,n,r,a,i,o,u,c){return w.apply(this,arguments)},t.createMasterEdition=function(e,t,n,r,a,i,o,u,c){return A.apply(this,arguments)},t.mintNewEditionFromMasterEditionViaToken=function(e,t,n,r,a,i,o,u,c){return S.apply(this,arguments)},t.getNameSymbol=O,t.getEdition=M,t.getMetadata=_}).call(this,n(27).Buffer)},1105:function(e,t,n){"use strict";(function(e){var r=n(7),a=n(170),i=n(86);Object.defineProperty(t,"__esModule",{value:!0}),t.updateExternalPriceAccount=t.withdrawTokenFromSafetyDepositBox=t.combineVault=t.activateVault=t.addTokenToInactiveVault=t.getSafetyDepositBox=t.initVault=t.decodeSafetyDeposit=t.decodeVault=t.VAULT_SCHEMA=t.ExternalPriceAccount=t.SafetyDepositBox=t.Vault=t.MAX_EXTERNAL_ACCOUNT_SIZE=t.MAX_VAULT_SIZE=t.VaultState=t.VaultKey=t.VAULT_PREFIX=void 0;var o,u=n(30),c=n(186),l=n(353),s=n(354);t.VAULT_PREFIX="vault",function(e){e[e.VaultV1=0]="VaultV1",e[e.SafetyDepositBoxV1=1]="SafetyDepositBoxV1",e[e.ExternalPriceAccountV1=2]="ExternalPriceAccountV1"}(o=t.VaultKey||(t.VaultKey={})),function(e){e[e.Inactive=0]="Inactive",e[e.Active=1]="Active",e[e.Combined=2]="Combined",e[e.Deactivated=3]="Deactivated"}(t.VaultState||(t.VaultState={})),t.MAX_VAULT_SIZE=205,t.MAX_EXTERNAL_ACCOUNT_SIZE=42;var d=function e(t){i(this,e),this.key=o.VaultV1,this.tokenProgram=t.tokenProgram,this.fractionMint=t.fractionMint,this.authority=t.authority,this.fractionTreasury=t.fractionTreasury,this.redeemTreasury=t.redeemTreasury,this.allowFurtherShareCreation=t.allowFurtherShareCreation,this.pricingLookupAddress=t.pricingLookupAddress,this.tokenTypeCount=t.tokenTypeCount,this.state=t.state,this.lockedPricePerShare=t.lockedPricePerShare};t.Vault=d;var f=function e(t){i(this,e),this.key=o.SafetyDepositBoxV1,this.vault=t.vault,this.tokenMint=t.tokenMint,this.store=t.store,this.order=t.order};t.SafetyDepositBox=f;var m=function e(t){i(this,e),this.key=o.ExternalPriceAccountV1,this.pricePerShare=t.pricePerShare,this.priceMint=t.priceMint,this.allowedToCombine=t.allowedToCombine};t.ExternalPriceAccount=m;var p=function e(t){i(this,e),this.instruction=0,this.allowFurtherShareCreation=!1,this.allowFurtherShareCreation=t.allowFurtherShareCreation},v=function e(t){i(this,e),this.instruction=t.instruction,this.amount=t.amount},b=function e(t){i(this,e),this.instruction=t.instruction,this.numberOfShares=t.numberOfShares},y=function e(t){i(this,e),this.instruction=9,this.externalPriceAccount=t.externalPriceAccount};t.VAULT_SCHEMA=new Map([[p,{kind:"struct",fields:[["instruction","u8"],["allowFurtherShareCreation","u8"]]}],[v,{kind:"struct",fields:[["instruction","u8"],["amount","u64"]]}],[b,{kind:"struct",fields:[["instruction","u8"],["numberOfShares","u64"]]}],[y,{kind:"struct",fields:[["instruction","u8"],["externalPriceAccount",m]]}],[d,{kind:"struct",fields:[["key","u8"],["tokenProgram","pubkey"],["fractionMint","pubkey"],["authority","pubkey"],["fractionTreasury","pubkey"],["redeemTreasury","pubkey"],["allowFurtherShareCreation","u8"],["pricingLookupAddress","u8"],["tokenTypeCount","u8"],["state","u8"],["lockedPricePerShare","u64"]]}],[f,{kind:"struct",fields:[["key","u8"],["vault","pubkey"],["tokenMint","pubkey"],["store","pubkey"],["order","u8"]]}],[m,{kind:"struct",fields:[["key","u8"],["pricePerShare","u64"],["priceMint","pubkey"],["allowedToCombine","u8"]]}]]);t.decodeVault=function(e){return l.deserializeBorsh(t.VAULT_SCHEMA,d,e)};function h(){return(h=a(r.mark((function n(a,i,o,l,d,f,m,v){var b,y,h;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b=c.programIds().vault,y=e.from(s.serialize(t.VAULT_SCHEMA,new p({allowFurtherShareCreation:a}))),h=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:c.programIds().token,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],v.push(new u.TransactionInstruction({keys:h,programId:b,data:y}));case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(e,t){return E.apply(this,arguments)}function E(){return(E=a(r.mark((function n(a,i){var o;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=c.programIds().vault,n.next=3,u.PublicKey.findProgramAddress([e.from(t.VAULT_PREFIX),a.toBuffer(),i.toBuffer()],o);case 3:return n.abrupt("return",n.sent[0]);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(){return(k=a(r.mark((function n(a,i,o,l,d,f,m,p,b){var y,h,E,k,w;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return y=c.programIds().vault,n.next=3,g(d,i);case 3:h=n.sent,E=new v({instruction:1,amount:a}),k=e.from(s.serialize(t.VAULT_SCHEMA,E)),w=[{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!0,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!0,isWritable:!1},{pubkey:c.programIds().token,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1}],b.push(new u.TransactionInstruction({keys:w,programId:y,data:k}));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(){return(w=a(r.mark((function n(a,i,o,l,d,f){var m,p,v,y,h;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m=c.programIds().vault,n.next=3,u.PublicKey.findProgramAddress([e.from(t.VAULT_PREFIX),m.toBuffer()],m);case 3:p=n.sent[0],v=new b({instruction:2,numberOfShares:a}),y=e.from(s.serialize(t.VAULT_SCHEMA,v)),h=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:c.programIds().token,isSigner:!1,isWritable:!1}],f.push(new u.TransactionInstruction({keys:h,programId:m,data:y}));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function A(){return(A=a(r.mark((function n(a,i,o,l,s,d,f,m,p,v,b){var y,h,g,E;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return y=c.programIds().vault,n.next=3,u.PublicKey.findProgramAddress([e.from(t.VAULT_PREFIX),y.toBuffer()],y);case 3:h=n.sent[0],g=e.from([3]),E=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f||m,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!0,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:c.programIds().token,isSigner:!1,isWritable:!1}],b.push(new u.TransactionInstruction({keys:E,programId:y,data:g}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(){return(S=a(r.mark((function n(a,i,o,l,d,f,m,p){var b,y,h,g,E;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b=c.programIds().vault,n.next=3,u.PublicKey.findProgramAddress([e.from(t.VAULT_PREFIX),b.toBuffer()],b);case 3:y=n.sent[0],h=new v({instruction:5,amount:a}),g=e.from(s.serialize(t.VAULT_SCHEMA,h)),E=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:c.programIds().token,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],p.push(new u.TransactionInstruction({keys:E,programId:b,data:g}));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function O(){return(O=a(r.mark((function n(a,i,o){var l,d,f,m;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l=c.programIds().vault,d=new y({externalPriceAccount:i}),f=e.from(s.serialize(t.VAULT_SCHEMA,d)),console.log("Data",f),m=[{pubkey:a,isSigner:!1,isWritable:!0}],o.push(new u.TransactionInstruction({keys:m,programId:l,data:f}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}t.decodeSafetyDeposit=function(e){return l.deserializeBorsh(t.VAULT_SCHEMA,f,e)},t.initVault=function(e,t,n,r,a,i,o,u){return h.apply(this,arguments)},t.getSafetyDepositBox=g,t.addTokenToInactiveVault=function(e,t,n,r,a,i,o,u,c){return k.apply(this,arguments)},t.activateVault=function(e,t,n,r,a,i){return w.apply(this,arguments)},t.combineVault=function(e,t,n,r,a,i,o,u,c,l,s){return A.apply(this,arguments)},t.withdrawTokenFromSafetyDepositBox=function(e,t,n,r,a,i,o,u){return S.apply(this,arguments)},t.updateExternalPriceAccount=function(e,t,n){return O.apply(this,arguments)}}).call(this,n(27).Buffer)},1106:function(e,t,n){"use strict";(function(e){var r=n(7),a=n(170),i=n(96),o=n(86);Object.defineProperty(t,"__esModule",{value:!0}),t.placeBid=t.startAuction=t.createAuction=t.decodeAuctionData=t.AUCTION_SCHEMA=t.WinnerLimit=t.WinnerLimitType=t.BidderPot=t.BIDDER_POT_LEN=t.BidderMetadata=t.BIDDER_METADATA_LEN=t.AuctionData=t.BASE_AUCTION_DATA_SIZE=t.decodeBidderMetadata=t.BidderMetadataParser=t.decodeBidderPot=t.BidderPotParser=t.decodeAuction=t.AuctionParser=t.BidState=t.Bid=t.BidStateType=t.AuctionState=t.METADATA=t.AUCTION_PREFIX=void 0;var u=n(30),c=n(186),l=n(353),s=n(354);t.AUCTION_PREFIX="auction",t.METADATA="metadata",function(e){e[e.Created=0]="Created",e[e.Started=1]="Started",e[e.Ended=2]="Ended"}(t.AuctionState||(t.AuctionState={})),function(e){e[e.EnglishAuction=0]="EnglishAuction",e[e.OpenEdition=1]="OpenEdition"}(t.BidStateType||(t.BidStateType={}));var d=function e(t){o(this,e),this.key=t.key,this.amount=t.amount};t.Bid=d;var f=function(){function e(t){o(this,e),this.type=t.type,this.bids=t.bids,this.max=t.max}return i(e,[{key:"getWinnerIndex",value:function(e){if(!this.bids)return null;console.log("bids",this.bids.map((function(e){return e.key.toBase58()})),e.toBase58());var t=this.bids.findIndex((function(t){return t.key.toBase58()==e.toBase58()}));return-1!=t?t:null}}]),e}();t.BidState=f;t.AuctionParser=function(e,n){return{pubkey:e,account:n,info:t.decodeAuction(n.data)}};t.decodeAuction=function(e){return l.deserializeBorsh(t.AUCTION_SCHEMA,m,e)};t.BidderPotParser=function(e,n){return{pubkey:e,account:n,info:t.decodeBidderPot(n.data)}};t.decodeBidderPot=function(e){return l.deserializeBorsh(t.AUCTION_SCHEMA,v,e)};t.BidderMetadataParser=function(e,n){return{pubkey:e,account:n,info:t.decodeBidderMetadata(n.data)}};t.decodeBidderMetadata=function(e){return l.deserializeBorsh(t.AUCTION_SCHEMA,p,e)},t.BASE_AUCTION_DATA_SIZE=149;var m=function e(t){o(this,e),this.authority=t.authority,this.resource=t.resource,this.tokenMint=t.tokenMint,this.lastBid=t.lastBid,this.endedAt=t.endedAt,this.endAuctionAt=t.endAuctionAt,this.auctionGap=t.auctionGap,this.state=t.state,this.bidState=t.bidState};t.AuctionData=m,t.BIDDER_METADATA_LEN=81;var p=function e(t){o(this,e),this.bidderPubkey=t.bidderPubkey,this.auctionPubkey=t.auctionPubkey,this.lastBid=t.lastBid,this.lastBidTimestamp=t.lastBidTimestamp,this.cancelled=t.cancelled};t.BidderMetadata=p,t.BIDDER_POT_LEN=96;var v=function e(t){o(this,e),this.bidderPot=t.bidderPot,this.bidderAct=t.bidderAct,this.auctionAct=t.auctionAct};t.BidderPot=v,function(e){e[e.Unlimited=0]="Unlimited",e[e.Capped=1]="Capped"}(t.WinnerLimitType||(t.WinnerLimitType={}));var b=function e(t){o(this,e),this.type=t.type,this.usize=t.usize};t.WinnerLimit=b;var y=function e(t){o(this,e),this.instruction=0,this.winners=t.winners,this.endAuctionAt=t.endAuctionAt,this.auctionGap=t.auctionGap,this.tokenMint=t.tokenMint,this.authority=t.authority,this.resource=t.resource},h=function e(t){o(this,e),this.instruction=1,this.resource=t.resource},g=function e(t){o(this,e),this.instruction=2,this.resource=t.resource,this.amount=t.amount};t.AUCTION_SCHEMA=new Map([[y,{kind:"struct",fields:[["instruction","u8"],["winners",b],["endAuctionAt",{kind:"option",type:"u64"}],["auctionGap",{kind:"option",type:"u64"}],["tokenMint","pubkey"],["authority","pubkey"],["resource","pubkey"]]}],[b,{kind:"struct",fields:[["type","u8"],["usize","u64"]]}],[h,{kind:"struct",fields:[["instruction","u8"],["resource","pubkey"]]}],[g,{kind:"struct",fields:[["instruction","u8"],["amount","u64"],["resource","pubkey"]]}],[m,{kind:"struct",fields:[["authority","pubkey"],["resource","pubkey"],["tokenMint","pubkey"],["lastBid",{kind:"option",type:"u64"}],["endedAt",{kind:"option",type:"u64"}],["endAuctionAt",{kind:"option",type:"u64"}],["auctionGap",{kind:"option",type:"u64"}],["state","u8"],["bidState",f]]}],[f,{kind:"struct",fields:[["type","u8"],["bids",[d]],["max","u64"]]}],[d,{kind:"struct",fields:[["key","pubkey"],["amount","u64"]]}],[p,{kind:"struct",fields:[["bidderPubkey","pubkey"],["auctionPubkey","pubkey"],["lastBid","u64"],["lastBidTimestamp","u64"],["cancelled","u8"]]}],[v,{kind:"struct",fields:[["bidderPot","pubkey"],["bidderAct","pubkey"],["auctionAct","pubkey"]]}]]);function E(){return(E=a(r.mark((function n(a,i,o,l,d,f,m,p){var v,b,h,g;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v=c.programIds().auction,b=e.from(s.serialize(t.AUCTION_SCHEMA,new y({winners:a,resource:i,endAuctionAt:o,auctionGap:l,tokenMint:d,authority:f}))),n.next=4,u.PublicKey.findProgramAddress([e.from(t.AUCTION_PREFIX),v.toBuffer(),i.toBuffer()],v);case 4:h=n.sent[0],g=[{pubkey:m,isSigner:!0,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1}],p.push(new u.TransactionInstruction({keys:g,programId:v,data:b}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(){return(k=a(r.mark((function n(a,i,o){var l,d,f,m;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=c.programIds().auction,d=e.from(s.serialize(t.AUCTION_SCHEMA,new h({resource:a}))),n.next=4,u.PublicKey.findProgramAddress([e.from(t.AUCTION_PREFIX),l.toBuffer(),a.toBuffer()],l);case 4:f=n.sent[0],m=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:u.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],o.push(new u.TransactionInstruction({keys:m,programId:l,data:d}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(){return(w=a(r.mark((function n(a,i,o,l,d,f,m,p){var v,b,y,h,E,k;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v=c.programIds().auction,b=e.from(s.serialize(t.AUCTION_SCHEMA,new g({resource:f,amount:m}))),n.next=4,u.PublicKey.findProgramAddress([e.from(t.AUCTION_PREFIX),v.toBuffer(),f.toBuffer()],v);case 4:return y=n.sent[0],n.next=7,u.PublicKey.findProgramAddress([e.from(t.AUCTION_PREFIX),v.toBuffer(),y.toBuffer(),a.toBuffer()],v);case 7:return h=n.sent[0],n.next=10,u.PublicKey.findProgramAddress([e.from(t.AUCTION_PREFIX),v.toBuffer(),y.toBuffer(),a.toBuffer(),e.from("metadata")],v);case 10:E=n.sent[0],k=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!0,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:u.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:u.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.programIds().token,isSigner:!1,isWritable:!1}],p.push(new u.TransactionInstruction({keys:k,programId:v,data:b}));case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}t.decodeAuctionData=function(e){return l.deserializeBorsh(t.AUCTION_SCHEMA,m,e)},t.createAuction=function(e,t,n,r,a,i,o,u){return E.apply(this,arguments)},t.startAuction=function(e,t,n){return k.apply(this,arguments)},t.placeBid=function(e,t,n,r,a,i,o,u){return w.apply(this,arguments)}}).call(this,n(27).Buffer)},1107:function(e,t,n){},1120:function(e,t,n){},1121:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Info=void 0;var a=n(53),i=r(n(0)),o=n(178);t.Info=function(e){return i.default.createElement(a.Popover,{trigger:"hover",content:i.default.createElement("div",{style:{width:300}},e.text)},i.default.createElement(a.Button,{type:"text",shape:"circle"},i.default.createElement(o.InfoCircleOutlined,{style:e.style})))}},1122:function(e,t,n){"use strict";var r=n(86),a=n(96),i=n(148),o=n(149),u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NumericInput=void 0;var c=u(n(0)),l=n(53),s=function(e){i(n,e);var t=o(n);function n(){var e;return r(this,n),(e=t.apply(this,arguments)).onChange=function(t){var n=t.target.value;(/^-?\d*(\.\d*)?$/.test(n)||""===n||"-"===n)&&e.props.onChange(n)},e.onBlur=function(){var t=e.props,n=t.value,r=t.onBlur,a=t.onChange,i=n;void 0!==n&&null!==n&&(!n.charAt||"."!==n.charAt(n.length-1)&&"-"!==n||(i=n.slice(0,-1)),n.startsWith&&(n.startsWith(".")||n.startsWith("-."))&&(i=i.replace(".","0.")),i.replace&&(null===a||void 0===a||a(i.replace(/0*(\d+)/,"$1"))),r&&r())},e}return a(n,[{key:"render",value:function(){return c.default.createElement(l.Input,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,maxLength:25}))}}]),n}(c.default.Component);t.NumericInput=s},1123:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppBar=void 0;var a=r(n(0)),i=n(53),o=n(653),u=n(178),c=n(495),l=n(574),s=n(652),d=n(174);n(1124);t.AppBar=function(e){var t=d.useWallet().connected;return a.default.createElement("div",{className:"App-Bar-right"},e.left,t?a.default.createElement(o.CurrentUserBadge,null):a.default.createElement(s.ConnectButton,{type:"text",size:"large",allowWalletChange:!0,style:{color:"#2abdd2"}}),a.default.createElement(i.Popover,{placement:"topRight",title:l.LABELS.SETTINGS_TOOLTIP,content:a.default.createElement(c.Settings,{additionalSettings:e.additionalSettings}),trigger:"click"},a.default.createElement(i.Button,{shape:"circle",size:"large",type:"text",icon:a.default.createElement(u.SettingOutlined,null)})),e.right)}},1124:function(e,t,n){},1125:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActionConfirmation=void 0;var a=r(n(0)),i=n(53),o=n(293),u=n(56);n(1129);t.ActionConfirmation=function(e){return a.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}},a.default.createElement("h2",null,"Congratulations!"),a.default.createElement("div",null,"Your action has been successfully executed"),a.default.createElement("div",{className:"success-icon"}),a.default.createElement(u.Link,{to:"/dashboard"},a.default.createElement(i.Button,{type:"primary"},o.LABELS.DASHBOARD_ACTION)),a.default.createElement(i.Button,{type:"text",onClick:e.onClose},o.LABELS.GO_BACK_ACTION))}},1129:function(e,t,n){},1130:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackButton=void 0;var a=r(n(0)),i=n(53),o=n(293),u=n(56);t.BackButton=function(){var e=u.useHistory();return a.default.createElement(i.Button,{type:"text",onClick:e.goBack},o.LABELS.GO_BACK_ACTION)}},1131:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenDisplay=void 0;var a=r(n(0)),i=n(291),o=n(496),u=n(657);t.TokenDisplay=function(e){var t=e.showBalance,n=e.mintAddress,r=e.name,c=e.icon,l=i.useMint(n),s=o.useAccountByMint(n),d=0,f=!1;return t&&s&&l&&(f=(d=s.info.amount.toNumber()/Math.pow(10,l.decimals))>0),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{title:n,key:n,style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},a.default.createElement("div",{style:{display:"flex",alignItems:"center"}},c||a.default.createElement(u.TokenIcon,{mintAddress:n}),r),t?a.default.createElement("span",{title:d.toString(),key:n,className:"token-balance"},"\xa0"," ",f?d<.001?"<0.001":d.toFixed(3):"-"):null))}},1132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAccountByMint=void 0;var r=n(658);t.useAccountByMint=function(e){var t=r.useUserAccounts().userAccounts,n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),a=t.findIndex((function(e){return e.info.mint.toBase58()===n}));if(-1!==a)return t[a]}},1133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTokenName=void 0;var r=n(292),a=n(239);t.useTokenName=function(e){var t=r.useConnectionConfig().tokenMap,n="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return a.getTokenName(t,n)}},1134:function(e,t,n){"use strict";var r=n(117);Object.defineProperty(t,"__esModule",{value:!0}),t.useThatState=void 0;var a=n(0);t.useThatState=function(e){var t=a.useState(e),n=r(t,2),i=n[0],o=n[1];return[i,o,function(){return new Promise((function(e){o((function(t){return e(t),t}))}))}]}},1135:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EtherscanLink=void 0;var a=r(n(0)),i=n(53),o=n(239);t.EtherscanLink=function(e){var t,n=e.type,r=e.code,u=e.address;if(!u)return null;var c=null!==(t=e.length)&&void 0!==t?t:9;return a.default.createElement("a",{href:"https://etherscan.io/".concat(n,"/").concat(u),target:"_blank",title:u,style:e.style},r?a.default.createElement(i.Typography.Text,{style:e.style,code:!0},o.shortenAddress(u,c)):o.shortenAddress(u,c))}},1136:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.approve=t.ParsedDataLayout=void 0;var a=n(30),i=n(95),o=n(186),u=r(n(5));t.ParsedDataLayout=u.default.struct([u.default.blob(32,"amount"),u.default.u8("toChain"),u.default.blob(32,"sourceAddress"),u.default.blob(32,"targetAddress"),u.default.blob(32,"assetAddress"),u.default.u8("assetChain"),u.default.u8("assetDecimals"),u.default.seq(u.default.u8(),1),u.default.u32("nonce"),u.default.blob(1001,"vaa"),u.default.seq(u.default.u8(),3),u.default.u32("vaaTime"),u.default.u32("lockupTime"),u.default.u8("pokeCounter"),u.default.blob(32,"signatureAccount"),u.default.u8("initialized")]),t.approve=function(e,t,n,r,u){var c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,d=o.TOKEN_PROGRAM_ID,f=s||new a.Account;return null!==l&&void 0!==l||f.publicKey,"number"!==typeof u&&(u=new i.u64(u.toArray())),e.push(i.Token.createApproveInstruction(d,n,null!==l&&void 0!==l?l:f.publicKey,r,[],u)),c&&t.push(i.Token.createRevokeInstruction(d,n,r,[])),f}},114:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.InitLendingMarket=0]="InitLendingMarket",e[e.InitReserve=1]="InitReserve",e[e.InitObligation=2]="InitObligation",e[e.DepositReserveLiquidity=3]="DepositReserveLiquidity",e[e.WithdrawReserveLiquidity=4]="WithdrawReserveLiquidity",e[e.BorrowLiquidity=5]="BorrowLiquidity",e[e.RepayOblogationLiquidity=6]="RepayOblogationLiquidity",e[e.LiquidateObligation=7]="LiquidateObligation",e[e.AccrueReserveInterest=8]="AccrueReserveInterest"}(r||(r={}))},1140:function(e,t){},1147:function(e,t){},1174:function(e,t,n){},1175:function(e,t,n){},1176:function(e,t,n){},1177:function(e,t,n){},1178:function(e,t,n){},1179:function(e,t,n){},1180:function(e,t,n){},1181:function(e,t,n){},1182:function(e,t,n){},1183:function(e,t,n){},1184:function(e,t,n){},1185:function(e,t,n){},1186:function(e,t,n){},1187:function(e,t,n){},1188:function(e,t,n){},1189:function(e,t,n){},119:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return E})),n.d(t,"g",(function(){return k})),n.d(t,"d",(function(){return A}));var r=n(38),a=n(35),i=n(30),o=n(115),u=n.n(o),c=n(5),l=n(114),s=n(12),d=n(65),f=s.utils.TOKEN_PROGRAM_ID,m=s.utils.LENDING_PROGRAM_ID,p=s.utils.wadToLamports,v=c.struct([c.u8("version"),d.c("lastUpdateSlot"),d.a("lendingMarket"),d.a("liquidityMint"),c.u8("liquidityMintDecimals"),d.a("liquiditySupply"),d.a("collateralMint"),d.a("collateralSupply"),d.a("collateralFeesReceiver"),c.u32("dexMarketOption"),d.a("dexMarket"),c.struct([c.u8("optimalUtilizationRate"),c.u8("loanToValueRatio"),c.u8("liquidationBonus"),c.u8("liquidationThreshold"),c.u8("minBorrowRate"),c.u8("optimalBorrowRate"),c.u8("maxBorrowRate"),c.struct([d.c("borrowFeeWad"),c.u8("hostFeePercentage")],"fees")],"config"),c.struct([d.b("cumulativeBorrowRateWad"),d.b("borrowedLiquidityWad"),d.c("availableLiquidity"),d.c("collateralMintSupply")],"state"),c.blob(300,"padding")]),b=function(e){return e.data.length===v.span},y=function(t,n){var r=e.from(n.data),i=v.decode(r);if(0!==i.lastUpdateSlot.toNumber())return{pubkey:t,account:Object(a.a)({},n),info:i}},h=function(t,n,r,a,o,s,p,v,b,y,h,g,E){var k=c.struct([c.u8("instruction"),d.c("liquidityAmount"),c.u8("maxUtilizationRate")]),w=e.alloc(k.span);k.encode({instruction:l.a.InitReserve,liquidityAmount:new u.a(t),maxUtilizationRate:n},w);var A=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!0,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!0,isWritable:!1},{pubkey:i.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:i.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1}];return new i.TransactionInstruction({keys:A,programId:m,data:w})},g=function(){var t=c.struct([c.u8("instruction")]),n=e.alloc(t.span);t.encode({instruction:l.a.AccrueReserveInterest},n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];var s=[{pubkey:i.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}].concat(Object(r.a)(o.map((function(e){return{pubkey:e,isSigner:!1,isWritable:!0}}))));return new i.TransactionInstruction({keys:s,programId:m,data:n})},E=function(e){var t=p(e.state.borrowedLiquidityWad).toNumber();return t/(e.state.availableLiquidity.toNumber()+t)},k=function(e){return((null===e||void 0===e?void 0:e.state.availableLiquidity.toNumber())||0)+p(null===e||void 0===e?void 0:e.state.borrowedLiquidityWad).toNumber()},w=function(e){return((null===e||void 0===e?void 0:e.state.collateralMintSupply.toNumber())||1)/k(e)},A=function(e,t){var n="number"===typeof e?e:e.toNumber();return Math.floor(n/w(t))}}).call(this,n(27).Buffer)},1190:function(e,t,n){},1191:function(e,t,n){},1192:function(e,t,n){},1193:function(e,t,n){},12:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.models=t.contexts=t.hooks=t.constants=t.components=t.actions=void 0,t.actions=i(n(549)),o(n(549),t),t.components=i(n(651)),o(n(651),t),t.constants=i(n(293)),o(n(293),t),t.hooks=i(n(496)),o(n(496),t),t.contexts=i(n(174)),o(n(174),t),t.models=i(n(659)),o(n(659),t),t.utils=i(n(251)),o(n(251),t)},1260:function(e,t,n){},1261:function(e,t,n){},1262:function(e,t,n){},1557:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(76),o=n.n(i),u=(n(811),n(548),n(56)),c=n(92),l=n(12),s=n(58),d=n(7),f=n.n(d),m=n(20),p=n(38),v=n(29),b={},y=[];function h(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort();return r.map((function(t){return l.utils.getTokenName(e,t,n)})).join("/")}var g,E=n(126),k=n(30),w=n(35),A=l.contexts.Accounts,S=A.MintParser,O=A.cache,x=function(e,t){var n=E.Orderbook.LAYOUT.decode(t.data);return{pubkey:e,account:Object(w.a)({},t),info:n}},M=new k.PublicKey("EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"),P=function(e,t){var n=E.MARKETS.find((function(t){return t.address.equals(e)})),r=E.Market.getLayout((null===n||void 0===n?void 0:n.programId)||M).decode(t.data),a={pubkey:e,account:Object(w.a)({},t),info:r};return O.registerParser(a.info.baseMint,S),O.registerParser(a.info.quoteMint,S),O.registerParser(a.info.bids,x),O.registerParser(a.info.asks,x),a},_=n(95),T=l.utils.programIds,C=l.models.TokenSwapLayout,B=l.models.TokenSwapLayoutLegacyV0,N=l.models.TokenSwapLayoutV1,j=l.contexts.Connection.useConnection,I=l.contexts.Accounts,D=I.cache,L=I.getMultipleAccounts,W=I.TokenAccountParser,R=function(e,t){return t.map((function(t){return D.query(e,new k.PublicKey(t))}))},q=function(e,t){return{pubkeys:{account:e.pubkey,program:t,mint:e.data.tokenPool,holdingMints:[],holdingAccounts:[e.data.tokenAccountA,e.data.tokenAccountB]},legacy:!1,raw:e}},K=function(e){var t=j(),n=function(){var e=j(),t=Object(r.useState)([]),n=Object(v.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){i([]);var t=function(){var t=Object(m.a)(f.a.mark((function t(n){var r,a,i,o=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]&&o[1],a=[],t.next=4,e.getProgramAccounts(n);case 4:return t.sent.filter((function(e){return e.account.data.length===C.span||e.account.data.length===N.span||e.account.data.length===B.span})).map((function(t){var i={data:void 0,account:t.account,pubkey:t.pubkey,init:function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},o=t.account.data.length===C.span?C:t.account.data.length===N.span?N:B;if(o===B){i.data=o.decode(t.account.data);var u=q(i,n);u.legacy=r,a.push(u),i.init=Object(m.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(R(e,[i.data.tokenAccountA,i.data.tokenAccountB]));case 3:n=t.sent,u.pubkeys.holdingMints=[n[0].info.mint,n[1].info.mint],t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))}else{i.data=o.decode(t.account.data);var c=q(i,n);c.legacy=r,c.pubkeys.feeAccount=i.data.feeAccount,c.pubkeys.holdingMints=[i.data.mintA,i.data.mintB],a.push(c)}return i})),i=a.map((function(e){var t;return[].concat(Object(p.a)(e.pubkeys.holdingAccounts.map((function(e){return e.toBase58()}))),Object(p.a)(e.pubkeys.holdingMints.map((function(e){return e.toBase58()}))),[null===(t=e.pubkeys.feeAccount)||void 0===t?void 0:t.toBase58(),e.pubkeys.mint.toBase58()]).filter((function(e){return e}))})).flat(),t.next=8,L(e,i,"single").then((function(e){var t=e.keys;return e.array.map((function(e,n){var r=t[n];return e.data.length===_.AccountLayout.span?D.add(r,e,W):e.data.length!==_.MintLayout.span||D.getMint(r)?e:D.addMint(new k.PublicKey(r),e)}))}));case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Promise.all([t(T().swap)].concat(Object(p.a)(T().swap_legacy.map((function(e){return t(e,!0)}))))).then((function(e){i(e.flat())}))}),[e]),Object(r.useEffect)((function(){var t=e.onProgramAccountChange(T().swap,function(){var e=Object(m.a)(f.a.mark((function e(t){var n,r,o,u,c,l,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="string"===typeof t.accountId?new k.PublicKey(t.accountId):t.accountId,r=n.toBase58(),t.accountInfo.data.length===T().swapLayout.span&&(o=t.accountInfo,u={data:T().swapLayout.decode(o.data),account:o,pubkey:n},(c=a&&a.findIndex((function(e){return e.pubkeys.account.toBase58()===r})))&&c>=0&&a?(l=a.filter((function(e,t){return t!==c})),i([].concat(Object(p.a)(l),[q(u,T().swap)]))):((s=q(u,T().swap)).pubkeys.feeAccount=u.data.feeAccount,s.pubkeys.holdingMints=[u.data.mintA,u.data.mintB],i([].concat(Object(p.a)(a),[s]))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"singleGossip");return function(){e.removeProgramAccountChangeListener(t)}}),[e,a]),{pools:a}}().pools,a=Object(r.useState)(),i=Object(v.a)(a,2),o=i[0],u=i[1],c=Object(r.useMemo)((function(){return Object(p.a)(e).sort()}),Object(p.a)(e));return Object(r.useEffect)((function(){Object(m.a)(f.a.mark((function e(){var r,a,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(void 0),r=n.filter((function(e){return!e.legacy})).filter((function(e){return e.pubkeys.holdingMints.map((function(e){return e.toBase58()})).sort().every((function(e,t){return e===c[t]}))})),a=0;case 3:if(!(a<r.length)){e.next=14;break}return i=r[a],e.next=7,D.query(t,i.pubkeys.holdingAccounts[0]);case 7:if(e.sent.info.amount.eqn(0)){e.next=11;break}return u(i),e.abrupt("return");case 11:a++,e.next=3;break;case 14:case"end":return e.stop()}}),e)})))()}),[t,c,n]),o};!function(e){e[e.Add=0]="Add",e[e.SwapGivenInput=1]="SwapGivenInput",e[e.SwapGivenProceeds=2]="SwapGivenProceeds"}(g||(g={}));var U=l.contexts.Connection.useConnectionConfig,F=l.utils.convert,V=l.utils.fromLamports,G=l.utils.getTokenName,z=l.utils.STABLE_COINS,Y=l.contexts.Accounts,H=Y.cache,Q=Y.getMultipleAccounts,X=new Date("2020-10-27"),J=a.a.createContext(null),$=new l.EventEmitter;function Z(e){var t=e.children,n=void 0===t?null:t,i=U().endpoint,o=Object(r.useMemo)((function(){return new Map}),[]),u=Object(r.useState)([]),c=Object(v.a)(u,2),l=c[0],s=c[1],d=Object(r.useState)(new Map),y=Object(v.a)(d,2),h=y[0],g=(y[1],Object(r.useMemo)((function(){return new k.Connection(i,"recent")}),[i])),w=Object(r.useMemo)((function(){return Object(p.a)(new Set(l).values()).reduce((function(e,t){var n=t,r=E.TOKEN_MINTS.find((function(e){return e.address.toBase58()===n})),a=b[n],i="".concat(null===r||void 0===r?void 0:r.name,"/USDC"),o=E.MARKETS.find((function(e){return e.name===i||e.address.toBase58()===a}));return o&&e.set(n,{marketInfo:o}),e}),new Map)}),[l]);Object(r.useEffect)((function(){var e=0,t=function(){var n=Object(m.a)(f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ie(g,Object(p.a)(o.keys()));case 2:$.raiseMarketUpdated(new Set(Object(p.a)(w.keys()))),e=window.setTimeout((function(){return t()}),3e4);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return function(){var e=Object(m.a)(f.a.mark((function e(){var n,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,Object(p.a)(w.keys()).forEach((function(e){var t=w.get(e);t&&n.set(t.marketInfo.address.toBase58(),e)})),r=Object(p.a)(w.values()).map((function(e){return e.marketInfo.address.toBase58()})),e.next=5,Q(g,r.filter((function(e){return void 0===H.get(e)})),"single").then((function(e){var t=e.keys,a=e.array;return r.forEach((function(){})),a.map((function(e,r){var a=t[r],i=n.get(a);if(i){var o=w.get(i);if(o){var u=o.marketInfo.address;H.add(u,e,P)}}return e}))}));case 5:return a=new Set,r.forEach((function(e){var t=H.get(e);if(t){var n=t;H.get(n.info.baseMint)||a.add(n.info.baseMint.toBase58()),H.get(n.info.baseMint)||a.add(n.info.quoteMint.toBase58()),a.add(n.info.bids.toBase58()),a.add(n.info.asks.toBase58())}})),e.next=9,ie(g,Object(p.a)(a.keys()));case 9:$.raiseMarketUpdated(new Set(Object(p.a)(w.keys()))),t();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){window.clearTimeout(e)}}),[w,o,g]);var A=Object(r.useCallback)((function(e){var t;return ae(null===(t=w.get(e))||void 0===t?void 0:t.marketInfo.address.toBase58(),e)}),[w]),S=Object(r.useCallback)((function(e){var t=w.get(e),n=H.get((null===t||void 0===t?void 0:t.marketInfo.address.toBase58())||"");if(!n)return function(){};var r=n.info.bids.toBase58(),a=n.info.asks.toBase58();return o.set(r,(o.get(r)||0)+1),o.set(a,(o.get(a)||0)+1),function(){o.set(r,(o.get(r)||0)-1),o.set(a,(o.get(a)||0)-1),Object(p.a)(o.keys()).forEach((function(e){(o.get(e)||0)<=0&&o.delete(e)}))}}),[w,o]),O=Object(r.useCallback)((function(e){var t=Object(p.a)(new Set([].concat(Object(p.a)(l),Object(p.a)(e))).values());l.length!==t.length&&s(t)}),[s,l]);return a.a.createElement(J.Provider,{value:{midPriceInUSD:A,marketEmitter:$,accountsToObserve:o,marketByMint:w,subscribeToMarket:S,precacheMarkets:O,dailyVolume:h}},n)}var ee=function(){return Object(r.useContext)(J)},te=function(e){var t=Object(r.useContext)(J),n=U().tokenMap,a=Object(r.useState)([]),i=Object(v.a)(a,2),o=i[0],u=i[1],c=null===t||void 0===t?void 0:t.subscribeToMarket,l=null===t||void 0===t?void 0:t.marketEmitter,s=null===t||void 0===t?void 0:t.marketByMint,d=null===t||void 0===t?void 0:t.dailyVolume,f=e.map((function(e){return e.pubkeys.account.toBase58()})).join(",");return Object(r.useEffect)((function(){if(l&&c&&0!==e.length){var t=Object(p.a)(new Set(Object(p.a)(null===s||void 0===s?void 0:s.keys())).keys()).map((function(e){return c(e)})),r=function(){u(function(e,t,n,r){var a=new Date;if(!t)return[];return e.filter((function(e){return e.pubkeys.holdingMints&&e.pubkeys.holdingMints.length>1})).map((function(e,i){var o,u,c,l=(e.pubkeys.holdingMints||[]).map((function(e){return e.toBase58()})).sort(),s=H.getMint(l[0]),d=H.getMint(l[1]),f=H.get(e.pubkeys.holdingAccounts[0]),m=H.get(e.pubkeys.holdingAccounts[1]),p=(null===f||void 0===f?void 0:f.info.mint.toBase58())===l[0]?f:m,v=(null===m||void 0===m?void 0:m.info.mint.toBase58())===l[1]?m:f,b=ae((null===(o=t.get(l[0]))||void 0===o?void 0:o.marketInfo.address.toBase58())||"",l[0]),g=b*F(p,s),E=ae((null===(u=t.get(l[1]))||void 0===u?void 0:u.marketInfo.address.toBase58())||"",l[1])*F(v,d),k=H.getMint(e.pubkeys.mint);if(!(null===k||void 0===k?void 0:k.supply.eqn(0))){var w=function(e,t,n,r){var a=0,i=y.find((function(t){return t.pool.equals(e.pubkeys.mint)}));i&&(a=i.airdrops.reduce((function(e,a){var i,o=null===(i=t.get(a.mint.toBase58()))||void 0===i?void 0:i.marketInfo.address;if(o){var u=ae(null===o||void 0===o?void 0:o.toBase58(),a.mint.toBase58());e+=a.amount*u/(n+r)*(365/30)}return e}),0));return a}(e,t,g,E),A=0,S=b*((null===n||void 0===n||null===(c=n.get(e.pubkeys.mint.toBase58()))||void 0===c?void 0:c.volume24hA)||0),O=.0025*S,x=0,M=w,P=w;if(e.pubkeys.feeAccount){var _=H.get(e.pubkeys.feeAccount);if(k&&_&&_.info.mint.toBase58()===e.pubkeys.mint.toBase58()){var T=(null===_||void 0===_?void 0:_.info.amount.toNumber())/(null===k||void 0===k?void 0:k.supply.toNumber());if(0!==(x=.003*(A=(T*g+T*E)/4e-4))){var C=T*g/4e-4,B=T*E/4e-4,N=Math.floor((a.getTime()-X.getTime())/864e5),j=parseFloat(C/N*.003*356)/g,I=parseFloat(B/N*.003*356)/E;M+=Math.max(j,I),P+=parseFloat(.003*S*356)/g}}}var D=H.getMint(e.pubkeys.mint),L=h(r,e),W="#/?pair=".concat(h(r,e,!1).replace("/","-"));return{key:e.pubkeys.account.toBase58(),id:i,name:L,names:l.map((function(e){return G(r,e)})),accounts:[null===p||void 0===p?void 0:p.pubkey,null===v||void 0===v?void 0:v.pubkey],address:e.pubkeys.mint.toBase58(),link:W,mints:l,liquidityA:F(p,s),liquidityAinUsd:g,liquidityB:F(v,d),liquidityBinUsd:E,supply:D&&((null===D||void 0===D?void 0:D.supply.toNumber())/Math.pow(10,(null===D||void 0===D?void 0:D.decimals)||0)).toFixed(9),fees:x,fees24h:O,liquidity:g+E,volume:A,volume24h:S,apy:Number.isFinite(M)?M:0,apy24h:Number.isFinite(P)?P:0,map:n,extra:null===n||void 0===n?void 0:n.get(e.pubkeys.account.toBase58()),raw:e}}})).filter((function(e){return void 0!==e}))}(e,s,d,n))},a=l.onMarket(r);return r(),function(){a&&a(),t.forEach((function(e){return e&&e()}))}}}),[e,n,d,f,c,l,s]),o};var ne=function(e){var t=Object(r.useContext)(J),n=t.midPriceInUSD,a=t.subscribeToMarket,i=t.marketEmitter,o=Object(r.useState)(0),u=Object(v.a)(o,2),c=u[0],l=u[1];return Object(r.useEffect)((function(){var t=a(e),r=function(){n&&l(n(e))};r();var o=i.onMarket(r);return function(){t(),o()}}),[n,e,i,a]),{price:c,isBase:1===c}},re=function(e,t){var n=e.getL2(1),r=t.getL2(1);return n.length>0&&r.length>0?(n[0][0]+r[0][0])/2:0},ae=function(e,t){var n,r,a,i,o=E.TOKEN_MINTS.find((function(e){return e.address.toBase58()===t}));if(z.has((null===o||void 0===o?void 0:o.name)||""))return 1;if(!e)return 0;var u=H.get(e);if(!u)return 0;var c=u.info,l=(null===(n=H.get(c.baseMint))||void 0===n?void 0:n.info.decimals)||0,s=(null===(r=H.get(c.quoteMint))||void 0===r?void 0:r.info.decimals)||0,d=new E.Market(c,l,s,void 0,c.programId),f=null===(a=H.get(c.bids))||void 0===a?void 0:a.info,m=null===(i=H.get(c.asks))||void 0===i?void 0:i.info;if(f&&m){var p=new E.Orderbook(d,f.accountFlags,f.slab),v=new E.Orderbook(d,m.accountFlags,m.slab);return re(p,v)}return 0},ie=function(){var e=Object(m.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",Q(t,n,"single").then((function(e){var t=e.keys;return e.array.map((function(e,n){var r=t[n];return H.add(new k.PublicKey(r),e)}))})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=n(48),ue=l.contexts.Accounts.cache,ce=l.contexts.Connection.useConnectionConfig,le=l.utils.getTokenByName,se=function(){return ue.byParser(oe.f).map((function(e){return ue.get(e)})).filter((function(e){return void 0!==e}))};function de(){var e=Object(r.useState)(se()),t=Object(v.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=ue.emitter.onCache((function(e){e.parser===oe.f&&a(se())}));return function(){e()}}),[a]),{reserveAccounts:n}}function fe(e){var t=ce().tokenMap,n=de().reserveAccounts,a=e;if("string"===typeof e){var i=le(t,e);if(i){var o=n.filter((function(e){return e.info.liquidityMint.toBase58()===i.address}))[0];o&&(a=o.pubkey)}}var u=Object(r.useMemo)((function(){var e;return"string"===typeof a?a:null===(e=a)||void 0===e?void 0:e.toBase58()}),[a]),c=Object(r.useState)(ue.get(u||"")),l=Object(v.a)(c,2),s=l[0],d=l[1];return Object(r.useEffect)((function(){var e=ue.emitter.onCache((function(e){e.id===u&&d(ue.get(u))}));return function(){e()}}),[u,d]),s}var me=l.contexts.Accounts.useMint,pe=l.hooks.useUserAccounts,ve=l.utils.fromLamports;function be(e,t){var n=Object(r.useMemo)((function(){return"string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58()}),[e]),a=pe().userAccounts,i=Object(r.useState)(0),o=Object(v.a)(i,2),u=o[0],c=o[1],l=ee(),s=l.marketEmitter,d=l.midPriceInUSD,f=me(n),m=Object(r.useMemo)((function(){return a.filter((function(e){return n===e.info.mint.toBase58()&&(!t||t.equals(e.pubkey))})).sort((function(e,t){return t.info.amount.sub(e.info.amount).toNumber()}))}),[a,n,t]),p=Object(r.useMemo)((function(){return m.reduce((function(e,t){return e+t.info.amount.toNumber()}),0)}),[m]),b=Object(r.useMemo)((function(){return ve(p,f)}),[f,p]);return Object(r.useEffect)((function(){var e=function(){c(b*d(n||""))},t=s.onMarket((function(t){e()}));return e(),function(){t()}}),[b,d,s,n,c]),{balance:b,balanceLamports:p,balanceInUSD:u,accounts:m,hasBalance:m.length>0&&b>0}}var ye=l.contexts.Accounts.useMint,he=l.utils.fromLamports;function ge(e,t){var n=ye(null===e||void 0===e?void 0:e.collateralMint),a=be(null===e||void 0===e?void 0:e.collateralMint,t),i=a.balanceLamports,o=a.accounts,u=Object(r.useState)(0),c=Object(v.a)(u,2),l=c[0],s=c[1],d=ee(),f=d.marketEmitter,m=d.midPriceInUSD,p=Object(r.useMemo)((function(){return e&&Ee(e,i)}),[i,e]),b=Object(r.useMemo)((function(){return he(p,n)}),[p,n]);return Object(r.useEffect)((function(){var t=function(){var t;s(b*m((null===e||void 0===e||null===(t=e.liquidityMint)||void 0===t?void 0:t.toBase58())||""))},n=f.onMarket((function(n){n.ids.has((null===e||void 0===e?void 0:e.dexMarket.toBase58())||"")&&t()}));return t(),function(){n()}}),[b,m,f,n,s,e]),{balance:b,balanceLamports:p,balanceInUSD:l,mint:null===e||void 0===e?void 0:e.collateralMint,accounts:o,hasBalance:o.length>0&&b>0}}function Ee(e,t){return Object(oe.t)(e)*(t/((null===e||void 0===e?void 0:e.state.collateralMintSupply.toNumber())||1))}var ke=l.contexts.Accounts.cache,we=function(){return ke.byParser(oe.e).map((function(e){return ke.get(e)})).filter((function(e){return void 0!==e}))};var Ae=l.contexts.Accounts.cache,Se=l.contexts.Connection.useConnectionConfig,Oe=l.utils.fromLamports,xe=l.utils.wadToLamports,Me=l.utils.getTokenName;function Pe(){var e=function(){var e=Object(r.useState)(we()),t=Object(v.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=ke.emitter.onCache((function(e){e.parser===oe.e&&a(we())}));return function(){e()}}),[a]),{obligations:n}}().obligations,t=de().reserveAccounts,n=Se().tokenMap,a=ee(),i=a.marketEmitter,o=a.midPriceInUSD,u=Object(r.useMemo)((function(){return t.reduce((function(e,t){return e.set(t.pubkey.toBase58(),t),e}),new Map)}),[t]),c=Object(r.useCallback)((function(){return 0===u.size?[]:e.map((function(e){return{obligation:e,reserve:u.get(e.info.borrowReserve.toBase58()),collateralReserve:u.get(e.info.collateralReserve.toBase58())}})).filter((function(e){return e.reserve})).filter((function(e){return xe(e.obligation.info.borrowAmountWad).toNumber()>0})).map((function(e){var t=e.obligation,r=e.reserve.info,a=e.reserve.info,i=0,u=0,c=0,l=0;if(Ae.get(r.liquidityMint)){var d=Ae.get(e.collateralReserve.info.liquidityMint),f=Oe(Object(oe.l)(t.info.depositedCollateral,e.reserve.info),null===d||void 0===d?void 0:d.info),m=xe(t.info.borrowAmountWad).toNumber(),p=function(e,t,n){var r,a,i,o,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=H.get(t.liquidityMint),l=H.get(t.collateralMint);if(!c||!l)return 0;var d=H.get(n);if(!d)return 0;var f=d.info,m=(null===(r=H.get(f.baseMint))||void 0===r?void 0:r.info.decimals)||0,p=(null===(a=H.get(f.quoteMint))||void 0===a?void 0:a.info.decimals)||0,b=H.get(t.lendingMarket),y=new E.Market(f,m,p,void 0,f.programId),h=null===(i=H.get(null===f||void 0===f?void 0:f.bids))||void 0===i?void 0:i.info,g=null===(o=H.get(null===f||void 0===f?void 0:f.asks))||void 0===o?void 0:o.info;if(!h||!g)return 0;var k=new E.Orderbook(y,h.accountFlags,h.slab),w=new E.Orderbook(y,g.accountFlags,g.slab),A=b.info.quoteMint.equals(t.liquidityMint)?k:w,S=0,O=V(e,c.info),x=A.isBids?function(e,t){return t/e}:function(e,t){return t*e};if(u){var M=re(k,w);return x(M,O)}var P,_,T,C=A.getL2(1e3),B=Object(s.a)(C);try{for(B.s();!(T=B.n()).done;){var N=Object(v.a)(T.value,2);M=N[0];var j=O>(_=N[1])?_:O;if(S+=x(P,j),(O-=j)<=0)break}}catch(I){B.e(I)}finally{B.f()}return S}(m,e.reserve.info,e.reserve.info.dexMarketOption?e.reserve.info.dexMarket:e.collateralReserve.info.dexMarket,!0),b=e.reserve.info.liquidityMint.toBase58(),y=Ae.get(b);c=Oe(m,y.info)*o(b),l=f*o((null===d||void 0===d?void 0:d.pubkey.toBase58())||""),i=100*p/f,u=f*e.reserve.info.config.liquidationThreshold/100/p}return{account:t,info:Object(w.a)(Object(w.a)({},t.info),{},{ltv:i,health:u,borrowedInQuote:c,collateralInQuote:l,liquidationThreshold:e.reserve.info.config.liquidationThreshold,repayName:Me(n,r.liquidityMint),collateralName:Me(n,a.liquidityMint)})}})).sort((function(e,t){return e.info.health-t.info.health}))}),[e,u,o,n]),l=Object(r.useState)(c()),d=Object(v.a)(l,2),f=d[0],m=d[1];return Object(r.useEffect)((function(){var e=i.onMarket((function(){m(c())}));return function(){e()}}),[c,m,i,o]),{obligations:f}}function _e(e){var t="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),n=Pe().obligations;return Object(r.useMemo)((function(){return n.find((function(e){return e.account.pubkey.toBase58()===t}))}),[n,t])}var Te=l.hooks.useUserAccounts;function Ce(){var e=Te().userAccounts,t=Pe().obligations,n=Object(r.useMemo)((function(){return e.reduce((function(e,t){var n=t.info.mint.toBase58();return e.set(n,[].concat(Object(p.a)(e.get(n)||[]),[t])),e}),new Map)}),[e]),a=Object(r.useMemo)((function(){return 0===n.size?[]:t.filter((function(e){return void 0!==n.get(e.info.tokenMint.toBase58())})).map((function(e){return{obligation:e,userAccounts:Object(p.a)(n.get(e.info.tokenMint.toBase58())||[])}})).sort((function(e,t){return t.obligation.info.borrowedInQuote-e.obligation.info.borrowedInQuote}))}),[n,t]);return{userObligations:a,totalInQuote:a.reduce((function(e,t){return e+t.obligation.info.borrowedInQuote}),0)}}function Be(e,t){var n=Ce().userObligations;return{userObligationsByReserve:Object(r.useMemo)((function(){var r="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();return n.filter((function(e){return r&&a?e.obligation.info.borrowReserve.toBase58()===r&&e.obligation.info.collateralReserve.toBase58()===a:r&&e.obligation.info.borrowReserve.toBase58()===r||a&&e.obligation.info.collateralReserve.toBase58()===a}))}),[e,t,n])}}var Ne=l.contexts.Accounts,je=Ne.cache,Ie=Ne.getMultipleAccounts,De=Ne.MintParser,Le=Ne.useMint,We=l.contexts.Connection.useConnection,Re=l.utils.fromLamports,qe=l.utils.wadToLamports;var Ke,Ue=l.contexts.Accounts.cache,Fe=l.contexts.Connection.useConnectionConfig,Ve=l.utils.fromLamports,Ge=l.utils.getTokenName,ze=l.hooks.useUserAccounts;function Ye(e,t){var n=ze().userAccounts,a=de().reserveAccounts,i=Object(r.useState)([]),o=Object(v.a)(i,2),u=o[0],c=o[1],l=ee(),s=l.marketEmitter,d=l.midPriceInUSD,f=Fe().tokenMap,m=Object(r.useMemo)((function(){return a.reduce((function(n,r){var a=r.pubkey.toBase58();return e&&e.has(a)||t&&!t.has(a)||n.set(r.info.collateralMint.toBase58(),r),n}),new Map)}),[a,e,t]);return Object(r.useEffect)((function(){var e=new Set(a.map((function(e){return e.info.dexMarket.toBase58()}))),t=function(){return n.filter((function(e){return m.has(null===e||void 0===e?void 0:e.info.mint.toBase58())})).map((function(e){var t=m.get(null===e||void 0===e?void 0:e.info.mint.toBase58()),n=Ue.get(t.info.collateralMint),r=Ee(t.info,null===e||void 0===e?void 0:e.info.amount.toNumber()),a=Ve(r,null===n||void 0===n?void 0:n.info);return{account:e,info:{amount:a,amountInQuote:d(t.info.liquidityMint.toBase58())*a,apy:Object(oe.j)(t.info),name:Ge(f,t.info.liquidityMint)},reserve:t}})).sort((function(e,t){return t.info.amountInQuote-e.info.amountInQuote}))},r=s.onMarket((function(n){Object(p.a)(n.ids.values()).every((function(t){return!e.has(t)}))||c(t())}));return c(t()),function(){r()}}),[n,a,m,f,d,s]),{userDeposits:u,totalInQuote:u.reduce((function(e,t){return e+t.info.amountInQuote}),0)}}!function(e){e[e.AbsoluteValue=0]="AbsoluteValue",e[e.Percent=1]="Percent"}(Ke||(Ke={}));var He=function(e){var t=Object(r.useState)(""),n=Object(v.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(0),u=Object(v.a)(o,2),c=u[0],l=u[1],s=Object(r.useState)(Ke.Percent),d=Object(v.a)(s,2),f=d[0],m=d[1];return{value:a,setValue:Object(r.useCallback)((function(t){m(Ke.AbsoluteValue),i(t),l(e(t))}),[m,i,l,e]),pct:c,setPct:Object(r.useCallback)((function(t){m(Ke.Percent),l(t),i(e(t))}),[m,i,l,e]),type:f}},Qe=l.contexts.Accounts.cache;function Xe(e){var t="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),n=Object(r.useState)(Qe.get(t||"")),a=Object(v.a)(n,2),i=a[0],o=a[1];return Object(r.useEffect)((function(){var e=Qe.emitter.onCache((function(e){e.id===t&&o(Qe.get(t))}));return function(){e()}}),[t,o]),i}function Je(e){var t,n,a=Object(r.useMemo)((function(){return"string"===typeof e?e:(null===e||void 0===e?void 0:e.toBase58())||""}),[e]),i=fe(a),o=null===i||void 0===i?void 0:i.info.liquidityMint,u=null===o||void 0===o?void 0:o.toBase58(),c=Xe(null===i||void 0===i?void 0:i.info.lendingMarket),l=null===c||void 0===c||null===(t=c.info)||void 0===t||null===(n=t.quoteMint)||void 0===n?void 0:n.toBase58(),s=u!==l,d=Object(r.useMemo)((function(){return new Set([a])}),[a]),f=Object(r.useMemo)((function(){var e=se().find((function(e){return e.info.liquidityMint.toBase58()===l}));return s&&e?new Set([e.pubkey.toBase58()]):void 0}),[s,l]),m=Ye(d,f),p=m.totalInQuote,v=ne(u).price,b=Ce(),y=b.totalInQuote,h=y+p,g=0===h?0:y/h;return u===l?{borrowingPower:p,totalInQuote:p,utilization:g}:{borrowingPower:p/v,totalInQuote:p,utilization:g}}var $e=l.contexts.Connection.useConnection,Ze=l.utils.LENDING_PROGRAM_ID,et=l.contexts.Accounts,tt=et.cache,nt=et.getMultipleAccounts,rt=et.MintParser,at=a.a.createContext(null);function it(e){var t=e.children,n=void 0===t?null:t,r=ot().accounts;return a.a.createElement(at.Provider,{value:{accounts:r}},n)}var ot=function(){var e=$e(),t=Object(r.useState)([]),n=Object(v.a)(t,2),a=n[0],i=n[1],o=de().reserveAccounts,u=ee().precacheMarkets,c=Object(r.useCallback)((function(e){return Object(oe.s)(e.account)?tt.add(e.pubkey.toBase58(),e.account,oe.f):Object(oe.q)(e.account)?tt.add(e.pubkey.toBase58(),e.account,oe.c):Object(oe.r)(e.account)?tt.add(e.pubkey.toBase58(),e.account,oe.e):void 0}),[]);return Object(r.useEffect)((function(){o.length>0&&u(o.map((function(e){return e.info.liquidityMint.toBase58()})))}),[o,u]),Object(r.useEffect)((function(){i([]);var t=function(){var t=Object(m.a)(f.a.mark((function t(){var n,r,a,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getProgramAccounts(Ze);case 2:return n=t.sent,r=n.map(c).filter((function(e){return void 0!==e})),a=r.filter((function(e){return void 0!==(null===e||void 0===e?void 0:e.info).lendingMarket})).map((function(e){return e})),i=Object(p.a)(a.map((function(e){return[tt.registerParser(null===e||void 0===e?void 0:e.info.collateralMint.toBase58(),rt),tt.registerParser(null===e||void 0===e?void 0:e.info.liquidityMint.toBase58(),rt),tt.registerParser((null===e||void 0===e?void 0:e.info.dexMarketOption)?null===e||void 0===e?void 0:e.info.dexMarket.toBase58():"",P)].filter((function(e){return e}))}))).flat(),t.next=8,nt(e,i,"single").then((function(e){var t=e.keys;return e.array.map((function(e,n){var r=t[n];return tt.add(r,e),e}))}));case 8:return n.map(c).filter((function(e){return void 0!==e})),t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Promise.all([t()]).then((function(e){i(e.flat())}))}),[e,c]),Object(r.useEffect)((function(){var t=e.onProgramAccountChange(Ze,function(){var e=Object(m.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="string"===typeof t.accountId?new k.PublicKey(t.accountId):t.accountId,r={pubkey:n,account:t.accountInfo},c(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),"singleGossip");return function(){e.removeProgramAccountChangeListener(t)}}),[e,a,c]),{accounts:a}},ut=n(73),ct=n(783),lt=n(787),st=n(779),dt=n(784),ft=n(789),mt=n(788),pt=n(781),vt=n(782),bt=n(804),yt="Connect Wallet",ht="Borrowing Power Used",gt="Borrowing Power",Et="You borrowed",kt="Give me SOL",wt="This view displays all loans that can be liquidated. A liquidation is a process where borrower collateral does not cover value of the loan. It is represented by health factor falling below 1.0. When a loan is liquidated, an liquidator can purchase collateral at a discount by repaing the portio of the loan. ",At="This faucet will help you fund your accounts outside of Solana main network.",St="Account funded.",Ot="How much would you like to repay?",xt="Repay",Mt="Reserve Status & Configuration",Pt="Oyster is an unaudited software project used for internal purposes at the Solana Foundation. This app is not for public use.",_t='This page was produced by the Solana Foundation ("SF") for internal educational and inspiration purposes only. SF does not encourage, induce or sanction the deployment, integration or use of Oyster or any similar application (including its code) in violation of applicable laws or regulations and hereby prohibits any such deployment, integration or use. Anyone using this code or a derivation thereof must comply with applicable laws and regulations when releasing related software.',Tt="Home",Ct="Dashboard",Bt="Connect to a wallet to view your deposits/loans.",Nt="No loans or deposits.",jt="Deposit",It="Deposits",Dt="Borrows",Lt="Loan to value",Wt="Borrow",Rt="Liquidate",qt="Faucet",Kt="Oyster Lending",Ut="Wallet balance",Ft="How much would you like to borrow?",Vt="Borrow",Gt="No collateral",zt="No deposits",Yt="Nothing borrowed yet",Ht="There will be a list of all the assets you have borrowed. For now, it's empty since you have not borrowed.",Qt="Borrow now",Xt="How much would you like to liquidate?",Jt="Liquidate",$t="There are no loans to liquidate.",Zt="Asset",en="Loan balance",tn="Loan balance",nn="Collateral",rn="Your deposits",an="APY",on="LTV",un="Health Factor",cn="Borrow APY",ln="Deposit APY",sn="Total Borrowed",dn="Market Size",fn="Action",mn="Maximum LTV",pn="Liquidation threshold",vn="Liquidation penalty",bn="Available for you",yn="Loans",hn="Deposits",gn="How much would you like to deposit?",En="Withdraw",kn="How much would you like to withdraw?",wn="Deposit",An="Total",Sn="Add Position",On="Margin Trade",xn="Total Buying Power",Mn="Not enough buying power in oyster to make this trade at this leverage.",Pn="You need more margin to match this leverage amount to make this trade.",_n="You will need more margin to make this trade.",Tn="You need to deposit coin of this type into oyster before trading with it on margin.",Cn="Choose Collateral CCY",Bn={0:"0%",25:"25%",50:"50%",75:"75%",100:"100%"},Nn={0:{style:{color:"darkgreen"},label:"Safer"},100:{style:{color:"darkred"},label:"Riskier"}},jn=[16,{xs:8,sm:16,md:16,lg:16}],In=n(546),Dn=l.contexts.Connection.useConnectionConfig,Ln=a.a.memo((function(e){var t=Dn().env,n=Object(c.l)(),r={"/dashboard":"2","/deposit":"3","/borrow":"4","/liquidate":"5","/margin":"6","/faucet":"7"},i=r[Object(p.a)(Object.keys(r)).find((function(e){return n.pathname.startsWith(e)}))||""]||"1";return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"Banner"},a.a.createElement("div",{className:"Banner-description"},Pt)),a.a.createElement(bt.a,{title:Kt,footerRender:function(){return a.a.createElement("div",{className:"footer",title:_t},_t)},navTheme:"dark",headerTheme:"dark",theme:"dark",layout:"mix",fixSiderbar:!0,primaryColor:"#d83aeb",logo:a.a.createElement("div",{className:"App-logo"}),rightContentRender:function(){return a.a.createElement(l.AppBar,null)},links:[],menuContentRender:function(){return a.a.createElement("div",{className:"links"},a.a.createElement(ut.a,{theme:"dark",defaultSelectedKeys:[i],mode:"inline"},a.a.createElement(ut.a.Item,{key:"1",icon:a.a.createElement(ct.a,null)},a.a.createElement(u.Link,{to:{pathname:"/"}},Tt)),a.a.createElement(ut.a.Item,{key:"2",icon:a.a.createElement(lt.a,null)},a.a.createElement(u.Link,{to:{pathname:"/dashboard"}},Ct)),a.a.createElement(ut.a.Item,{key:"3",icon:a.a.createElement(st.a,null)},a.a.createElement(u.Link,{to:{pathname:"/deposit"}},jt)),a.a.createElement(ut.a.Item,{key:"4",icon:a.a.createElement(dt.a,null)},a.a.createElement(u.Link,{to:{pathname:"/borrow"}},Wt)),a.a.createElement(ut.a.Item,{key:"5",icon:a.a.createElement(ft.a,null)},a.a.createElement(u.Link,{to:{pathname:"/liquidate"}},Rt)),"mainnet-beta"!==t&&a.a.createElement(ut.a.Item,{key:"7",icon:a.a.createElement(mt.a,null)},a.a.createElement(u.Link,{to:{pathname:"/faucet"}},qt))),a.a.createElement(ut.a,{theme:"dark",defaultSelectedKeys:[i],selectable:!1,mode:"inline",className:"bottom-links"},a.a.createElement(ut.a.Item,{key:"16",icon:a.a.createElement(pt.a,null)},a.a.createElement("a",{title:"Fork",href:"".concat(In.repository.url,"/fork"),target:"_blank",rel:"noopener noreferrer"},"Fork")),",",a.a.createElement(ut.a.Item,{key:"15",icon:a.a.createElement(vt.a,null)},a.a.createElement("a",{title:"Gtihub",href:In.repository.url,target:"_blank",rel:"noopener noreferrer"},"Github"))))}},e.children))})),Wn=n(210),Rn=n(129),qn=n(775),Kn=n(774),Un=n(103),Fn=l.utils.wadToLamports,Vn=l.utils.formatNumber,Gn=l.utils.fromLamports,zn=l.utils.formatPct,Yn=l.contexts.Accounts.useMint,Hn=l.hooks.useTokenName,Qn=function(e){var t,n,i=Hn(e.reserve.liquidityMint),o=Yn(e.reserve.liquidityMint),c=Gn(e.reserve.state.availableLiquidity,o),s=Object(r.useMemo)((function(){return Gn(Fn(e.reserve.state.borrowedLiquidityWad),o)}),[e.reserve,o]),d=Object(r.useMemo)((function(){return Object(oe.i)(e.reserve)}),[e.reserve]),f=Object(r.useMemo)((function(){return Object(oe.j)(e.reserve)}),[e.reserve]),m=c+s;return a.a.createElement(u.Link,{to:"/reserve/".concat(e.address.toBase58())},a.a.createElement("div",{className:"home-item"},a.a.createElement("span",{style:{display:"flex"}},a.a.createElement(l.TokenIcon,{mintAddress:e.reserve.liquidityMint}),i),a.a.createElement("div",{title:m.toString()},a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,Vn.format(m))," ",i),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",Vn.format(null===(t=e.item)||void 0===t?void 0:t.marketSize)))),a.a.createElement("div",{title:s.toString()},a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,Vn.format(s))," ",i),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",Vn.format(null===(n=e.item)||void 0===n?void 0:n.borrowed)))),a.a.createElement("div",{title:f.toString()},zn.format(f)),a.a.createElement("div",{title:d.toString()},zn.format(d))))},Xn=function(e){var t=["#003f5c","#2f4b7c","#665191","#a05195","#d45087","#f95d6a","#ff7c43","#ffa600"].reverse();return a.a.createElement(Kn.a,{title:e.title,valueRender:function(){return a.a.createElement("div",{style:{width:"100%",height:37,display:"flex",backgroundColor:"lightgrey",fontSize:12,lineHeight:"37px"}},e.items.map((function(n,r){return a.a.createElement("div",{key:e.name(n),title:e.name(n),style:{overflow:"hidden",width:"".concat(100*e.getPct(n),"%"),backgroundColor:e.color&&e.color(n)||t[r%e.items.length]}},e.name(n))})))}})},Jn=(n(1174),l.utils.fromLamports),$n=l.utils.getTokenName,Zn=l.utils.wadToLamports,er=l.contexts.Accounts.cache,tr=l.contexts.Connection.useConnectionConfig,nr=function(){var e=de().reserveAccounts,t=ee(),n=t.marketEmitter,i=t.midPriceInUSD,o=tr().tokenMap,u=Object(r.useState)({marketSize:0,borrowed:0,lentOutPct:0,items:[]}),c=Object(v.a)(u,2),l=c[0],s=c[1];return Object(r.useEffect)((function(){var t=function(){var t={marketSize:0,borrowed:0,lentOutPct:0,items:[]};e.forEach((function(e){var n,r=Object(Un.reserveMarketCap)(e.info),a=er.get(e.info.liquidityMint.toBase58());if(a){var u=i(null===a||void 0===a?void 0:a.pubkey.toBase58()),c={key:e.pubkey.toBase58(),marketSize:Jn(r,null===a||void 0===a?void 0:a.info)*u,borrowed:Jn(Zn(null===(n=e.info)||void 0===n?void 0:n.state.borrowedLiquidityWad).toNumber(),a.info)*u,name:$n(o,e.info.liquidityMint.toBase58())};t.items.push(c),t.marketSize=t.marketSize+c.marketSize,t.borrowed=t.borrowed+c.borrowed}})),t.lentOutPct=t.borrowed/t.marketSize,t.lentOutPct=Number.isFinite(t.lentOutPct)?t.lentOutPct:0,t.items=t.items.sort((function(e,t){return t.marketSize-e.marketSize})),s(t)},r=n.onMarket((function(){t()}));return t(),function(){r()}}),[n,i,s,e,o]),a.a.createElement("div",{className:"flexColumn"},a.a.createElement(Wn.a,{gutter:jn,className:"home-info-row"},a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:"Current market size",value:l.marketSize,precision:2,valueStyle:{color:"#3fBB00"},prefix:"$"}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:"Total borrowed",value:l.borrowed,precision:2,prefix:"$"}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:"% Lent out",value:100*l.lentOutPct,precision:2,suffix:"%"}))),a.a.createElement(Rn.a,{xs:24,xl:9},a.a.createElement(qn.a,null,a.a.createElement(Xn,{title:"Market composition",name:function(e){return e.name},getPct:function(e){return e.marketSize/l.marketSize},items:l.items})))),a.a.createElement(qn.a,null,a.a.createElement("div",{className:"home-item home-header"},a.a.createElement("div",null,Zt),a.a.createElement("div",null,dn),a.a.createElement("div",null,sn),a.a.createElement("div",null,ln),a.a.createElement("div",null,cn)),e.map((function(e){return a.a.createElement(Qn,{key:e.pubkey.toBase58(),reserve:e.info,address:e.pubkey,item:l.items.find((function(t){return t.key===e.pubkey.toBase58()}))})}))))},rr=n(78),ar=l.hooks.useTokenName,ir=l.utils.formatNumber,or=l.utils.formatPct,ur=function(e){var t=ar(e.reserve.liquidityMint),n=ne(e.reserve.liquidityMint.toBase58()).price,r=Je(e.address),i=r.borrowingPower,o=r.totalInQuote,c=Object(oe.i)(e.reserve);return a.a.createElement(u.Link,{to:"/borrow/".concat(e.address.toBase58())},a.a.createElement("div",{className:"borrow-item"},a.a.createElement("span",{style:{display:"flex"}},a.a.createElement(l.TokenIcon,{mintAddress:e.reserve.liquidityMint}),t),a.a.createElement("div",null,"$",ir.format(n)),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,ir.format(i))," ",t),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",ir.format(o)))),a.a.createElement("div",null,or.format(c)),a.a.createElement("div",null,a.a.createElement(rr.a,{type:"primary"},a.a.createElement("span",null,Vt)))))},cr=(n(1175),function(){var e=de().reserveAccounts;return a.a.createElement("div",{className:"flexColumn"},a.a.createElement(qn.a,null,a.a.createElement("div",{className:"borrow-item deposit-header"},a.a.createElement("div",null,Zt),a.a.createElement("div",null,"Serum Dex Price"),a.a.createElement("div",null,bn),a.a.createElement("div",null,an),a.a.createElement("div",null)),e.map((function(e){return a.a.createElement(ur,{key:e.pubkey.toBase58(),reserve:e.info,address:e.pubkey})}))))}),lr=(n(1176),n(119)),sr=l.utils.LENDING_PROGRAM_ID;function dr(e,t,n,r){var a=new k.Account;return e.push(k.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:a.publicKey,lamports:n,space:Un.LendingObligationLayout.span,programId:sr})),r.push(a),a.publicKey}var fr=l.models.approve,mr=l.utils.toLamports,pr=l.utils.LENDING_PROGRAM_ID,vr=l.utils.LEND_HOST_FEE_ADDRESS,br=l.utils.notify,yr=l.contexts.Accounts,hr=yr.cache,gr=yr.MintParser,Er=l.contexts.Connection.sendTransaction,kr=l.actions.createTempMemoryAccount,wr=l.actions.createUninitializedAccount,Ar=l.actions.createUninitializedMint,Sr=l.actions.ensureSplAccount,Or=l.actions.findOrCreateAccountByMint,xr=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a,i,o,u,c,s){var d,m,b,y,h,g,E,w,A,S,O,x,M,P,T,C,B,N,j,I,D,L,W,R,q,K,U,F,V;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.publicKey){e.next=2;break}throw new l.WalletNotConnectedError;case 2:return br({message:"Borrowing funds...",description:"Please review transactions to approve.",type:"warn"}),d=[],m=[],b=[],y=[],e.next=9,k.PublicKey.findProgramAddress([u.info.lendingMarket.toBuffer()],pr);case 9:return h=e.sent,g=Object(v.a)(h,1),E=g[0],e.next=14,t.getMinimumBalanceForRentExemption(_.AccountLayout.span);case 14:if(w=e.sent,!c){e.next=19;break}e.t0=c.pubkey,e.next=27;break;case 19:return e.t1=dr,e.t2=m,e.t3=n.publicKey,e.next=24,t.getMinimumBalanceForRentExemption(Un.LendingObligationLayout.span);case 24:e.t4=e.sent,e.t5=d,e.t0=(0,e.t1)(e.t2,e.t3,e.t4,e.t5);case 27:if(A=e.t0,!c){e.next=32;break}e.t6=c.info.tokenMint,e.next=40;break;case 32:return e.t7=Ar,e.t8=m,e.t9=n.publicKey,e.next=37,t.getMinimumBalanceForRentExemption(_.MintLayout.span);case 37:e.t10=e.sent,e.t11=d,e.t6=(0,e.t7)(e.t8,e.t9,e.t10,e.t11);case 40:if(S=e.t6,O=s||wr(m,n.publicKey,w,d),s||m.push(Object(Un.initObligationInstruction)(u.pubkey,o.pubkey,A,S,O,n.publicKey,u.info.lendingMarket,E)),x=vr?Or(n.publicKey,vr,m,[],w,u.info.collateralMint,d):void 0,M=0,P=0,i!==Un.BorrowAmountType.LiquidityBorrowAmount){e.next=55;break}return T=r.info.amount.toNumber(),P=T-w,e.next=51,hr.query(t,o.info.liquidityMint,gr);case 51:C=e.sent,M=mr(a,null===C||void 0===C?void 0:C.info),e.next=61;break;case 55:if(i!==Un.BorrowAmountType.CollateralDepositAmount){e.next=61;break}return e.next=58,hr.query(t,u.info.collateralMint,gr);case 58:B=e.sent,M=mr(a,null===B||void 0===B?void 0:B.info),P=M;case 61:return N=Sr(m,y,r,n.publicKey,P+w,d),e.next=64,Or(n.publicKey,n.publicKey,m,y,w,o.info.liquidityMint,d);case 64:if(j=e.sent,!(m.length>0)){e.next=71;break}return e.next=68,Er(t,n,m,Object(p.a)(d));case 68:I=e.sent,D=I.txid,br({message:"Obligation accounts created",description:"Transaction ".concat(D),type:"success"});case 71:if(br({message:"Borrowing funds...",description:"Please review transactions to approve.",type:"warn"}),d=[],m=[],b=[].concat(y),L=fr(m,b,N,n.publicKey,P,!1),d.push(L),W=o.info.dexMarketOption?o.info.dexMarket:u.info.dexMarket,R=hr.get(W)){e.next=81;break}throw new Error("Dex market doesn't exist.");case 81:return q=hr.get(u.info.lendingMarket),K=q.info.quoteMint.equals(u.info.liquidityMint)?null===R||void 0===R?void 0:R.info.asks:null===R||void 0===R?void 0:R.info.bids,U=kr(m,n.publicKey,d,pr),m.push(Object(lr.b)(u.pubkey,o.pubkey)),m.push(Object(Un.borrowInstruction)(M,i,N,j,u.pubkey,u.info.collateralSupply,u.info.collateralFeesReceiver,o.pubkey,o.info.liquiditySupply,A,S,O,u.info.lendingMarket,E,L.publicKey,W,K,U,x)),e.prev=86,e.next=89,Er(t,n,m.concat(b),d,!0);case 89:F=e.sent,V=F.txid,br({message:"Funds borrowed.",type:"success",description:"Transaction - ".concat(V)}),e.next=98;break;case 94:throw e.prev=94,e.t12=e.catch(86),console.error(e.t12),new Error;case 98:case"end":return e.stop()}}),e,null,[[86,94]])})));return function(t,n,r,a,i,o,u,c,l){return e.apply(this,arguments)}}(),Mr=l.contexts.Connection.sendTransaction,Pr=l.utils.LENDING_PROGRAM_ID,_r=l.utils.notify,Tr=l.actions.createUninitializedAccount,Cr=l.actions.ensureSplAccount,Br=l.actions.findOrCreateAccountByMint,Nr=l.models.approve,jr=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a,i,o){var u,c,s,d,m,p,b,y,h,g,E,w,A;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.publicKey){e.next=2;break}throw new l.WalletNotConnectedError;case 2:return _r({message:"Depositing funds...",description:"Please review transactions to approve.",type:"warn"}),u=!0,c=[],s=[],d=[],e.next=9,i.getMinimumBalanceForRentExemption(_.AccountLayout.span);case 9:return m=e.sent,e.next=12,k.PublicKey.findProgramAddress([r.lendingMarket.toBuffer()],Pr);case 12:if(p=e.sent,b=Object(v.a)(p,1),y=b[0],h=Cr(s,d,t,o.publicKey,n+m,c),g=Nr(s,d,h,o.publicKey,n),c.push(g),!u){e.next=24;break}return e.next=21,Br(o.publicKey,o.publicKey,s,d,m,r.collateralMint,c);case 21:E=e.sent,e.next=25;break;case 24:E=Tr(s,o.publicKey,m,c);case 25:return u?(s.push(Object(oe.g)(a)),s.push(Object(oe.m)(n,h,E,r.lendingMarket,y,g.publicKey,a,r.liquiditySupply,r.collateralMint))):(80,s.push(Object(oe.p)(n,80,h,E,a,r.liquidityMint,r.liquiditySupply,r.collateralMint,r.collateralSupply,r.lendingMarket,y,g.publicKey,r.dexMarket))),e.prev=26,e.next=29,Mr(i,o,s.concat(d),c,!0);case 29:w=e.sent,A=w.txid,_r({message:"Funds deposited.",type:"success",description:"Transaction - ".concat(A)}),e.next=37;break;case 34:throw e.prev=34,e.t0=e.catch(26),new Error;case 37:case"end":return e.stop()}}),e,null,[[26,34]])})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}(),Ir=n(801),Dr=l.models.approve,Lr=l.actions.createTokenAccount,Wr=l.actions.findOrCreateAccountByMint,Rr=l.contexts.Connection.sendTransaction,qr=l.utils.LENDING_PROGRAM_ID,Kr=l.utils.TOKEN_PROGRAM_ID,Ur=l.utils.notify,Fr=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a,i,o,u,c){var s,d,m,p,b,y,h,g,E,w,A,S;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.publicKey){e.next=2;break}throw new l.WalletNotConnectedError;case 2:return Ur({message:"Repaying funds...",description:"Please review transactions to approve.",type:"warn"}),s=[],d=[],m=[],e.next=8,u.getMinimumBalanceForRentExemption(_.AccountLayout.span);case 8:return p=e.sent,e.next=11,k.PublicKey.findProgramAddress([i.info.lendingMarket.toBuffer()],qr);case 11:return b=e.sent,y=Object(v.a)(b,1),h=y[0],g=t.pubkey,c.publicKey.equals(g)&&i.info.liquidityMint.equals(_.NATIVE_MINT)&&(g=Lr(d,c.publicKey,p+n,_.NATIVE_MINT,c.publicKey,s),m.push(_.Token.createCloseAccountInstruction(Kr,g,c.publicKey,c.publicKey,[]))),E=Dr(d,m,g,c.publicKey,n),s.push(E),e.next=20,Wr(c.publicKey,c.publicKey,d,m,p,o.info.collateralMint,s);case 20:return w=e.sent,Dr(d,m,a.pubkey,c.publicKey,a.info.amount.toNumber(),!0,E.publicKey),d.push(Object(lr.b)(i.pubkey,o.pubkey)),d.push(Object(Ir.a)(n,g,w,i.pubkey,i.info.liquiditySupply,o.pubkey,o.info.collateralSupply,r.pubkey,r.info.tokenMint,a.pubkey,i.info.lendingMarket,h,E.publicKey)),e.next=26,Rr(u,c,d.concat(m),s,!0);case 26:A=e.sent,S=A.txid,Ur({message:"Funds repaid.",type:"success",description:"Transaction - ".concat(S)});case 29:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,u,c){return e.apply(this,arguments)}}(),Vr=n(17),Gr=l.models.approve,zr=l.actions.findOrCreateAccountByMint,Yr=l.contexts.Connection.sendTransaction,Hr=l.utils.LENDING_PROGRAM_ID,Qr=l.utils.notify,Xr=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a,i,o){var u,c,l,s,d,m,p,b,y,h,g,E;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.publicKey){e.next=2;break}throw new Vr.WalletNotConnectedError;case 2:return Qr({message:"Withdrawing funds...",description:"Please review transactions to approve.",type:"warn"}),u=[],c=[],l=[],e.next=8,i.getMinimumBalanceForRentExemption(_.AccountLayout.span);case 8:return s=e.sent,e.next=11,k.PublicKey.findProgramAddress([r.lendingMarket.toBuffer()],Hr);case 11:return d=e.sent,m=Object(v.a)(d,1),p=m[0],b=t.pubkey,y=Gr(c,l,b,o.publicKey,n),u.push(y),e.next=19,zr(o.publicKey,o.publicKey,c,l,s,r.liquidityMint,u);case 19:return h=e.sent,c.push(Object(oe.g)(a)),c.push(Object(oe.u)(n,b,h,a,r.collateralMint,r.liquiditySupply,r.lendingMarket,p,y.publicKey)),e.prev=22,e.next=25,Yr(i,o,c.concat(l),u,!0);case 25:g=e.sent,E=g.txid,Qr({message:"Funds deposited.",type:"success",description:"Transaction - ".concat(E)}),e.next=32;break;case 30:e.prev=30,e.t0=e.catch(22);case 32:case"end":return e.stop()}}),e,null,[[22,30]])})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}(),Jr=n(802),$r=l.contexts.Accounts.cache,Zr=l.models.approve,ea=l.actions.createTempMemoryAccount,ta=l.actions.ensureSplAccount,na=l.actions.findOrCreateAccountByMint,ra=l.contexts.Connection.sendTransaction,aa=l.utils.LENDING_PROGRAM_ID,ia=l.utils.notify,oa=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a,i,o,u){var c,s,d,m,p,b,y,h,g,E,w,A,S,O,x,M,P;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.publicKey){e.next=2;break}throw new l.WalletNotConnectedError;case 2:return ia({message:"Repaying funds...",description:"Please review transactions to approve.",type:"warn"}),c=[],s=[],d=[],e.next=8,t.getMinimumBalanceForRentExemption(_.AccountLayout.span);case 8:return m=e.sent,e.next=11,k.PublicKey.findProgramAddress([o.info.lendingMarket.toBuffer()],aa);case 11:return p=e.sent,b=Object(v.a)(p,1),y=b[0],h=ta(s,d,r,n.publicKey,a+m,c),g=Zr(s,d,h,n.publicKey,a),c.push(g),e.next=19,na(n.publicKey,n.publicKey,s,d,m,u.info.collateralMint,c);case 19:if(E=e.sent,w=o.info.dexMarketOption?o.info.dexMarket:u.info.dexMarket,A=$r.get(w)){e.next=24;break}throw new Error("Dex market doesn't exist.");case 24:return S=$r.get(u.info.lendingMarket),O=S.info.quoteMint.equals(o.info.liquidityMint)?null===A||void 0===A?void 0:A.info.asks:null===A||void 0===A?void 0:A.info.bids,x=ea(s,n.publicKey,c,aa),s.push(Object(lr.b)(o.pubkey,u.pubkey)),s.push(Object(Jr.a)(a,h,E,o.pubkey,o.info.liquiditySupply,u.pubkey,u.info.collateralSupply,i.pubkey,o.info.lendingMarket,y,g.publicKey,w,O,x)),e.next=31,ra(t,n,s.concat(d),c,!0);case 31:M=e.sent,P=M.txid,ia({message:"Funds liquidated.",type:"success",description:"Transaction - ".concat(P)});case 34:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,u){return e.apply(this,arguments)}}(),ua=(n(1177),n(125)),ca=(n(1178),l.utils.getTokenName),la=l.contexts.Accounts.cache,sa=l.contexts.Connection.useConnectionConfig,da=ua.a.Option;function fa(e){var t,n,i,o,u,c=be(e.reserve.liquidityMint).balance,s=de().reserveAccounts,d=sa().tokenMap,f=Object(r.useState)(),m=Object(v.a)(f,2),p=m[0],b=m[1],y=Object(r.useState)(0),h=Object(v.a)(y,2),g=h[0],E=h[1],k=Object(r.useState)(""),w=Object(v.a)(k,2),A=w[0],S=w[1],O=Ye();Object(r.useEffect)((function(){if(e.useWalletBalance)E(c);else{var t=la.byParser(Un.LendingReserveParser).find((function(e){return e===p}))||"",n=la.get(t);if(n){var r=O.userDeposits.find((function(e){return e.reserve.info.liquidityMint.toBase58()===n.info.liquidityMint.toBase58()}));E(r?r.info.amount:0)}}}),[p,O,c,e.useWalletBalance]);var x=la.get(e.reserve.lendingMarket);if(!x)return null;var M=!(null===(t=e.reserve)||void 0===t||null===(n=t.liquidityMint)||void 0===n?void 0:n.equals(null===x||void 0===x||null===(i=x.info)||void 0===i?void 0:i.quoteMint)),P=s.filter((function(t){return t.info!==e.reserve})).filter((function(e){return!M||e.info.liquidityMint.equals(x.info.quoteMint)}));if(!p&&e.useFirstReserve&&P.length){var _=P[0].pubkey.toBase58();b(_)}var T=P.map((function(e){var t=e.info.liquidityMint.toBase58(),n=e.pubkey.toBase58(),r=ca(d,t);return a.a.createElement(da,{key:n,value:n,name:r,title:n},a.a.createElement("div",{key:n,style:{display:"flex",alignItems:"center"}},a.a.createElement(l.TokenIcon,{mintAddress:t}),r))}));return a.a.createElement(qn.a,{className:"ccy-input",style:{borderRadius:20},bodyStyle:{padding:0}},a.a.createElement("div",{className:"ccy-input-header"},a.a.createElement("div",{className:"ccy-input-header-left"},e.title),!e.hideBalance&&a.a.createElement("div",{className:"ccy-input-header-right",onClick:function(t){return e.onInputChange&&e.onInputChange(g)}},"Balance: ",g.toFixed(6))),a.a.createElement("div",{className:"ccy-input-header",style:{padding:"0px 10px 5px 7px"}},a.a.createElement(l.NumericInput,{value:parseFloat(A||"0.00")===e.amount?A:null===(o=e.amount)||void 0===o||null===(u=o.toFixed(6))||void 0===u?void 0:u.toString(),onChange:function(t){e.onInputChange&&parseFloat(t)!==e.amount&&(t&&parseFloat(t)?e.onInputChange(parseFloat(t)):e.onInputChange(null)),S(t)},style:{fontSize:20,boxShadow:"none",borderColor:"transparent",outline:"transparent"},placeholder:"0.00"}),a.a.createElement("div",{className:"ccy-input-header-right",style:{display:"flex"}},e.showLeverageSelector&&a.a.createElement(ua.a,{size:"large",showSearch:!0,style:{width:80},placeholder:"CCY",value:e.leverage,onChange:function(t){e.onLeverage&&e.onLeverage(t)},notFoundContent:null,onSearch:function(t){e.onLeverage&&t.match(/^\d+$/)&&e.onLeverage(parseFloat(t))},filterOption:function(e,t){var n;return(null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))>=0}},[1,2,3,4,5].map((function(e){return a.a.createElement(da,{key:e,value:e,name:e+"x",title:e+"x"},a.a.createElement("div",{key:e,style:{display:"flex",alignItems:"center"}},e+"x"))}))),e.disabled?a.a.createElement(l.TokenDisplay,{key:e.reserve.liquidityMint.toBase58(),name:ca(d,e.reserve.liquidityMint.toBase58()),mintAddress:e.reserve.liquidityMint.toBase58(),showBalance:!1}):a.a.createElement(ua.a,{size:"large",showSearch:!0,style:{minWidth:150},placeholder:"CCY",value:p,onChange:function(t){e.onCollateralReserve&&e.onCollateralReserve(t),b(t)},filterOption:function(e,t){var n;return(null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))>=0}},T))))}var ma,pa=n(772),va=(n(1179),function(e){return a.a.createElement(pa.a,{className:"risk-slider",marks:Nn,value:e.value,included:!1})}),ba=l.contexts.Connection.useConnection,ya=l.contexts.Accounts.cache,ha=function(e){var t,n,i=ba(),o=Object(l.useWallet)(),u=Object(r.useState)(""),c=Object(v.a)(u,2),s=c[0],d=c[1],p=Object(r.useState)("collateral"),b=Object(v.a)(p,2),y=b[0],h=b[1],g=Object(r.useState)(!1),E=Object(v.a)(g,2),k=E[0],w=E[1],A=Object(r.useState)(!1),S=Object(v.a)(A,2),O=S[0],x=S[1],M=e.reserve,P=Object(r.useState)(),_=Object(v.a)(P,2),T=_[0],C=_[1],B=Object(r.useMemo)((function(){var e=ya.byParser(Un.LendingReserveParser).find((function(e){return e===T}))||"";return ya.get(e)}),[T]),N=ne(M.info.liquidityMint.toBase58()).price,j=null===(t=ne(null===B||void 0===B?void 0:B.info.liquidityMint.toBase58()))||void 0===t?void 0:t.price,I=Object(r.useMemo)((function(){return new Set([null===B||void 0===B?void 0:B.pubkey.toBase58()])}),[B]),D=(null===(n=Ye(Object(r.useMemo)((function(){return new Set([])}),[]),I).userDeposits[0])||void 0===n?void 0:n.info.amount)||0,L=Object(r.useCallback)((function(e){var t=Math.min(D,1/0);return"string"===typeof e?parseFloat(e)/t*100:e*t/100}),[D]),W=He(L),R=W.value,q=W.setValue,K=W.pct;Object(r.useEffect)((function(){if(B&&"collateral"===y){var e=M.info.config.loanToValueRatio/100;if(s){var t=parseFloat(s);q((t*j*e/N).toString())}else q("")}}),[y,B,j,N,M,s,q]),Object(r.useEffect)((function(){if(B&&"borrow"===y){var e=M.info.config.loanToValueRatio/100;if(R){var t=parseFloat(R);d((t*N/e/j).toString())}else d("")}}),[y,B,j,N,M,R]);var U=Be(null===M||void 0===M?void 0:M.pubkey,null===B||void 0===B?void 0:B.pubkey).userObligationsByReserve,F=be(null===B||void 0===B?void 0:B.info.collateralMint).accounts,V=Object(r.useCallback)((function(){B&&(w(!0),Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xr(i,o,F[0],parseFloat(R),Un.BorrowAmountType.LiquidityBorrowAmount,M,B,U.length>0?U[0].obligation.account:void 0,U.length>0?U[0].userAccounts[0].pubkey:void 0);case 3:q(""),d(""),x(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,w(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})))())}),[i,o,R,q,B,M,F,U,w,x]);return a.a.createElement(qn.a,{className:e.className,bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},O?a.a.createElement(l.ActionConfirmation,{onClose:function(){return x(!1)}}):a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},a.a.createElement("div",{className:"borrow-input-title"},Ft),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},a.a.createElement(fa,{title:"Collateral (estimated)",reserve:M.info,amount:parseFloat(s)||0,onInputChange:function(e){d((null===e||void 0===e?void 0:e.toString())||""),h("collateral")},onCollateralReserve:function(e){C(e)},useFirstReserve:!0})),a.a.createElement(va,{value:K}),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginBottom:20}},a.a.createElement(fa,{title:"Borrow Amount",reserve:M.info,amount:parseFloat(R)||0,onInputChange:function(e){q((null===e||void 0===e?void 0:e.toString())||""),h("borrow")},disabled:!0,hideBalance:!0})),a.a.createElement(l.ConnectButton,{size:"large",type:"primary",onClick:V,loading:k,disabled:0===F.length},0===F.length?Gt:Vt),a.a.createElement(l.BackButton,null)))},ga=n(773),Ea=l.utils.formatNumber,ka=l.utils.formatPct,wa=l.utils.fromLamports,Aa=l.contexts.Accounts.useMint,Sa=l.hooks.useTokenName,Oa=ga.a.Text;!function(e){e.Deposit="deposit",e.Borrow="borrow"}(ma||(ma={}));var xa=function(e){var t=e.reserve.info,n=e.mode,r=Sa(null===t||void 0===t?void 0:t.liquidityMint),i=Aa(t.liquidityMint),o=wa(t.state.availableLiquidity,i),c=Object(oe.j)(t),s=Object(oe.i)(t),d=Object(oe.k)(t),f=t.config.liquidationThreshold/100,m=t.config.liquidationBonus/100,p=t.config.loanToValueRatio/100,v=null;return n===ma.Deposit?v=a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"card-row"},a.a.createElement(Oa,{type:"secondary",className:"card-cell "},ln,":"),a.a.createElement("div",{className:"card-cell "},ka.format(c))),a.a.createElement("div",{className:"card-row"},a.a.createElement(Oa,{type:"secondary",className:"card-cell "},"Maximum LTV:"),a.a.createElement("div",{className:"card-cell "},ka.format(p))),a.a.createElement("div",{className:"card-row"},a.a.createElement(Oa,{type:"secondary",className:"card-cell "},"Liquidation threshold:"),a.a.createElement("div",{className:"card-cell "},ka.format(f))),a.a.createElement("div",{className:"card-row"},a.a.createElement(Oa,{type:"secondary",className:"card-cell "},"Liquidation penalty:"),a.a.createElement("div",{className:"card-cell "},ka.format(m)))):n===ma.Borrow&&(v=a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"card-row"},a.a.createElement(Oa,{type:"secondary",className:"card-cell "},cn,":"),a.a.createElement("div",{className:"card-cell "},ka.format(s))))),a.a.createElement(qn.a,{className:e.className,title:a.a.createElement("div",{style:{display:"flex",alignItems:"center",fontSize:"1.2rem",justifyContent:"center"}},a.a.createElement(u.Link,{to:"/reserve/".concat(e.reserve.pubkey)},a.a.createElement(l.TokenIcon,{mintAddress:null===t||void 0===t?void 0:t.liquidityMint,style:{width:30,height:30}})," ",r," Reserve Overview"))},a.a.createElement("div",{className:"card-row"},a.a.createElement(Oa,{type:"secondary",className:"card-cell "},"Utilization rate:"),a.a.createElement("div",{className:"card-cell "},ka.format(d))),a.a.createElement("div",{className:"card-row"},a.a.createElement(Oa,{type:"secondary",className:"card-cell "},"Available liquidity:"),a.a.createElement("div",{className:"card-cell "},Ea.format(o)," ",r)),v)},Ma=function(){var e=Object(c.m)().id,t=fe(e),n=Ce(),r=n.userObligations,i=n.totalInQuote,o=Je(e),u=o.totalInQuote,l=o.utilization;return t?a.a.createElement("div",{className:"borrow-reserve"},a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:Et,value:i,precision:2,prefix:"$"}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:ht,value:100*l,precision:2,suffix:"%"}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:gt,value:u,valueStyle:{color:"#3fBB00"},precision:2,prefix:"$"}))),a.a.createElement(Rn.a,{xs:24,xl:9},a.a.createElement(qn.a,null,a.a.createElement(Xn,{title:"Your Loans",items:r,getPct:function(e){return e.obligation.info.borrowedInQuote/i},name:function(e){return e.obligation.info.repayName}})))),a.a.createElement(Wn.a,{gutter:jn,style:{flex:1}},a.a.createElement(Rn.a,{xs:24,xl:15},a.a.createElement(ha,{className:"card-fill",reserve:t})),a.a.createElement(Rn.a,{xs:24,xl:9},a.a.createElement(xa,{className:"card-fill",reserve:t,mode:ma.Borrow})))):null},Pa=l.hooks.useTokenName,_a=l.utils.wadToLamports,Ta=l.utils.formatNumber,Ca=l.utils.fromLamports,Ba=l.utils.formatPct,Na=l.contexts.Accounts,ja=Na.cache,Ia=Na.useMint,Da=function(e){var t=e.obligation,n=ja.get(t.info.borrowReserve),i=ja.get(t.info.collateralReserve),o=Ia(n.info.liquidityMint),c=Ia(i.info.liquidityMint),s=Ca(_a(t.info.borrowAmountWad),o),d=Object(r.useMemo)((function(){return Object(oe.i)(n.info)}),[n]),f=Object(oe.l)(t.info.depositedCollateral,n.info),m=Ca(f,c),p=Pa(null===n||void 0===n?void 0:n.info.liquidityMint),v=Pa(null===i||void 0===i?void 0:i.info.liquidityMint);return a.a.createElement("div",{className:"dashboard-item"},a.a.createElement("span",{style:{display:"flex",marginLeft:5}},a.a.createElement("div",{style:{display:"flex"},title:"".concat(v,"\u2192").concat(p)},a.a.createElement(l.TokenIcon,{mintAddress:null===i||void 0===i?void 0:i.info.liquidityMint,style:{marginRight:"-0.5rem"}}),a.a.createElement(l.TokenIcon,{mintAddress:null===n||void 0===n?void 0:n.info.liquidityMint}))),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,Ta.format(s))," ",p),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",Ta.format(t.info.borrowedInQuote)))),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,Ta.format(m))," ",v),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",Ta.format(t.info.collateralInQuote)))),a.a.createElement("div",null,Ba.format(d)),a.a.createElement("div",{style:{color:Object(oe.n)(t.info.health)}},Ba.format(t.info.ltv/100)),a.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},a.a.createElement(u.Link,{to:"/borrow/".concat(n.pubkey.toBase58())},a.a.createElement(rr.a,{type:"primary"},a.a.createElement("span",null,"Borrow"))),a.a.createElement(u.Link,{to:"/repay/loan/".concat(t.account.pubkey.toBase58())},a.a.createElement(rr.a,{type:"text"},a.a.createElement("span",null,"Repay")))))},La=function(){var e=Ce(),t=e.userObligations,n=e.totalInQuote;return a.a.createElement(qn.a,{title:a.a.createElement("div",{className:"dashboard-title"},a.a.createElement("div",null,yn),a.a.createElement("div",null,a.a.createElement("span",null,An,": "),"$",l.utils.formatNumber.format(n)))},a.a.createElement(Xn,{items:t,getPct:function(e){return e.obligation.info.borrowedInQuote/n},name:function(e){return e.obligation.info.repayName}}),a.a.createElement("div",{className:"dashboard-item dashboard-header"},a.a.createElement("div",null,Zt),a.a.createElement("div",null,en),a.a.createElement("div",null,nn),a.a.createElement("div",null,an),a.a.createElement("div",null,on),a.a.createElement("div",null)),t.map((function(e){return a.a.createElement(Da,{key:e.obligation.account.pubkey.toBase58(),obligation:e.obligation})})))},Wa=l.hooks.useTokenName,Ra=l.utils.formatNumber,qa=l.utils.formatPct,Ka=function(e){var t=e.userDeposit,n=t.reserve,i=t.info,o=n.info.liquidityMint,c=Wa(o),s=Object(r.useMemo)((function(){return Object(oe.j)(n.info)}),[n]);return a.a.createElement("div",{className:"dashboard-item"},a.a.createElement("span",{style:{display:"flex"}},a.a.createElement(l.TokenIcon,{mintAddress:o}),c),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,Ra.format(i.amount))," ",c),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",Ra.format(i.amountInQuote)))),a.a.createElement("div",null,qa.format(s)),a.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},a.a.createElement(u.Link,{to:"/deposit/".concat(n.pubkey.toBase58())},a.a.createElement(rr.a,{type:"primary"},a.a.createElement("span",null,wn))),a.a.createElement(u.Link,{to:"/withdraw/".concat(n.pubkey.toBase58())},a.a.createElement(rr.a,{type:"text"},a.a.createElement("span",null,En)))))},Ua=function(){var e=Ye(),t=e.userDeposits,n=e.totalInQuote;return a.a.createElement(qn.a,{title:a.a.createElement("div",{className:"dashboard-title"},a.a.createElement("div",null,hn),a.a.createElement("div",null,a.a.createElement("span",null,An,": "),"$",l.utils.formatNumber.format(n)))},a.a.createElement(Xn,{items:t,getPct:function(e){return e.info.amountInQuote/n},name:function(e){return e.info.name}}),a.a.createElement("div",{className:"dashboard-item dashboard-header"},a.a.createElement("div",null,Zt),a.a.createElement("div",null,rn),a.a.createElement("div",null,an),a.a.createElement("div",null)),t.map((function(e){return a.a.createElement(Ka,{key:e.account.pubkey.toBase58(),userDeposit:e})})))},Fa=(n(1180),function(){return a.a.createElement(qn.a,{bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},a.a.createElement("strong",null,Yt),a.a.createElement("br",null),a.a.createElement("p",null,Ht),a.a.createElement(u.Link,{to:"/borrow"},a.a.createElement(rr.a,{type:"primary",size:"large"},a.a.createElement("span",null,Qt)))))}),Va=function(){var e=Object(l.useWallet)().connected,t=Ce().userObligations,n=Ye().userDeposits;return a.a.createElement("div",{className:"dashboard-container"},e?0===n.length&&0===t.length?a.a.createElement("div",{className:"dashboard-info"},a.a.createElement("img",{src:"splash.svg",alt:"connect your wallet",className:"dashboard-splash"}),Nt):a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{md:24,xl:12,span:24},n.length>0?a.a.createElement(Ua,null):a.a.createElement(qn.a,null,zt)),a.a.createElement(Rn.a,{md:24,xl:12,span:24},t.length>0?a.a.createElement(La,null):a.a.createElement(Fa,null))):a.a.createElement("div",{className:"dashboard-info"},a.a.createElement("img",{src:"splash.svg",alt:"connect your wallet",className:"dashboard-splash"}),Bt))},Ga=l.utils.formatNumber,za=l.utils.formatPct,Ya=l.hooks.useTokenName,Ha=function(e){var t=Ya(e.reserve.liquidityMint),n=be(e.reserve.liquidityMint),r=n.balance,i=n.balanceInUSD,o=ge(e.reserve),c=o.balance,s=o.balanceInUSD,d=Object(oe.j)(e.reserve);return a.a.createElement(u.Link,{to:"/deposit/".concat(e.address.toBase58())},a.a.createElement("div",{className:"deposit-item"},a.a.createElement("span",{style:{display:"flex"}},a.a.createElement(l.TokenIcon,{mintAddress:e.reserve.liquidityMint}),t),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,Ga.format(r))," ",t),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",Ga.format(i)))),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,Ga.format(c))," ",t),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",Ga.format(s)))),a.a.createElement("div",null,za.format(d)),a.a.createElement("div",null,a.a.createElement(rr.a,{type:"primary"},a.a.createElement("span",null,wn)))))},Qa=(n(1181),function(){var e=de().reserveAccounts;return a.a.createElement("div",{className:"flexColumn"},a.a.createElement(qn.a,null,a.a.createElement("div",{className:"deposit-item deposit-header"},a.a.createElement("div",null,"Asset"),a.a.createElement("div",null,"Your wallet balance"),a.a.createElement("div",null,"Your balance in Oyster"),a.a.createElement("div",null,"APY"),a.a.createElement("div",null)),e.map((function(e){return a.a.createElement(Ha,{key:e.pubkey.toBase58(),reserve:e.info,address:e.pubkey})}))))}),Xa=(n(1182),n(1183),l.contexts.Connection.useConnection),Ja=function(e){var t=Xa(),n=Object(l.useWallet)(),i=Object(r.useState)(!1),o=Object(v.a)(i,2),u=o[0],c=o[1],s=Object(r.useState)(!1),d=Object(v.a)(s,2),p=d[0],b=d[1],y=e.reserve,h=e.address,g=be(null===y||void 0===y?void 0:y.liquidityMint),E=g.accounts,k=g.balance,w=g.balanceLamports,A=Object(r.useCallback)((function(e){return"string"===typeof e?parseFloat(e)/k*100:e*k/100}),[k]),S=He(A),O=S.value,x=S.setValue,M=S.pct,P=S.setPct,_=S.type,T=Object(r.useCallback)((function(){c(!0),Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jr(E[0],_===Ke.Percent?M*w/100:Math.ceil(w*(parseFloat(O)/k)),y,h,t,n);case 3:x(""),b(!0),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,c(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})))()}),[t,x,w,k,n,O,M,_,y,E,h]);return a.a.createElement(qn.a,{className:e.className,bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},p?a.a.createElement(l.ActionConfirmation,{onClose:function(){return b(!1)}}):a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},a.a.createElement("div",{className:"deposit-input-title"},gn),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},a.a.createElement(fa,{title:"Amount",reserve:y,amount:parseFloat(O)||0,onInputChange:function(e){x((null===e||void 0===e?void 0:e.toString())||"")},disabled:!0,hideBalance:!0})),a.a.createElement(pa.a,{marks:Bn,value:M,onChange:P}),a.a.createElement(l.ConnectButton,{size:"large",type:"primary",onClick:T,loading:u,disabled:0===E.length},wn)))},$a=(n(1184),l.utils.formatNumber),Za=l.utils.formatPct,ei=l.hooks.useTokenName,ti=function(e){var t=ei(e.reserve.liquidityMint),n=be(e.reserve.liquidityMint).balance,i=ge(e.reserve).balance,o=Object(r.useMemo)((function(){return Object(oe.j)(e.reserve)}),[e.reserve]);return a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,{className:e.className},a.a.createElement(Kn.a,{title:"Your balance in Oyster",value:$a.format(i),suffix:t}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,{className:e.className},a.a.createElement(Kn.a,{title:"Your wallet balance",value:$a.format(n),suffix:t}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,{className:e.className},a.a.createElement(Kn.a,{title:"Health Factor",value:"--"}))),a.a.createElement(Rn.a,{xs:24,xl:9},a.a.createElement(qn.a,{className:e.className},a.a.createElement(Kn.a,{title:"APY",value:Za.format(o)}))))},ni=function(){var e=fe(Object(c.m)().id),t=null===e||void 0===e?void 0:e.info;return t&&e?a.a.createElement("div",{className:"borrow-reserve"},a.a.createElement(ti,{className:"card-fill",reserve:t,address:e.pubkey}),a.a.createElement(Wn.a,{gutter:jn,style:{flex:1}},a.a.createElement(Rn.a,{xs:24,xl:15},a.a.createElement(Ja,{className:"card-fill",reserve:t,address:e.pubkey})),a.a.createElement(Rn.a,{xs:24,xl:9},a.a.createElement(xa,{className:"card-fill",reserve:e,mode:ma.Deposit})))):null},ri=(n(1185),l.hooks.useTokenName),ai=l.utils.formatNumber,ii=ga.a.Text,oi=function(e){var t=e.reserve,n=e.address,i=ri(null===t||void 0===t?void 0:t.liquidityMint),o=be(e.reserve.liquidityMint),c=o.balance,l=o.balanceInUSD,s=ge(e.reserve),d=s.balance,p=s.balanceInUSD,b=function(e){var t=We(),n=Be(e).userObligationsByReserve,a=Object(r.useState)({borrowedLamports:0,borrowedInUSD:0,colateralInUSD:0,ltv:0,health:0}),i=Object(v.a)(a,2),o=i[0],u=i[1],c=fe(e),l=Le(null===c||void 0===c?void 0:c.info.liquidityMint);return Object(r.useEffect)((function(){u({borrowedLamports:0,borrowedInUSD:0,colateralInUSD:0,ltv:0,health:0}),Object(m.a)(f.a.mark((function e(){var r,a,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t,n.map((function(e){return e.obligation.info.tokenMint.toBase58()})),"single");case 2:r=e.sent,a=r.keys,r.array.forEach((function(e,t){var n=a[t];je.add(new k.PublicKey(n),e,De)})),i={borrowedLamports:0,borrowedInUSD:0,colateralInUSD:0,ltv:0,health:0},o=0,n.forEach((function(e){var t=qe(e.obligation.info.borrowAmountWad).toNumber(),n=e.userAccounts.reduce((function(e,t){return e+t.info.amount.toNumber()}),0),r=je.get(e.obligation.info.tokenMint);i.borrowedLamports+=t*(n/(null===r||void 0===r?void 0:r.info.supply.toNumber())),i.borrowedInUSD+=e.obligation.info.borrowedInQuote,i.colateralInUSD+=e.obligation.info.collateralInQuote,o=e.obligation.info.liquidationThreshold}),0),1===n.length?(i.ltv=n[0].obligation.info.ltv,i.health=n[0].obligation.info.health):(i.ltv=100*i.borrowedInUSD/i.colateralInUSD,i.health=i.colateralInUSD*o/100/i.borrowedInUSD,i.health=Number.isFinite(i.health)?i.health:0),u(i);case 11:case"end":return e.stop()}}),e)})))()}),[t,n,u]),Object(w.a)({borrowed:Re(o.borrowedLamports,l)},o)}(n),y=b.borrowed,h=b.borrowedInUSD,g=b.ltv,E=b.health,A=Je(n),S=A.totalInQuote,O=A.borrowingPower,x=Be(n).userObligationsByReserve;return a.a.createElement(qn.a,{className:e.className,title:a.a.createElement("div",{style:{display:"flex",alignItems:"center",fontSize:"1.2rem",justifyContent:"center"}},"Your Information")},a.a.createElement("h3",null,Dt),a.a.createElement("div",{className:"card-row"},a.a.createElement(ii,{type:"secondary",className:"card-cell "},"Borrowed"),a.a.createElement("div",{className:"card-cell "},a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,ai.format(y))," ",i),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",ai.format(h))))),a.a.createElement("div",{className:"card-row"},a.a.createElement(ii,{type:"secondary",className:"card-cell "},un,":"),a.a.createElement("div",{className:"card-cell "},E.toFixed(2))),a.a.createElement("div",{className:"card-row"},a.a.createElement(ii,{type:"secondary",className:"card-cell "},Lt,":"),a.a.createElement("div",{className:"card-cell "},ai.format(g))),a.a.createElement("div",{className:"card-row"},a.a.createElement(ii,{type:"secondary",className:"card-cell "},"Available to you:"),a.a.createElement("div",{className:"card-cell "},a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,ai.format(O))," ",i),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",ai.format(S))))),a.a.createElement("h3",null,It),a.a.createElement("div",{className:"card-row"},a.a.createElement(ii,{type:"secondary",className:"card-cell "},Ut,":"),a.a.createElement("div",{className:"card-cell "},a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,ai.format(c))," ",i),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",ai.format(l))))),a.a.createElement("div",{className:"card-row"},a.a.createElement(ii,{type:"secondary",className:"card-cell "},"You already deposited:"),a.a.createElement("div",{className:"card-cell "},a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,ai.format(d))," ",i),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",ai.format(p))))),a.a.createElement("div",{className:"card-row",style:{marginTop:20,justifyContent:"space-evenly"}},a.a.createElement(u.Link,{to:"/deposit/".concat(n)},a.a.createElement(rr.a,null,wn)),a.a.createElement(u.Link,{to:"/borrow/".concat(n)},a.a.createElement(rr.a,null,Vt)),a.a.createElement(u.Link,{to:"/withdraw/".concat(n)},a.a.createElement(rr.a,null,En)),!!x.length&&a.a.createElement(u.Link,{to:"/repay/loan/".concat(x[0].obligation.account.pubkey.toBase58())},a.a.createElement(rr.a,null,xt))))},ui=(n(1186),n(1187),function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),i=Object(r.useState)(1),o=Object(v.a)(i,2),u=o[0],c=o[1],l=e.percent,s=e.title,d=e.style,f=e.color,m=e.showPercent,p=d.height,b=Object(r.useCallback)((function(){var e,t=(null===(e=n.current)||void 0===e?void 0:e.parentNode).offsetWidth;c(t<p?t/p:1)}),[p]);return Object(r.useEffect)((function(){return b(),window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}}),[b]),Object(r.useEffect)((function(){var e=0;return ci(t.current,l,(function(t){e=t}),f),function(){cancelAnimationFrame(e)}}),[l,f]),a.a.createElement("div",{className:"waterWave",ref:n,style:{transform:"scale(".concat(u,")")}},a.a.createElement("div",{style:{width:p,height:p,overflow:"hidden"}},a.a.createElement("canvas",{className:"waterWaveCanvasWrapper",ref:t,width:2*p,height:2*p})),a.a.createElement("div",{className:"text",style:{width:p}},s,a.a.createElement("h4",null,m&&"".concat(l.toFixed(2),"%"))))}),ci=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#1890FF",a=t/100;if(e&&a){var i=e.getContext("2d");if(i){var o=e.width,u=e.height,c=o/2,l=2,s=c-l;i.beginPath(),i.lineWidth=2*l;var d=o-l,f=d/8,m=.2,p=m,v=l,b=0,y=0,h=.005,g=c-l,E=-Math.PI/2,k=!0,w=[c+g*Math.cos(E),c+g*Math.sin(E)];i.strokeStyle=r,i.moveTo(w[0],w[1]);var A=function(){i.beginPath(),i.save();for(var e=[],t=v;t<=v+d;t+=20/d){var n=b+(v+t)/f,r=Math.sin(n)*p,a=t,o=2*s*(1-y)+(c-s)-f*r;i.lineTo(a,o),e.push([a,o])}var l=e.shift();if(l){i.lineTo(v+d,u),i.lineTo(v,u),i.lineTo(l[0],l[1]);var m=i.createLinearGradient(0,0,0,u);m.addColorStop(0,"#ffffff"),m.addColorStop(1,"#1890FF"),i.fillStyle=m,i.fill(),i.restore()}},S=function e(){if(i.clearRect(0,0,o,u),k)k=!1,i.globalCompositeOperation="destination-over",i.beginPath(),i.save(),i.arc(c,c,c-3*l,0,2*Math.PI,!0),i.stroke(),i.restore(),i.clip(),i.fillStyle="#1890FF";else{if(a>=.85){if(p>m/4)p-=.01*m}else if(a<=.1){if(p<1.5*m)p+=.01*m}else{if(p<=m)p+=.01*m;if(p>=m)p-=.01*m}a-y>0&&(y+=h),a-y<0&&(y-=h),b+=.07,A()}n(requestAnimationFrame(e))};S()}}},li=l.utils.fromLamports,si=l.utils.wadToLamports,di=l.contexts.Accounts.useMint,fi=function(e){var t,n=null===(t=e.reserve.liquidityMint)||void 0===t?void 0:t.toBase58(),i=di(n),o=li(e.reserve.state.availableLiquidity,i),u=Object(r.useMemo)((function(){return li(si(e.reserve.state.borrowedLiquidityWad),i)}),[e.reserve,i]),c=100*u/(o+u);return a.a.createElement(ui,{style:{height:300},showPercent:!1,title:a.a.createElement(Kn.a,{title:"Utilization",value:c,suffix:"%",precision:2}),percent:c})},mi=l.utils.formatNumber,pi=l.utils.fromLamports,vi=l.utils.wadToLamports,bi=l.contexts.Accounts.useMint,yi=function(e){var t,n=null===(t=e.reserve.liquidityMint)||void 0===t?void 0:t.toBase58(),i=bi(n),o=ne(n).price,u=pi(e.reserve.state.availableLiquidity,i),c=o*u,s=Object(r.useMemo)((function(){return pi(vi(e.reserve.state.borrowedLiquidityWad),i)}),[e.reserve,i]),d=o*s,f=Object(r.useMemo)((function(){return Object(oe.j)(e.reserve)}),[e.reserve]),m=e.reserve.config.liquidationThreshold,p=e.reserve.config.liquidationBonus,v=e.reserve.config.loanToValueRatio;return a.a.createElement(qn.a,{className:e.className,title:a.a.createElement(a.a.Fragment,null,a.a.createElement(l.TokenIcon,{style:{marginRight:0,marginTop:0,position:"absolute",left:15},mintAddress:n,size:30}),Mt),bodyStyle:{display:"flex",justifyContent:"center",alignItems:"center"}},a.a.createElement("div",{className:"flexColumn"},a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{span:12},a.a.createElement(Kn.a,{title:"Available Liquidity",value:u,valueRender:function(e){return a.a.createElement("div",null,e,a.a.createElement("div",{className:"dashboard-amount-quote-stat"},"$",mi.format(c)))},precision:2})),a.a.createElement(Rn.a,{span:12},a.a.createElement(Kn.a,{title:"Total Borrowed",value:s,valueRender:function(e){return a.a.createElement("div",null,e,a.a.createElement("div",{className:"dashboard-amount-quote-stat"},"$",mi.format(d)))},precision:2}))),a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{span:24,style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},a.a.createElement(fi,{reserve:e.reserve}))),a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{span:6},a.a.createElement(Kn.a,{title:mn,className:"small-statisitc",value:v,precision:2,suffix:"%"})),a.a.createElement(Rn.a,{span:6},a.a.createElement(Kn.a,{title:pn,className:"small-statisitc",value:m,precision:2,suffix:"%"})),a.a.createElement(Rn.a,{span:6},a.a.createElement(Kn.a,{title:vn,className:"small-statisitc",value:p,precision:2,suffix:"%"})),a.a.createElement(Rn.a,{span:6},a.a.createElement(Kn.a,{title:ln,className:"small-statisitc",value:100*f,precision:2,suffix:"%"})))))},hi=function(){var e=fe(Object(c.m)().id),t=null===e||void 0===e?void 0:e.info;return t&&e?a.a.createElement("div",{className:"flexColumn"},a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{sm:24,md:12,lg:14,xl:15,xxl:18},a.a.createElement(yi,{reserve:t,address:e.pubkey})),a.a.createElement(Rn.a,{sm:24,md:12,lg:10,xl:9,xxl:6},a.a.createElement(oi,{className:"user-lending-card",reserve:t,address:e.pubkey})))):null},gi=(n(1188),n(1189),l.contexts.Connection.useConnection),Ei=function(e){var t=gi(),n=Object(l.useWallet)(),i=Object(r.useState)(!1),o=Object(v.a)(i,2),u=o[0],c=o[1],s=Object(r.useState)(!1),d=Object(v.a)(s,2),p=d[0],b=d[1],y=e.reserve,h=e.address,g=be(null===y||void 0===y?void 0:y.collateralMint),E=g.balanceLamports,k=g.accounts,w=ge(y).balance,A=Object(r.useCallback)((function(e){return"string"===typeof e?parseFloat(e)/w*100:e*w/100}),[w]),S=He(A),O=S.value,x=S.setValue,M=S.pct,P=S.setPct,_=S.type,T=Object(r.useCallback)((function(){c(!0),Object(m.a)(f.a.mark((function e(){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Math.min(_===Ke.Percent?M*E/100:Math.ceil(E*(parseFloat(O)/w)),E),e.next=4,Xr(k[0],r,y,h,t,n);case 4:x(""),b(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return e.prev=10,c(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,8,10,13]])})))()}),[h,w,E,t,k,M,y,x,_,O,n]);return a.a.createElement(qn.a,{className:e.className,bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},p?a.a.createElement(l.ActionConfirmation,{onClose:function(){return b(!1)}}):a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},a.a.createElement("div",{className:"withdraw-input-title"},kn),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},a.a.createElement(fa,{title:"Amount",reserve:y,amount:parseFloat(O)||0,onInputChange:function(e){x((null===e||void 0===e?void 0:e.toString())||"")},disabled:!0,hideBalance:!0})),a.a.createElement(pa.a,{marks:Bn,value:M,onChange:P}),a.a.createElement(l.ConnectButton,{size:"large",type:"primary",onClick:T,loading:u,disabled:0===k.length},0===k.length?Gt:En)))},ki=function(){var e=fe(Object(c.m)().id),t=null===e||void 0===e?void 0:e.info;return t&&e?a.a.createElement("div",{className:"deposit-reserve"},a.a.createElement(ti,{className:"deposit-reserve-item",reserve:t,address:e.pubkey}),a.a.createElement("div",{className:"deposit-reserve-container"},a.a.createElement(Ei,{className:"deposit-reserve-item deposit-reserve-item-left",reserve:t,address:e.pubkey}),a.a.createElement(xa,{className:"deposit-reserve-item deposit-reserve-item-right",reserve:e,mode:ma.Deposit}))):null},wi=l.contexts.Connection.useConnection,Ai=l.utils.notify,Si=function(){var e=wi(),t=Object(l.useWallet)().publicKey,n=Object(r.useCallback)((function(){t&&e.requestAirdrop(t,2*k.LAMPORTS_PER_SOL).then((function(){Ai({message:St,type:"success"})}))}),[t,e]);return a.a.createElement("div",{className:"flexColumn",style:{flex:1}},a.a.createElement(qn.a,{title:"Faucet",bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"},style:{flex:1}},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}},a.a.createElement("div",{className:"deposit-input-title",style:{margin:10}},At),a.a.createElement(l.ConnectButton,{type:"primary",onClick:n},kt))))},Oi=(n(1190),l.utils.notify),xi=l.utils.fromLamports,Mi=l.utils.wadToLamports,Pi=l.contexts.Connection.useConnection,_i=l.contexts.Accounts.useMint,Ti=l.hooks.useAccountByMint,Ci=function(e){var t,n=Pi(),i=Object(l.useWallet)(),o=Object(r.useState)("repay"),u=Object(v.a)(o,2),c=u[0],s=u[1],d=Object(r.useState)(!1),p=Object(v.a)(d,2),b=p[0],y=p[1],h=Object(r.useState)(!1),g=Object(v.a)(h,2),E=g[0],k=g[1],w=Object(r.useState)(""),A=Object(v.a)(w,2),S=A[0],O=A[1],x=e.borrowReserve,M=e.obligation,P=_i(x.info.liquidityMint),_=be(x.info.liquidityMint).balance,T=Mi(M.info.borrowAmountWad).toNumber(),C=xi(T,P),B=e.collateralReserve,N=be(x.info.liquidityMint).accounts,j=Ti(null===M||void 0===M?void 0:M.info.tokenMint),I=Object(r.useCallback)((function(e){var t=Math.min(_||1/0,C);return s("repay"),"string"===typeof e?parseFloat(e)/t*100:e*t/100}),[C,_]),D=He(I),L=D.value,W=D.setValue,R=D.pct,q=D.setPct,K=D.type,U=Object(r.useCallback)((function(){B&&M&&x&&j&&(y(!0),Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=K===Ke.Percent?R*T/100:Math.ceil(T*(parseFloat(L)/C)),e.next=4,Fr(N[0],t,M.account,j,x,B,n,i);case 4:W(""),O(""),k(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Oi({message:"Unable to repay loan.",type:"error",description:e.t0.message});case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))())}),[C,T,B,n,N,M,j,R,x,W,K,L,i]),F=null===(t=ne(null===B||void 0===B?void 0:B.info.liquidityMint.toBase58()))||void 0===t?void 0:t.price;Object(r.useEffect)((function(){if(B&&"repay"===c){var e=M.info.collateralInQuote/F;if(L){var t=parseFloat(L)/C*100;O((t*e/100).toString())}else O("")}}),[C,F,B,c,M.info.collateralInQuote,L]),Object(r.useEffect)((function(){if(B&&"collateral"===c){var e=M.info.collateralInQuote/F;if(S){var t=parseFloat(S)/e*100;W((t*C/100).toString())}else W("")}}),[C,F,B,S,c,M.info.collateralInQuote,W]);return a.a.createElement(qn.a,{className:e.className,bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},E?a.a.createElement(l.ActionConfirmation,{onClose:function(){return k(!1)}}):a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},a.a.createElement("div",{className:"repay-input-title"},Ot),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},a.a.createElement(fa,{title:"Repay Amount",reserve:x.info,amount:parseFloat(L)||0,onInputChange:function(e){W((null===e||void 0===e?void 0:e.toString())||""),s("repay")},disabled:!0,useWalletBalance:!0})),a.a.createElement(pa.a,{marks:Bn,value:R,onChange:q}),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginBottom:20}},a.a.createElement(fa,{title:"Collateral Amount (estimated)",reserve:null===B||void 0===B?void 0:B.info,amount:parseFloat(S)||0,onInputChange:function(e){O((null===e||void 0===e?void 0:e.toString())||""),s("collateral")},disabled:!0,hideBalance:!0})),a.a.createElement(l.ConnectButton,{type:"primary",size:"large",onClick:U,loading:b,disabled:0===N.length},xt)))},Bi=(n(1191),function(){var e=Object(c.m)(),t=e.reserve,n=e.obligation,r=_e(n),i=n?null===r||void 0===r?void 0:r.info.borrowReserve:t,o=fe(i),u=fe(n?null===r||void 0===r?void 0:r.info.collateralReserve:t),l=Ce(),s=l.userObligations,d=l.totalInQuote,f=Je(i),m=f.totalInQuote,p=f.utilization;return(null===o||void 0===o?void 0:o.info)&&o&&r&&u?a.a.createElement("div",{className:"repay-reserve"},a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:Et,value:d,precision:2,prefix:"$"}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:ht,value:100*p,precision:2,suffix:"%"}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:gt,value:m,valueStyle:{color:"#3fBB00"},precision:2,prefix:"$"}))),a.a.createElement(Rn.a,{xs:24,xl:9},a.a.createElement(qn.a,null,a.a.createElement(Xn,{title:"Your Loans",items:s,getPct:function(e){return e.obligation.info.borrowedInQuote/d},name:function(e){return e.obligation.info.repayName}})))),a.a.createElement(Wn.a,{gutter:jn,style:{flex:1}},a.a.createElement(Rn.a,{xs:24,xl:15},a.a.createElement(Ci,{className:"card-fill",borrowReserve:o,collateralReserve:u,obligation:r})),a.a.createElement(Rn.a,{xs:24,xl:9},a.a.createElement(xa,{className:"card-fill",reserve:o,mode:ma.Borrow})))):null}),Ni=l.utils.wadToLamports,ji=l.utils.formatNumber,Ii=l.utils.fromLamports,Di=l.utils.formatPct,Li=l.contexts.Accounts,Wi=Li.useMint,Ri=Li.cache,qi=l.hooks.useTokenName,Ki=function(e){var t=e.item.info,n=Ri.get(t.borrowReserve),i=Ri.get(t.collateralReserve),o=Wi(n.info.liquidityMint),c=Wi(i.info.liquidityMint),s=Ii(Ni(t.borrowAmountWad),o),d=Object(r.useMemo)((function(){return Object(oe.i)(n.info)}),[n]),f=Object(oe.l)(t.depositedCollateral,n.info),m=Ii(f,c),p=qi(null===n||void 0===n?void 0:n.info.liquidityMint),v=qi(null===i||void 0===i?void 0:i.info.liquidityMint);return a.a.createElement(u.Link,{to:"/liquidate/".concat(e.item.account.pubkey.toBase58())},a.a.createElement("div",{className:"liquidate-item"},a.a.createElement("span",{style:{display:"flex"}},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(l.TokenIcon,{mintAddress:null===i||void 0===i?void 0:i.info.liquidityMint,style:{marginRight:"-0.5rem"}}),a.a.createElement(l.TokenIcon,{mintAddress:null===n||void 0===n?void 0:n.info.liquidityMint})),v,"\u2192",p),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,ji.format(s))," ",p),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",ji.format(t.borrowedInQuote)))),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,ji.format(m))," ",v),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",ji.format(t.collateralInQuote)))),a.a.createElement("div",null,Di.format(d)),a.a.createElement("div",null,Di.format(t.ltv/100)),a.a.createElement("div",null,t.health.toFixed(2)),a.a.createElement("div",null,a.a.createElement(rr.a,{type:"primary"},a.a.createElement("span",null,Jt)))))},Ui=(n(1192),function(){var e=Pe().obligations,t=Object(r.useMemo)((function(){return e.filter((function(e){return e.info.health<1}))}),[e]),n=Object(r.useMemo)((function(){return t.reduce((function(e,t){return e+t.info.collateralInQuote}),0)}),[t]),i=Object(r.useMemo)((function(){return t.length}),[t]),o=Object(r.useMemo)((function(){return t.length/e.length}),[t,e]),u=Object(r.useMemo)((function(){return t.reduce((function(e,t){return e.set(t.info.repayName,(e.get(t.info.collateralName)||0)+t.info.collateralInQuote),e}),new Map)}),[t]),c=Object(r.useMemo)((function(){return Object(p.a)(u.keys())}),[u]);return a.a.createElement("div",{className:"liquidate-container"},0===t.length?a.a.createElement("div",{className:"liquidate-info"},$t):a.a.createElement("div",{className:"flexColumn"},a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{span:24},a.a.createElement(qn.a,null,a.a.createElement(ga.a,null,wt)))),a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:"Value at risk",value:n,precision:2,valueStyle:{color:"#3fBB00"},prefix:"$"}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:"Loans at risk",value:i,precision:0}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:"% loans at risk",value:100*o,precision:2,suffix:"%"}))),a.a.createElement(Rn.a,{xs:24,xl:9},a.a.createElement(qn.a,null,a.a.createElement(Xn,{title:"At risk loan composition",name:function(e){return e},getPct:function(e){return(u.get(e)||0)/n},items:c})))),a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{span:24},a.a.createElement(qn.a,{className:"card-fill"},a.a.createElement("div",{className:"liquidate-item liquidate-header"},a.a.createElement("div",null,Zt),a.a.createElement("div",null,tn),a.a.createElement("div",null,nn),a.a.createElement("div",null,an),a.a.createElement("div",null,on),a.a.createElement("div",null,un),a.a.createElement("div",null,fn)),t.map((function(e){return a.a.createElement(Ki,{key:e.account.pubkey.toBase58(),item:e})})))))))}),Fi=l.hooks.useTokenName,Vi=l.contexts.Accounts.useMint,Gi=l.utils.formatNumber,zi=l.utils.formatPct,Yi=l.utils.fromLamports,Hi=l.utils.wadToLamports,Qi=function(e){var t=e.obligation,n=fe(null===t||void 0===t?void 0:t.info.borrowReserve),i=fe(null===t||void 0===t?void 0:t.info.collateralReserve),o=Vi(null===n||void 0===n?void 0:n.info.liquidityMint),u=Vi(null===i||void 0===i?void 0:i.info.liquidityMint),c=Fi(null===n||void 0===n?void 0:n.info.liquidityMint),l=Fi(null===i||void 0===i?void 0:i.info.liquidityMint),s=Object(r.useMemo)((function(){return n?Object(Un.calculateBorrowAPY)(null===n||void 0===n?void 0:n.info):0}),[n]);if(!t||!n)return null;var d=Yi(Hi(null===t||void 0===t?void 0:t.info.borrowAmountWad),o),f=Object(Un.collateralToLiquidity)(null===t||void 0===t?void 0:t.info.depositedCollateral,n.info),m=Yi(f,u);return a.a.createElement(Wn.a,{gutter:jn},a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,{className:e.className},a.a.createElement(Kn.a,{title:"Loan Balance",value:t.info.borrowedInQuote,formatter:function(e){return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,Gi.format(d))," ",c),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",Gi.format(parseFloat(e.toString()))))}}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,{className:e.className},a.a.createElement(Kn.a,{title:"Collateral",value:t.info.collateralInQuote,formatter:function(e){return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,Gi.format(m))," ",l),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",Gi.format(parseFloat(e.toString()))))}}))),a.a.createElement(Rn.a,{xs:24,xl:5},a.a.createElement(qn.a,{className:e.className},a.a.createElement(Kn.a,{title:"APY",value:zi.format(s)}))),a.a.createElement(Rn.a,{xs:24,xl:9},a.a.createElement(qn.a,{className:e.className},a.a.createElement(Kn.a,{title:"Health Factor",value:t.info.health.toFixed(2)}))))},Xi=n(443),Ji=n.n(Xi),$i=(n(1193),l.utils.notify),Zi=l.utils.fromLamports,eo=l.utils.wadToLamports,to=l.contexts.Connection.useConnection,no=l.contexts.Accounts.useMint,ro=function(e){var t,n=to(),i=Object(l.useWallet)(),o=e.repayReserve,u=e.withdrawReserve,c=e.obligation,s=Object(r.useState)("liquidate"),d=Object(v.a)(s,2),p=d[0],b=d[1],y=Object(r.useState)(!1),h=Object(v.a)(y,2),g=h[0],E=h[1],k=Object(r.useState)(!1),w=Object(v.a)(k,2),A=w[0],S=w[1],O=Object(r.useState)(""),x=Object(v.a)(O,2),M=x[0],P=x[1],_=no(o.info.liquidityMint),T=be(null===o||void 0===o?void 0:o.info.liquidityMint),C=T.accounts,B=T.balance,N=eo(c.info.borrowAmountWad).toNumber(),j=Zi(N,_),I=Object(r.useCallback)((function(e){var t=Math.min(B||1/0,j);return b("liquidate"),"string"===typeof e?parseFloat(e)/t*100:e*t/100}),[j,B]),D=He(I),L=D.value,W=D.setValue,R=D.pct,q=D.setPct,K=D.type,U=Object(r.useCallback)((function(){u&&(E(!0),Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=K===Ke.Percent&&B>=j?R*N/100:Math.ceil(N*(parseFloat(L)/j)),e.next=4,oa(n,i,C[0],t,c.account,o,u);case 4:W(""),P(""),S(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$i({message:"Unable to liquidate loan.",type:"error",description:e.t0.message});case 12:return e.prev=12,E(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))())}),[u,C,c,o,i,n,L,W,j,N,R,B,K]),F=null===(t=ne(null===u||void 0===u?void 0:u.info.liquidityMint.toBase58()))||void 0===t?void 0:t.price;if(Object(r.useEffect)((function(){if(u&&"liquidate"===p){var e=c.info.collateralInQuote/F;if(L){var t=parseFloat(L)/j*100;P((t*e/100).toString())}else P("")}}),[j,F,u,p,c.info.collateralInQuote,L]),Object(r.useEffect)((function(){if(u&&"collateral"===p){var e=c.info.collateralInQuote/F;if(M){var t=parseFloat(M)/e*100;W((t*j/100).toString())}else W("")}}),[j,F,u,M,p,c.info.collateralInQuote,W]),!u)return null;return a.a.createElement(Ji.a,{className:e.className,bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},A?a.a.createElement(l.ActionConfirmation,{onClose:function(){return S(!1)}}):a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},a.a.createElement("div",{className:"repay-input-title"},Xt),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},a.a.createElement(fa,{title:"Liquidate Amount",reserve:o.info,amount:parseFloat(L)||0,onInputChange:function(e){W((null===e||void 0===e?void 0:e.toString())||""),b("liquidate")},disabled:!0,useWalletBalance:!0})),a.a.createElement(pa.a,{marks:Bn,value:R,onChange:q}),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginBottom:20}},a.a.createElement(fa,{title:"Collateral Amount (estimated)",reserve:null===u||void 0===u?void 0:u.info,amount:parseFloat(M)||0,onInputChange:function(e){P((null===e||void 0===e?void 0:e.toString())||""),b("collateral")},disabled:!0,hideBalance:!0})),a.a.createElement(l.ConnectButton,{type:"primary",size:"large",onClick:U,loading:g,disabled:0===C.length},Jt)))},ao=(n(1260),function(){var e=_e(Object(c.m)().id),t=fe(null===e||void 0===e?void 0:e.info.borrowReserve),n=fe(null===e||void 0===e?void 0:e.info.collateralReserve);return e&&t?a.a.createElement("div",{className:"borrow-reserve"},a.a.createElement(Qi,{className:"card-fill",obligation:e}),a.a.createElement(Wn.a,{gutter:jn,style:{flex:1}},a.a.createElement(Rn.a,{xs:24,xl:15},a.a.createElement(ro,{className:"card-fill",obligation:e,withdrawReserve:n,repayReserve:t})),a.a.createElement(Rn.a,{xs:24,xl:9},a.a.createElement(xa,{className:"card-fill",reserve:t,mode:ma.Deposit})))):null}),io=(n(1261),l.utils.formatNumber),oo=l.utils.formatPct,uo=l.hooks.useTokenName,co=function(e){var t=uo(e.reserve.liquidityMint),n=ne(e.reserve.liquidityMint.toBase58()).price,r=Object(oe.i)(e.reserve),i=Je(e.address,!1,!1),o=i.totalInQuote,c=i.borrowingPower;return a.a.createElement(u.Link,{to:"/margin/".concat(e.address.toBase58())},a.a.createElement("div",{className:"choose-margin-item"},a.a.createElement("span",{style:{display:"flex"}},a.a.createElement(l.TokenIcon,{mintAddress:e.reserve.liquidityMint}),t),a.a.createElement("div",null,"$",io.format(n)),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("em",null,io.format(c))," ",t),a.a.createElement("div",{className:"dashboard-amount-quote"},"$",io.format(o)))),a.a.createElement("div",null,oo.format(r)),a.a.createElement("div",null,a.a.createElement(rr.a,{type:"primary"},a.a.createElement("span",null,On)))))},lo=function(){var e=de().reserveAccounts;return a.a.createElement("div",{className:"flexColumn"},a.a.createElement(qn.a,null,a.a.createElement("div",{className:"choose-margin-item choose-margin-header"},a.a.createElement("div",null,Zt),a.a.createElement("div",null,"Serum Dex Price"),a.a.createElement("div",null,xn),a.a.createElement("div",null,an),a.a.createElement("div",null)),e.map((function(e){return a.a.createElement(co,{reserve:e.info,address:e.pubkey})}))))};n(1262);function so(e){var t,n,r,a,i=e.collateral.type,o=e.asset.type,u=e.collateral.value||0,c=e.asset.value||0,l=K([null===i||void 0===i||null===(t=i.info)||void 0===t||null===(n=t.liquidityMint)||void 0===n?void 0:n.toBase58(),null===o||void 0===o||null===(r=o.info)||void 0===r||null===(a=r.liquidityMint)||void 0===a?void 0:a.toBase58()]),s=Ye().userDeposits.find((function(e){var t,n;return e.reserve.info.liquidityMint.toBase58()===(null===i||void 0===i||null===(t=i.info)||void 0===t||null===(n=t.liquidityMint)||void 0===n?void 0:n.toBase58())}));return{enrichedPools:te(l?[l]:[]),collateralDeposit:s,collType:i,desiredType:o,collValue:u,desiredValue:c,leverage:e.leverage,pool:l}}var fo=n(777),mo=l.components.ActionConfirmation,po=l.contexts.Accounts.cache;function vo(e){var t=e.newPosition,n=e.setNewPosition,r=e.collateralDeposit,a=e.enrichedPools;if(n(t),r&&a.length){var i=a[0].liquidityB/a[0].liquidityA,o=(t.collateral.value||0)*t.leverage*i;n(Object(w.a)(Object(w.a)({},t),{},{asset:Object(w.a)(Object(w.a)({},t.asset),{},{value:o})}))}}function bo(e){var t=e.lendingReserve,n=e.newPosition,i=e.setNewPosition,o=Object(r.useState)(!1),u=Object(v.a)(o,2),c=u[0],s=u[1],d=so(n),f=d.enrichedPools,m=d.collateralDeposit;!function(e){var t=e.newPosition,n=e.setNewPosition,a=so(t),i=a.enrichedPools,o=a.collateralDeposit,u=a.collType,c=a.desiredType,l=a.collValue,s=a.desiredValue,d=a.leverage;Object(r.useEffect)((function(){if(u)if(o){if(c&&t.asset.value&&i&&0!==i.length){var e=i[0].liquidityB/i[0].liquidityA,r=t.leverage,a=o.info.amount*e,d=s/r;if(d>a)n(Object(w.a)(Object(w.a)({},t),{},{error:Mn}));else if(d>l)n(Object(w.a)(Object(w.a)({},t),{},{error:Pn}));else{var f=i[0].liquidityA,m=i[0].liquidityB,p=f/m,v=(f-s/e)/(m+s),b=Math.abs(100-v/p*100);n(100/r<b&&1!==r?Object(w.a)(Object(w.a)({},t),{},{error:_n}):Object(w.a)(Object(w.a)({},t),{},{error:""}))}}}else n(Object(w.a)(Object(w.a)({},t),{},{error:Tn}));else n(Object(w.a)(Object(w.a)({},t),{},{error:Cn}))}),[u,c,s,d,i,l,o])}({newPosition:n,setNewPosition:i});var p=Object(l.useWallet)(),b=p.connected,y=p.connect;return a.a.createElement(qn.a,{className:"new-position-item new-position-item-top-left",bodyStyle:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",height:"100%"}},c?a.a.createElement(mo,{onClose:function(){return s(!1)}}):a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around"}},a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center"}},a.a.createElement(fa,{title:"Collateral",reserve:t.info,amount:n.collateral.value,onInputChange:function(e){vo({newPosition:Object(w.a)(Object(w.a)({},n),{},{collateral:Object(w.a)(Object(w.a)({},n.collateral),{},{value:e})}),setNewPosition:i,enrichedPools:f,collateralDeposit:m})},onCollateralReserve:function(e){var t=po.byParser(lr.a).find((function(t){return t===e}))||"",r=po.get(t);vo({newPosition:Object(w.a)(Object(w.a)({},n),{},{collateral:{value:n.collateral.value,type:r}}),setNewPosition:i,enrichedPools:f,collateralDeposit:m})},showLeverageSelector:!0,onLeverage:function(e){vo({newPosition:Object(w.a)(Object(w.a)({},n),{},{leverage:e}),setNewPosition:i,enrichedPools:f,collateralDeposit:m})},leverage:n.leverage})),a.a.createElement(fo.a,null),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"stretch"}},n.asset.type&&a.a.createElement(fa,{title:"Choose trade",reserve:n.asset.type.info,amount:n.asset.value,onInputChange:function(e){!function(e){var t=e.newPosition,n=e.setNewPosition,r=e.collateralDeposit,a=e.enrichedPools;if(n(t),r&&a.length){var i=a[0].liquidityB/a[0].liquidityA,o=(t.asset.value||0)/(i*t.leverage);n(Object(w.a)(Object(w.a)({},t),{},{collateral:Object(w.a)(Object(w.a)({},t.collateral),{},{value:o})}))}}({newPosition:Object(w.a)(Object(w.a)({},n),{},{asset:Object(w.a)(Object(w.a)({},n.asset),{},{value:e})}),setNewPosition:i,enrichedPools:f,collateralDeposit:m})},disabled:!0,hideBalance:!0}),a.a.createElement(rr.a,{className:"trade-button",type:"primary",size:"large",onClick:b?void 0:y,style:{width:"100%"},disabled:b&&!!n.error},a.a.createElement("span",null,function(e,t){return e?t.error?t.error:Sn:yt}(b,n))))))}var yo=n(264),ho=n(778),go=n(803),Eo=n.n(go),ko=[{x:0,y:65},{x:1,y:80},{x:2,y:60},{x:3,y:30},{x:4,y:20},{x:5,y:35},{x:6,y:25},{x:7,y:40},{x:8,y:36},{x:9,y:34},{x:10,y:50},{x:11,y:33},{x:12,y:37},{x:13,y:45},{x:14,y:35},{x:15,y:37},{x:16,y:50},{x:17,y:43},{x:18,y:50},{x:19,y:45},{x:20,y:55},{x:21,y:50},{x:22,y:45},{x:23,y:50},{x:24,y:45},{x:25,y:40},{x:26,y:35},{x:27,y:40},{x:28,y:37},{x:29,y:45},{x:30,y:50},{x:31,y:60},{x:32,y:55},{x:33,y:50},{x:34,y:53},{x:35,y:55},{x:36,y:50},{x:37,y:45},{x:38,y:40},{x:39,y:45},{x:40,y:50},{x:41,y:55},{x:42,y:65},{x:43,y:62},{x:44,y:54},{x:45,y:65},{x:46,y:48},{x:47,y:55},{x:48,y:60},{x:49,y:63},{x:50,y:65}];function wo(){var e=So();return{datasets:[{backgroundColor:"transparent",borderColor:"rgb(39, 107, 251)",borderWidth:4,radius:0,data:JSON.parse(JSON.stringify(ko.slice(0,Math.floor(ko.length)/2+1)))},{backgroundColor:"transparent",borderWidth:4,radius:0,data:e,borderDash:[15,3],label:"LEVERAGE"},{backgroundColor:"transparent",borderColor:"rgb(86, 169, 255)",borderWidth:2,radius:0,data:e,borderDash:[8,4],label:"HOLD"}]}}var Ao={},So=function(){return JSON.parse(JSON.stringify(ko.slice(Math.floor(ko.length)/2)))};function Oo(e){var t=e.item,n=e.priceChange,r=e.chart;if((null===r||void 0===r?void 0:r.data.datasets)&&!((null===r||void 0===r?void 0:r.data.datasets.length)<2)){Ao.afterDraw=function(e){!function(e,t,n){var r;if(!e.config||!e.config.data||!e.config.data.datasets||!e.canvas)return;var a=e.ctx;if(!a)return;a.save(),a.font="normal normal bold 15px /1.5 Muli",a.textBaseline="bottom";var i=e.config.data.datasets,o=null===e||void 0===e||null===(r=e.canvas)||void 0===r?void 0:r.parentNode;i.forEach((function(r,i){var u=r.label;a.fillStyle=r.borderColor;var c,l=e.getDatasetMeta(i),s=l.data.length-1,d=Math.floor(s/2)-Math.floor(.2*s),f=l.data[d]._model.x,m=l.data[d]._model.y;(c="HOLD"===u?t*n>0?1.2*m:.8*m:t*n>0?.8*m:1.2*m)>o.offsetHeight&&(o.style.height="".concat(1.3*c,"px")),c<0&&(c=5),u&&a.fillText(u,f,c)})),a.restore()}(e,t.leverage,n)};var a=So(),i=t.leverage,o=a.map((function(e,t){if(0===t)return{x:e.x,y:e.y};var r=n*i/100;return{x:e.x,y:e.y*(1+r)}}));r.data.datasets[1].data=o,r.data.datasets[1].borderColor=n>=0?"rgb(51, 223, 204)":"rgb(255,79,79)",a.forEach((function(e,t){0!==t&&(e.y+=e.y*n/100)})),r.data.datasets[2].data=a,null===r||void 0===r||r.update()}}function xo(e){var t=e.item,n=e.priceChange,i=Object(r.useRef)(),o=Object(r.useRef)();return Object(r.useEffect)((function(){o.current&&!i.current&&(i.current=new Eo.a(o.current,{type:"line",data:wo(),plugins:[Ao],options:{responsive:!0,maintainAspectRatio:!0,scaleShowLabels:!1,layout:{padding:{top:30,bottom:80}},labels:{render:"title",fontColor:["green","white","red"],precision:2},animation:{easing:"easeOutExpo",duration:500},scales:{xAxes:[{display:!1,gridLines:{display:!1},type:"linear",position:"bottom"}],yAxes:[{display:!1,gridLines:{display:!1}}]},legend:{display:!1}}}))}),[]),Object(r.useEffect)((function(){i.current&&Oo({item:t,priceChange:n,chart:i.current})}),[n,t]),a.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"center"}},a.a.createElement("canvas",{ref:o}),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},a.a.createElement("span",null,"past"),a.a.createElement("span",null,"today"),a.a.createElement("span",null,"future")))}function Mo(e){var t,n=e.item,i=Object(l.useConnectionConfig)().tokens,o=so(n),u=o.enrichedPools,c=o.leverage,s=0===u.length?1:u[0].liquidityB/u[0].liquidityA,d=n.collateral.value||0,f=(n.collateral.value||0)*c-d,m=i.find((function(e){var t,r,a;return e.address===(null===(t=n.asset.type)||void 0===t||null===(r=t.info)||void 0===r||null===(a=r.liquidityMint)||void 0===a?void 0:a.toBase58())})),p=i.find((function(e){var t,r,a;return e.address===(null===(t=n.collateral.type)||void 0===t||null===(r=t.info)||void 0===r||null===(a=r.liquidityMint)||void 0===a?void 0:a.toBase58())})),b=Object(r.useState)(10),y=Object(v.a)(b,2),h=y[0],g=y[1],E=(d+f)*(h/100);if(E>0){var k=E+d+f;t=a.a.createElement(yo.a,{percent:d/k*100+f/k*100,success:{percent:f/k*100,strokeColor:"brown"},strokeColor:"blue",trailColor:"green",showInfo:!1})}else{var w=(d+=E)+f;t=d<0?a.a.createElement("p",null,"Your position has been liquidated at this price swing."):a.a.createElement(yo.a,{showInfo:!1,success:{percent:f/w*100,strokeColor:"brown"},trailColor:"blue"})}return a.a.createElement("div",{className:"new-position-item new-position-item-top-right"},a.a.createElement(qn.a,{className:"new-position-item new-position-item-top-right"},a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center"}},a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:"Borrowed",value:f*s,precision:2,valueStyle:{color:"brown"},suffix:null===m||void 0===m?void 0:m.symbol})),a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:"My Collateral",value:d,precision:2,valueStyle:{color:"blue"},suffix:null===p||void 0===p?void 0:p.symbol})),a.a.createElement(qn.a,null,a.a.createElement(Kn.a,{title:"Profit/Loss",value:E*s,precision:2,valueStyle:{color:E>0?"green":"red"},suffix:null===m||void 0===m?void 0:m.symbol,prefix:E>0?a.a.createElement(ho.a,null):a.a.createElement(fo.a,null)}))),a.a.createElement("br",null),t),a.a.createElement(qn.a,{className:"new-position-item new-position-item-bottom-right"},a.a.createElement(xo,{item:n,priceChange:h}),a.a.createElement(pa.a,{tooltipVisible:!0,defaultValue:10,tipFormatter:function(e){return a.a.createElement("span",null,e,"%")},max:100,min:-100,tooltipPlacement:"top",onChange:function(e){g(e)},style:{marginBottom:"20px"}})))}var Po=l.utils.formatPriceNumber,_o=l.hooks.useUserAccounts,To=l.contexts.Accounts.useMint,Co=function(e){var t=e.pool,n=Object(r.useMemo)((function(){return[e.pool].filter((function(e){return e}))}),[e.pool]),i=te(n)[0],o=_o().userAccounts,u=To(t.pubkeys.mint),c=o.filter((function(e){return t.pubkeys.mint.equals(e.info.mint)})).reduce((function(e,t){return t.info.amount.toNumber()+e}),0)/((null===u||void 0===u?void 0:u.supply.toNumber())||0);return i?a.a.createElement(qn.a,{className:"ccy-input",style:{borderRadius:20,width:"100%"},bodyStyle:{padding:"7px"},size:"small",title:"Prices and pool share"},a.a.createElement(Wn.a,{style:{width:"100%"}},a.a.createElement(Rn.a,{span:8},Po.format(parseFloat(i.liquidityA)/parseFloat(i.liquidityB))),a.a.createElement(Rn.a,{span:8},Po.format(parseFloat(i.liquidityB)/parseFloat(i.liquidityA))),a.a.createElement(Rn.a,{span:8},100*c<.001&&c>0?"<":"","\xa0",Po.format(100*c),"%")),a.a.createElement(Wn.a,{style:{width:"100%"}},a.a.createElement(Rn.a,{span:8},i.names[0]," per ",i.names[1]),a.a.createElement(Rn.a,{span:8},i.names[1]," per ",i.names[0]),a.a.createElement(Rn.a,{span:8},"Share of pool"))):null},Bo=n(455),No=n.n(Bo),jo=l.utils.formatNumber,Io=l.utils.formatUSD,Do=function(e){var t=e.pool,n=Object(r.useMemo)((function(){return t?[t]:[]}),[t]),i=te(n),o=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=o.current;return function(){var t=e&&No.a.getInstanceByDom(e);t&&t.dispose()}}),[]),Object(r.useEffect)((function(){if(o.current&&0!==i.length){var e=No.a.getInstanceByDom(o.current);e||(e=No.a.init(o.current));var t=[{name:i[0].names[0],value:i[0].liquidityAinUsd,tokens:i[0].liquidityA},{name:i[0].names[1],value:i[0].liquidityBinUsd,tokens:i[0].liquidityB}];e.setOption({tooltip:{trigger:"item",formatter:function(e){var t=Io.format(e.value),n=jo.format(e.data.tokens);return"".concat(e.name,": \n").concat(t,"\n(").concat(n,")")}},series:[{name:"Liquidity",type:"pie",top:0,bottom:0,left:0,right:0,animation:!1,label:{fontSize:14,show:!0,formatter:function(e){var t=Io.format(e.value),n=jo.format(e.data.tokens);return"{c|".concat(e.name,"}\n{r|").concat(n,"}\n{r|").concat(t,"}")},rich:{c:{color:"black",lineHeight:22,align:"center"},r:{color:"black",align:"right"}},color:"rgba(255, 255, 255, 0.5)"},itemStyle:{normal:{borderColor:"#000"}},data:t}]})}}),[i]),0===i.length?null:a.a.createElement("div",{ref:o,style:{height:150,width:"100%"}})};function Lo(e){var t=so(e.newPosition).pool;return a.a.createElement(Ji.a,{className:"new-position-item new-position-item-bottom-left"},!t&&a.a.createElement("span",null,"Choose a CCY to see exchange rate information."),t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Co,{pool:t}),a.a.createElement(Do,{pool:t})))}var Wo=function(){var e=fe(Object(c.m)().id),t=Object(r.useState)({id:null,leverage:5,collateral:{},asset:{}}),n=Object(v.a)(t,2),i=n[0],o=n[1];return e?(i.asset.type||o(Object(w.a)(Object(w.a)({},i),{},{asset:{value:i.asset.value,type:e}})),a.a.createElement("div",{className:"new-position"},a.a.createElement("div",{className:"new-position-container"},a.a.createElement("div",{className:"new-position-item-left"},a.a.createElement(bo,{lendingReserve:e,newPosition:i,setNewPosition:o}),a.a.createElement(Lo,{newPosition:i})),a.a.createElement(Mo,{item:i})))):null},Ro=l.contexts.Wallet.WalletProvider,qo=l.contexts.Connection.ConnectionProvider,Ko=l.contexts.Accounts.AccountsProvider;function Uo(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.HashRouter,{basename:"/"},a.a.createElement(qo,null,a.a.createElement(Ro,null,a.a.createElement(Ko,null,a.a.createElement(Z,null,a.a.createElement(it,null,a.a.createElement(Ln,null,a.a.createElement(c.g,null,a.a.createElement(c.d,{exact:!0,path:"/",component:function(){return a.a.createElement(nr,null)}}),a.a.createElement(c.d,{exact:!0,path:"/dashboard",children:a.a.createElement(Va,null)}),a.a.createElement(c.d,{path:"/reserve/:id",children:a.a.createElement(hi,null)}),a.a.createElement(c.d,{exact:!0,path:"/deposit",component:function(){return a.a.createElement(Qa,null)}}),a.a.createElement(c.d,{path:"/deposit/:id",children:a.a.createElement(ni,null)}),a.a.createElement(c.d,{path:"/withdraw/:id",children:a.a.createElement(ki,null)}),a.a.createElement(c.d,{exact:!0,path:"/borrow",children:a.a.createElement(cr,null)}),a.a.createElement(c.d,{path:"/borrow/:id",children:a.a.createElement(Ma,null)}),a.a.createElement(c.d,{path:"/repay/loan/:obligation",children:a.a.createElement(Bi,null)}),a.a.createElement(c.d,{path:"/repay/:reserve",children:a.a.createElement(Bi,null)}),a.a.createElement(c.d,{exact:!0,path:"/liquidate",children:a.a.createElement(Ui,null)}),a.a.createElement(c.d,{path:"/liquidate/:id",children:a.a.createElement(ao,null)}),a.a.createElement(c.d,{exact:!0,path:"/margin",children:a.a.createElement(lo,null)}),a.a.createElement(c.d,{path:"/margin/:id",children:a.a.createElement(Wo,null)}),a.a.createElement(c.d,{exact:!0,path:"/faucet",children:a.a.createElement(Si,null)}))))))))))}var Fo=function(){return a.a.createElement(Uo,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Fo,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},174:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Wallet=t.Connection=t.Accounts=void 0,t.Accounts=i(n(291)),o(n(291),t),t.Connection=i(n(292)),o(n(292),t),t.Wallet=i(n(472)),o(n(472),t)},186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.programIds=t.setProgramIds=t.PROGRAM_IDS=t.ENABLE_FEES_INPUT=t.LEND_HOST_FEE_ADDRESS=t.SYSTEM=t.METAPLEX_ID=t.AUCTION_ID=t.VAULT_ID=t.MEMO_ID=t.METADATA_PROGRAM_ID=t.BPF_UPGRADE_LOADER_ID=t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=t.LENDING_PROGRAM_ID=t.TOKEN_PROGRAM_ID=t.WRAPPED_SOL_MINT=void 0;var r,a,i,o,u=n(30),c=n(571);t.WRAPPED_SOL_MINT=new u.PublicKey("So11111111111111111111111111111111111111112"),t.TOKEN_PROGRAM_ID=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.LENDING_PROGRAM_ID=new u.PublicKey("LendZqTs7gn5CTSJU1jWKhKuVpjJGom45nnwPb2AMTi"),t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=new u.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),t.BPF_UPGRADE_LOADER_ID=new u.PublicKey("BPFLoaderUpgradeab1e11111111111111111111111"),t.METADATA_PROGRAM_ID=new u.PublicKey("metaTA73sFPqA8whreUbBsbn3SLJH2vhrW9fP5dmfdC"),t.MEMO_ID=new u.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),t.VAULT_ID=new u.PublicKey("94wRaYAQdC2gYF76AUTYSugNJ3rAC4EimjAMPwM7uYry"),t.AUCTION_ID=new u.PublicKey("C9nHkL6BfGx9M9MyYrJqAD5hPsGJd1fHpp1uAJA6vTCn"),t.METAPLEX_ID=new u.PublicKey("EPtpKdKW8qciGVd1UFyGjgbBHTbSAyvbY61h9uQGVgeu"),t.SYSTEM=new u.PublicKey("11111111111111111111111111111111"),t.LEND_HOST_FEE_ADDRESS=void 0,console.debug("Lend host fee address: ".concat(null===t.LEND_HOST_FEE_ADDRESS||void 0===t.LEND_HOST_FEE_ADDRESS?void 0:t.LEND_HOST_FEE_ADDRESS.toBase58())),t.ENABLE_FEES_INPUT=!1,t.PROGRAM_IDS=[{name:"mainnet-beta",wormhole:function(){return{pubkey:new u.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new u.PublicKey("9qvG1zUp8xF1Bi4m6UdRNby1BAAuaDrUxSpv4CmRRMjL"),layout:c.TokenSwapLayoutV1},legacy:[]}}},{name:"testnet",wormhole:function(){return{pubkey:new u.PublicKey("5gQf5AUhAgWYgUCt9ouShm9H7dzzXUsLdssYwe5krKhg"),bridge:"0x251bBCD91E84098509beaeAfF0B9951859af66D3",wrappedMaster:"E39f0b145C0aF079B214c5a8840B2B01eA14794c"}},swap:function(){return{current:{pubkey:new u.PublicKey("2n2dsFSgmPcZ8jkmBZLGUM2nzuFqcBGQ3JEEj6RJJcEg"),layout:c.TokenSwapLayoutV1},legacy:[]}}},{name:"devnet",wormhole:function(){return{pubkey:new u.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new u.PublicKey("6Cust2JhvweKLh4CVo1dt21s2PJ86uNGkziudpkNPaCj"),layout:c.TokenSwapLayout},legacy:[new u.PublicKey("BSfTAcBdqmvX5iE2PW88WFNNp2DHhLUaBKk5WrnxVkcJ")]}}},{name:"localnet",wormhole:function(){return{pubkey:new u.PublicKey("WormT3McKhFJ2RkiGpdw9GKvNCrB2aB54gb2uV9MfQC"),bridge:"0xf92cD566Ea4864356C5491c177A430C222d7e678",wrappedMaster:"9A5e27995309a03f8B583feBdE7eF289FcCdC6Ae"}},swap:function(){return{current:{pubkey:new u.PublicKey("369YmCWHGxznT7GGBhcLZDRcRoGWmGKFWdmtiPy78yj7"),layout:c.TokenSwapLayoutV1},legacy:[]}}}];t.setProgramIds=function(e){var n=t.PROGRAM_IDS.find((function(t){return e.indexOf(t.name)>=0}));if(n){r=n.wormhole();var c=n.swap();a=c.current.pubkey,o=c.current.layout,i=c.legacy,"mainnet-beta"===e&&(t.LENDING_PROGRAM_ID=new u.PublicKey("LendZqTs7gn5CTSJU1jWKhKuVpjJGom45nnwPb2AMTi"))}};t.programIds=function(){return{token:t.TOKEN_PROGRAM_ID,swap:a,swap_legacy:i,swapLayout:o,lending:t.LENDING_PROGRAM_ID,wormhole:r,associatedToken:t.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,bpf_upgrade_loader:t.BPF_UPGRADE_LOADER_ID,system:t.SYSTEM,metadata:t.METADATA_PROGRAM_ID,memo:t.MEMO_ID,vault:t.VAULT_ID,auction:t.AUCTION_ID,metaplex:t.METAPLEX_ID}}},239:function(e,t,n){"use strict";var r=n(106),a=n(117),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=t.convert=t.formatPct=t.formatNumber=t.formatUSD=t.formatTokenAmount=t.formatAmount=t.tryParseKey=t.fromLamports=t.wadToLamports=t.toLamports=t.chunks=t.STABLE_COINS=t.isKnownMint=t.getTokenIcon=t.getTokenByName=t.getVerboseTokenName=t.getTokenName=t.shortenAddress=t.useLocalStorageState=t.formatPriceNumber=void 0;var o=n(0),u=n(30),c=i(n(467)),l=n(293);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var r=Math.floor("number"===typeof e?e:c.default.isBN(e)?e.toNumber():e.info.amount.toNumber()),a=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return r/a*n}t.formatPriceNumber=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:8}),t.useLocalStorageState=function(e,t){var n=o.useState((function(){var n=localStorage.getItem(e);return n?JSON.parse(n):t})),r=a(n,2),i=r[0],u=r[1],c=o.useCallback((function(t){i!==t&&(u(t),null===t?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)))}),[i,e]);return[i,c]},t.shortenAddress=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))},t.getTokenName=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(!a)return"N/A";var i=null===(n=e.get(a))||void 0===n?void 0:n.symbol;return i||(r?"".concat(a.substring(0,5),"..."):a)},t.getVerboseTokenName=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(!a)return"N/A";var i=null===(n=e.get(a))||void 0===n?void 0:n.name;return i||(r?"".concat(a.substring(0,5),"..."):a)},t.getTokenByName=function(e,t){var n,a=null,i=r(e.values());try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.symbol===t){a=o;break}}}catch(u){i.e(u)}finally{i.f()}return a},t.getTokenIcon=function(e,t){var n,r="string"===typeof t?t:null===t||void 0===t?void 0:t.toBase58();if(r)return null===(n=e.get(r))||void 0===n?void 0:n.logoURI},t.isKnownMint=function(e,t){return!!e.get(t)},t.STABLE_COINS=new Set(["USDC","wUSDC","USDT"]),t.chunks=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map((function(n,r){return e.slice(r*t,(r+1)*t)}))},t.toLamports=function(e,t){var n;if(!e)return 0;var r="number"===typeof e?e:null===(n=e.info.amount)||void 0===n?void 0:n.toNumber(),a=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0);return Math.floor(r*a)},t.wadToLamports=function(e){return(null===e||void 0===e?void 0:e.div(l.WAD))||l.ZERO},t.fromLamports=s;t.tryParseKey=function(e){try{return new u.PublicKey(e)}catch(t){return null}};var d=["","k","M","G","T","P","E"],f=function(e,t){var n=Math.log10(e)/3|0,r=e,a=d[n];0!==n&&(r=e/Math.pow(10,3*n));return r.toFixed(t)+a};t.formatAmount=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?f(e,t):e.toFixed(t)},t.formatTokenAmount=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:6,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return e?"".concat([a]).concat(t.formatAmount(s(e,n,r),o,u)).concat(i):""},t.formatUSD=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});var m=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});t.formatNumber={format:function(e){return e?m.format(e):"--"}},t.formatPct=new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),t.convert=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e)return 0;var a="number"===typeof e?e:null===(n=e.info.amount)||void 0===n?void 0:n.toNumber(),i=Math.pow(10,(null===t||void 0===t?void 0:t.decimals)||0),o=a/i*r;return o},t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},251:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.shortvec=t.Layout=void 0,i(n(650),t),i(n(186),t),t.Layout=o(n(572)),i(n(575),t),i(n(239),t),i(n(1100),t),t.shortvec=o(n(1101)),i(n(353),t),i(n(593),t),i(n(592),t)},291:function(e,t,n){"use strict";(function(e){var r=n(468),a=n(117),i=n(106),o=n(211),u=n(7),c=n(170),l=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeMint=t.deserializeAccount=t.useAccount=t.useMint=t.getMultipleAccounts=t.useNativeAccount=t.AccountsProvider=t.getCachedAccount=t.useAccountsContext=t.cache=t.keyToAccountParser=t.GenericAccountParser=t.TokenAccountParser=t.MintParser=void 0;var f=d(n(0)),m=n(174),p=n(30),v=n(95),b=n(239),y=n(650),h=n(186),g=f.default.createContext(null),E=new Map,k=new Map,w=new Map,A=new Map,S=function(){var n=c(u.mark((function n(r,a){var i,o;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getAccountInfo(a);case 2:if(null!==(i=n.sent)){n.next=5;break}throw new Error("Failed to find mint account");case 5:return o=e.from(i.data),n.abrupt("return",t.deserializeMint(o));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();t.MintParser=function(n,r){var a=e.from(r.data),i=t.deserializeMint(a);return{pubkey:n,account:o({},r),info:i}};t.TokenAccountParser=function(n,r){var a=e.from(r.data),i=t.deserializeAccount(a);return{pubkey:n,account:o({},r),info:i}};t.GenericAccountParser=function(t,n){var r=e.from(n.data);return{pubkey:t,account:o({},n),info:r}},t.keyToAccountParser=new Map,t.cache={emitter:new y.EventEmitter,query:function(){var e=c(u.mark((function e(n,r,a){var i,o,c,l;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="string"===typeof r?new p.PublicKey(r):r,o=i.toBase58(),!(c=k.get(o))){e.next=5;break}return e.abrupt("return",c);case 5:if(!(l=E.get(o))){e.next=8;break}return e.abrupt("return",l);case 8:return l=n.getAccountInfo(i).then((function(e){if(!e)throw new Error("Account ".concat(i.toBase58()," not found"));return t.cache.add(i,e,a)})),E.set(o,l),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),add:function(e,n,r){if(0!==n.data.length){var a="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58(),i=r||t.keyToAccountParser.get(a);if(!i)throw new Error("Deserializer needs to be registered or passed as a parameter");t.cache.registerParser(e,i),E.delete(a);var o=i(new p.PublicKey(a),n);if(o){var u=!k.has(a);return k.set(a,o),t.cache.emitter.raiseCacheUpdated(a,u,i),o}}},get:function(e){var t;return t="string"!==typeof e?e.toBase58():e,k.get(t)},delete:function(e){var n;return n="string"!==typeof e?e.toBase58():e,!!k.get(n)&&(k.delete(n),t.cache.emitter.raiseCacheDeleted(n),!0)},byParser:function(e){var n,r=[],a=i(t.keyToAccountParser.keys());try{for(a.s();!(n=a.n()).done;){var o=n.value;t.keyToAccountParser.get(o)===e&&r.push(o)}}catch(u){a.e(u)}finally{a.f()}return r},registerParser:function(e,n){if(e){var r="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();t.keyToAccountParser.set(r,n)}return e},queryMint:function(){var e=c(u.mark((function e(t,n){var r,a,i,o;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="string"===typeof n?new p.PublicKey(n):n,a=r.toBase58(),!(i=A.get(a))){e.next=5;break}return e.abrupt("return",i);case 5:if(!(o=w.get(a))){e.next=8;break}return e.abrupt("return",o);case 8:return o=S(t,r).then((function(e){return w.delete(a),A.set(a,e),e})),w.set(a,o),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMint:function(e){var t;return t="string"!==typeof e?e.toBase58():e,A.get(t)},addMint:function(e,n){var r=t.deserializeMint(n.data),a=e.toBase58();return A.set(a,r),r}};t.useAccountsContext=function(){return f.useContext(g)};t.getCachedAccount=function(e){var t,n=i(k.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(a){n.e(a)}finally{n.f()}};var O=function(){var e=m.useConnection(),n=m.useWallet().publicKey,r=f.useState(),i=a(r,2),o=i[0],l=i[1],s=f.useCallback((function(e){if(n){var r=function(e,t){if(t)return{pubkey:e,account:t,info:{mint:h.WRAPPED_SOL_MINT,owner:e,amount:new v.u64(t.lamports),delegate:null,delegatedAmount:new v.u64(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}}(n,e),a=n.toBase58();t.cache.registerParser(a,t.TokenAccountParser),k.set(a,r),t.cache.emitter.raiseCacheUpdated(a,!1,t.TokenAccountParser)}}),[n]);return f.useEffect((function(){var t=0,r=function(e){e&&(s(e),l(e))};return c(u.mark((function a(){var i;return u.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&n){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,e.getAccountInfo(n);case 4:i=a.sent,r(i),t=e.onAccountChange(n,r);case 7:case"end":return a.stop()}}),a)})))(),function(){t&&e.removeAccountChangeListener(t)}}),[l,n,e,s]),{nativeAccount:o}},x=new Set,M=function(){var e=c(u.mark((function e(n,r){return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return x.add(r.toBase58()),e.next=5,n.getTokenAccountsByOwner(r,{programId:h.programIds().token});case 5:e.sent.value.forEach((function(e){t.cache.add(e.pubkey.toBase58(),e.account,t.TokenAccountParser)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.AccountsProvider=function(e){var n=e.children,r=void 0===n?null:n,i=m.useConnection(),o=m.useWallet().publicKey,u=f.useState([]),c=a(u,2),l=c[0],s=c[1],d=f.useState([]),b=a(d,2),y=b[0],E=b[1],k=O().nativeAccount,w=f.useCallback((function(){return t.cache.byParser(t.TokenAccountParser).map((function(e){return t.cache.get(e)})).filter((function(e){return e&&e.info.owner.toBase58()===(null===o||void 0===o?void 0:o.toBase58())})).map((function(e){return e}))}),[o]);return f.useEffect((function(){var e=w().filter((function(e){return void 0!==e}));E(e)}),[k,l,w]),f.useEffect((function(){var e=[];return t.cache.emitter.onCache((function(e){if(e.isNew){var n=e.id,r=e.parser;i.onAccountChange(new p.PublicKey(n),(function(e){t.cache.add(n,e,r)}))}})),function(){e.forEach((function(e){return i.removeAccountChangeListener(e)}))}}),[i]),f.useEffect((function(){if(i&&o){M(i,h.LEND_HOST_FEE_ADDRESS),M(i,o).then((function(){s(w())}));var e=i.onProgramAccountChange(h.programIds().token,(function(e){var n=e.accountId;if(e.accountInfo.data.length===v.AccountLayout.span){var r=t.deserializeAccount(e.accountInfo.data);x.has(r.owner.toBase58())&&(t.cache.add(n,e.accountInfo,t.TokenAccountParser),s(w()))}}),"singleGossip");return function(){i.removeProgramAccountChangeListener(e)}}s([])}),[i,o,w]),f.default.createElement(g.Provider,{value:{userAccounts:y,nativeAccount:k}},r)},t.useNativeAccount=function(){return{account:f.useContext(g).nativeAccount}};var P=function(){var t=c(u.mark((function t(n,a,i){var c,l;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(b.chunks(a,99).map((function(e){return _(n,e,i)})));case 2:return c=t.sent,l=c.map((function(t){return t.array.map((function(t){if(t){var n=t.data,a=r(t,["data"]);return o(o({},a),{},{data:e.from(n[0],"base64")})}}))})).flat(),t.abrupt("return",{keys:a,array:l});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();t.getMultipleAccounts=P;var _=function(){var e=c(u.mark((function e(t,n,r){var a,i,o;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._buildArgs([n],r,"base64"),e.next=3,t._rpcRequest("getMultipleAccounts",a);case 3:if(!(i=e.sent).error){e.next=6;break}throw new Error("failed to get info about account "+i.error.message);case 6:if(!i.result.value){e.next=9;break}return o=i.result.value,e.abrupt("return",{keys:n,array:o});case 9:throw new Error;case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();t.useMint=function(e){var n=m.useConnection(),r=f.useState(),i=a(r,2),o=i[0],u=i[1],c="string"===typeof e?e:null===e||void 0===e?void 0:e.toBase58();return f.useEffect((function(){if(c){t.cache.query(n,c,t.MintParser).then((function(e){return u(e.info)})).catch((function(e){return console.log(e)}));var e=t.cache.emitter.onCache((function(e){e.id===c&&t.cache.query(n,c,t.MintParser).then((function(e){return u(e.info)}))}));return function(){e()}}}),[n,c]),o},t.useAccount=function(e){var n=m.useConnection(),r=f.useState(),i=a(r,2),o=i[0],l=i[1],s=null===e||void 0===e?void 0:e.toBase58();return f.useEffect((function(){var e=function(){var e=c(u.mark((function e(){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.cache.query(n,s,t.TokenAccountParser).catch((function(e){return console.log(e)}));case 5:(r=e.sent)&&l(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e();var r=t.cache.emitter.onCache((function(t){t.id===s&&e()}));return function(){r()}}),[n,s]),o};t.deserializeAccount=function(e){var t=v.AccountLayout.decode(e);return t.mint=new p.PublicKey(t.mint),t.owner=new p.PublicKey(t.owner),t.amount=v.u64.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new v.u64(0)):(t.delegate=new p.PublicKey(t.delegate),t.delegatedAmount=v.u64.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=v.u64.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new p.PublicKey(t.closeAuthority),t};t.deserializeMint=function(e){if(e.length!==v.MintLayout.span)throw new Error("Not a valid Mint");var t=v.MintLayout.decode(e);return 0===t.mintAuthorityOption?t.mintAuthority=null:t.mintAuthority=new p.PublicKey(t.mintAuthority),t.supply=v.u64.fromBuffer(t.supply),t.isInitialized=0!==t.isInitialized,0===t.freezeAuthorityOption?t.freezeAuthority=null:t.freezeAuthority=new p.PublicKey(t.freezeAuthority),t}}).call(this,n(27).Buffer)},292:function(e,t,n){"use strict";var r=n(7),a=n(170),i=n(214),o=n(117),u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return c(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.simulateTransaction=t.sendSignedTransaction=t.getUnixTs=t.sendTransactionWithRetry=t.sendTransaction=t.sendTransactions=t.SequenceType=t.getErrorForTransaction=t.useSlippageConfig=t.useConnectionConfig=t.useSendConnection=t.useConnection=t.ConnectionProvider=t.ENDPOINTS=void 0;var s=n(239),d=n(30),f=l(n(0)),m=n(575),p=n(591),v=n(186),b=n(776),y=n(593),h=n(472);t.ENDPOINTS=[{name:"mainnet-beta",endpoint:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_LEND_HOST_FEE_ADDRESS:""}).REACT_APP_MAINNET_RPC||"https://explorer-api.mainnet-beta.solana.com",ChainId:b.ENV.MainnetBeta},{name:"testnet",endpoint:d.clusterApiUrl("testnet"),ChainId:b.ENV.Testnet},{name:"devnet",endpoint:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_LEND_HOST_FEE_ADDRESS:""}).REACT_APP_DEVNET_RPC||"https://explorer-api.devnet.solana.com",ChainId:b.ENV.Devnet},{name:"localnet",endpoint:"http://127.0.0.1:8899",ChainId:b.ENV.Devnet}];var g,E=t.ENDPOINTS[0].endpoint,k=f.default.createContext({endpoint:E,setEndpoint:function(){},slippage:.25,setSlippage:function(e){},connection:new d.Connection(E,"recent"),sendConnection:new d.Connection(E,"recent"),env:t.ENDPOINTS[0].name,tokens:[],tokenMap:new Map});!function(e){e[e.Solana=1]="Solana",e[e.Ethereum=2]="Ethereum"}(g||(g={})),t.ConnectionProvider=function(e){var n,r=e.children,a=void 0===r?void 0:r,u=s.useLocalStorageState("connectionEndpoint",t.ENDPOINTS[0].endpoint),c=o(u,2),l=c[0],m=c[1],p=s.useLocalStorageState("slippage",.25.toString()),y=o(p,2),h=y[0],E=y[1],w=f.useMemo((function(){return new d.Connection(l,"recent")}),[l]),A=f.useMemo((function(){return new d.Connection(l,"recent")}),[l]),S=(null===(n=t.ENDPOINTS.find((function(e){return e.endpoint===l})))||void 0===n?void 0:n.name)||t.ENDPOINTS[0].name,O=f.useState([]),x=o(O,2),M=x[0],P=x[1],_=f.useState(new Map),T=o(_,2),C=T[0],B=T[1];return f.useEffect((function(){(new b.TokenListProvider).resolve().then((function(e){var n,r=e.excludeByTag("nft").filterByChainId((null===(n=t.ENDPOINTS.find((function(e){return e.endpoint===l})))||void 0===n?void 0:n.ChainId)||b.ENV.MainnetBeta).getList();r.push({address:"66CgfJQoZkpkrEgC1z4vFJcSFc4V6T5HqbjSSNuqcNJz",chainId:g.Solana,decimals:9,logoURI:"https://assets.coingecko.com/coins/images/15500/thumb/ibbtc.png?1621077589",name:"Interest Bearing Bitcoin (Wormhole)",symbol:"IBBTC",extensions:{address:"0xc4e15973e6ff2a35cc804c2cf9d2a1b817a8b40f"}});var a=i(r).reduce((function(e,t){return e.set(t.address,t),e}),new Map);B(a),P(r)}))}),[S]),v.setProgramIds(S),f.useEffect((function(){var e=w.onAccountChange((new d.Account).publicKey,(function(){}));return function(){w.removeAccountChangeListener(e)}}),[w]),f.useEffect((function(){var e=w.onSlotChange((function(){return null}));return function(){w.removeSlotChangeListener(e)}}),[w]),f.useEffect((function(){var e=A.onAccountChange((new d.Account).publicKey,(function(){}));return function(){A.removeAccountChangeListener(e)}}),[A]),f.useEffect((function(){var e=A.onSlotChange((function(){return null}));return function(){A.removeSlotChangeListener(e)}}),[A]),f.default.createElement(k.Provider,{value:{endpoint:l,setEndpoint:m,slippage:parseFloat(h),setSlippage:function(e){return E(e.toString())},connection:w,sendConnection:A,tokens:M,tokenMap:C,env:S}},a)},t.useConnection=function(){return f.useContext(k).connection},t.useSendConnection=function(){var e;return null===(e=f.useContext(k))||void 0===e?void 0:e.sendConnection},t.useConnectionConfig=function(){var e=f.useContext(k);return{endpoint:e.endpoint,setEndpoint:e.setEndpoint,env:e.env,tokens:e.tokens,tokenMap:e.tokenMap}},t.useSlippageConfig=function(){var e=f.useContext(k);return{slippage:e.slippage,setSlippage:e.setSlippage}};var w,A=function(){var e=a(r.mark((function e(t,n){var a,i;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.confirmTransaction(n,"max");case 2:return e.next=4,t.getParsedConfirmedTransaction(n);case 4:return a=e.sent,i=[],(null===a||void 0===a?void 0:a.meta)&&a.meta.logMessages&&a.meta.logMessages.forEach((function(e){for(var t,n=/Error: (.*)/gm;null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.length>1&&i.push(t[1])})),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.getErrorForTransaction=A,function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(w=t.SequenceType||(t.SequenceType={}));var S=function(){var e=a(r.mark((function e(t,n,a,o){var u,c,l,s,f,m,p,v,b,y,g,E,k,A,S=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=S.length>4&&void 0!==S[4]?S[4]:w.Parallel,c=S.length>5&&void 0!==S[5]?S[5]:"singleGossip",l=S.length>6&&void 0!==S[6]?S[6]:function(e,t){},s=S.length>7&&void 0!==S[7]?S[7]:function(e,t){return!1},f=S.length>8?S[8]:void 0,n.publicKey){e.next=7;break}throw new h.WalletNotConnectedError;case 7:if(m=[],f){e.next=12;break}return e.next=11,t.getRecentBlockhash(c);case 11:f=e.sent;case 12:p=function(e){var t=a[e],r=o[e];if(0===t.length)return"continue";var u=new d.Transaction;t.forEach((function(e){return u.add(e)})),u.recentBlockhash=f.blockhash,u.setSigners.apply(u,[n.publicKey].concat(i(r.map((function(e){return e.publicKey}))))),r.length>0&&u.partialSign.apply(u,i(r)),m.push(u)},v=0;case 14:if(!(v<a.length)){e.next=21;break}if("continue"!==p(v)){e.next=18;break}return e.abrupt("continue",18);case 18:v++,e.next=14;break;case 21:return e.next=23,n.signAllTransactions(m);case 23:b=e.sent,y=[],g={breakEarly:!1},E=r.mark((function e(n){var a;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=P({connection:t,signedTransaction:b[n]})).then((function(e){var t=e.txid;e.slot;l(t,n)})).catch((function(e){s(b[n],n),u==w.StopOnFailure&&(g.breakEarly=!0)})),u==w.Parallel){e.next=9;break}return e.next=5,a;case 5:if(!g.breakEarly){e.next=7;break}return e.abrupt("return",{v:n});case 7:e.next=10;break;case 9:y.push(a);case 10:case"end":return e.stop()}}),e)})),k=0;case 28:if(!(k<b.length)){e.next=36;break}return e.delegateYield(E(k),"t0",30);case 30:if("object"!==typeof(A=e.t0)){e.next=33;break}return e.abrupt("return",A.v);case 33:k++,e.next=28;break;case 36:if(u==w.Parallel){e.next=39;break}return e.next=39,Promise.all(y);case 39:return e.abrupt("return",b.length);case 40:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.sendTransactions=S;var O=function(){var e=a(r.mark((function e(t,n,a,o){var u,c,l,s,v,b,g,E,k,w,A,S,O,x,P=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=!(P.length>4&&void 0!==P[4])||P[4],c=P.length>5&&void 0!==P[5]?P[5]:"singleGossip",l=P.length>6&&void 0!==P[6]&&P[6],s=P.length>7?P[7]:void 0,n.publicKey){e.next=6;break}throw new h.WalletNotConnectedError;case 6:if(v=new d.Transaction,a.forEach((function(e){return v.add(e)})),e.t0=s,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(c);case 12:e.t0=e.sent;case 13:if(v.recentBlockhash=e.t0.blockhash,l?(b=v).setSigners.apply(b,i(o.map((function(e){return e.publicKey})))):(g=v).setSigners.apply(g,[n.publicKey].concat(i(o.map((function(e){return e.publicKey}))))),o.length>0&&(E=v).partialSign.apply(E,i(o)),l){e.next=26;break}return e.prev=17,e.next=20,n.signTransaction(v);case 20:v=e.sent,e.next=26;break;case 23:throw e.prev=23,e.t1=e.catch(17),new y.SignTransactionError(e.t1);case 26:return k=v.serialize(),w={skipPreflight:!0,commitment:c},e.next=30,t.sendRawTransaction(k,w);case 30:if(A=e.sent,S=0,!u){e.next=45;break}return e.next=35,B(A,M,t,c);case 35:if(O=e.sent,S=(null===O||void 0===O?void 0:O.slot)||0,!(null===O||void 0===O?void 0:O.err)){e.next=45;break}if(x=[],!("timeout"in O.err)){e.next=43;break}throw m.notify({message:"Transaction hasn't been confirmed within ".concat(M/1e3,"s. Please check on Solana Explorer"),description:f.default.createElement(f.default.Fragment,null,f.default.createElement(p.ExplorerLink,{address:A,type:"transaction",short:!0,connection:t})),type:"warn"}),new y.TransactionTimeoutError(A);case 43:throw m.notify({message:"Transaction error",description:f.default.createElement(f.default.Fragment,null,x.map((function(e){return f.default.createElement("div",null,e)})),f.default.createElement(p.ExplorerLink,{address:A,type:"transaction",short:!0,connection:t})),type:"error"}),new y.SendTransactionError("Transaction ".concat(A," failed (").concat(JSON.stringify(O),")"),A,O.err);case 45:return e.abrupt("return",{txid:A,slot:S});case 46:case"end":return e.stop()}}),e,null,[[17,23]])})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.sendTransaction=O;var x=function(){var e=a(r.mark((function e(t,n,a,o){var u,c,l,s,f,m,p,v,b,y,g,E=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=E.length>4&&void 0!==E[4]?E[4]:"singleGossip",c=E.length>5&&void 0!==E[5]&&E[5],l=E.length>6?E[6]:void 0,s=E.length>7?E[7]:void 0,n.publicKey){e.next=6;break}throw new h.WalletNotConnectedError;case 6:if(f=new d.Transaction,a.forEach((function(e){return f.add(e)})),e.t0=l,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(u);case 12:e.t0=e.sent;case 13:if(f.recentBlockhash=e.t0.blockhash,c?(m=f).setSigners.apply(m,i(o.map((function(e){return e.publicKey})))):(p=f).setSigners.apply(p,[n.publicKey].concat(i(o.map((function(e){return e.publicKey}))))),o.length>0&&(v=f).partialSign.apply(v,i(o)),c){e.next=20;break}return e.next=19,n.signTransaction(f);case 19:f=e.sent;case 20:return s&&s(),e.next=23,P({connection:t,signedTransaction:f});case 23:return b=e.sent,y=b.txid,g=b.slot,e.abrupt("return",{txid:y,slot:g});case 27:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();t.sendTransactionWithRetry=x;t.getUnixTs=function(){return(new Date).getTime()/1e3};var M=3e4;function P(e){return _.apply(this,arguments)}function _(){return(_=a(r.mark((function e(n){var i,o,u,c,l,d,f,m,p,v,b,y,h;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.signedTransaction,o=n.connection,u=n.timeout,c=void 0===u?M:u,l=i.serialize(),d=t.getUnixTs(),f=0,e.next=6,o.sendRawTransaction(l,{skipPreflight:!0});case 6:return m=e.sent,console.log("Started awaiting confirmation for",m),p=!1,a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p||!(t.getUnixTs()-d<c)){e.next=6;break}return o.sendRawTransaction(l,{skipPreflight:!0}),e.next=4,s.sleep(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,B(m,c,o,"recent",!0);case 13:if(!(v=e.sent).err){e.next=17;break}throw console.error(v.err),new Error("Transaction failed: Custom instruction error");case 17:f=(null===v||void 0===v?void 0:v.slot)||0,e.next=44;break;case 20:if(e.prev=20,e.t0=e.catch(10),!e.t0.timeout){e.next=24;break}throw new Error("Timed out awaiting confirmation on transaction");case 24:return b=null,e.prev=25,e.next=28,T(o,i,"single");case 28:b=e.sent.value,e.next=33;break;case 31:e.prev=31,e.t1=e.catch(25);case 33:if(!b||!b.err){e.next=44;break}if(!b.logs){e.next=43;break}y=b.logs.length-1;case 36:if(!(y>=0)){e.next=43;break}if(!(h=b.logs[y]).startsWith("Program log: ")){e.next=40;break}throw new Error("Transaction failed: "+h.slice("Program log: ".length));case 40:--y,e.next=36;break;case 43:throw new Error(JSON.stringify(b.err));case 44:return e.prev=44,p=!0,e.finish(44);case 47:return console.log("Latency",m,t.getUnixTs()-d),e.abrupt("return",{txid:m,slot:f});case 49:case"end":return e.stop()}}),e,null,[[10,20,44,47],[25,31]])})))).apply(this,arguments)}function T(e,t,n){return C.apply(this,arguments)}function C(){return(C=a(r.mark((function e(t,n,a){var i,o,u,c,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,i=n.serializeMessage(),o=n._serialize(i),u=o.toString("base64"),c=[u,{encoding:"base64",commitment:a}],e.next=10,t._rpcRequest("simulateTransaction",c);case 10:if(!(l=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+l.error.message);case 13:return e.abrupt("return",l.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n){return N.apply(this,arguments)}function N(){return(N=a(r.mark((function e(t,n,i){var o,u,c,l,d,f=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=f.length>3&&void 0!==f[3]?f[3]:"recent",u=f.length>4&&void 0!==f[4]&&f[4],c=!1,l={slot:0,confirmations:0,err:null},d=0,e.next=7,new Promise((function(e,f){a(r.mark((function m(){return r.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:setTimeout((function(){c||(c=!0,f({timeout:!0}))}),n);try{d=i.onSignature(t,(function(t,n){c=!0,l={err:t.err,slot:n.slot,confirmations:0},t.err?(console.log("Rejected via websocket",t.err),f(t.err)):(console.log("Resolved via websocket",t),e(t))}),o)}catch(p){c=!0,console.error("WS error in setup",t,p)}case 2:if(c||!u){m.next=8;break}return a(r.mark((function n(){var a;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.getSignatureStatuses([t]);case 3:a=n.sent,l=a&&a.value[0],c||(l?l.err?(console.log("REST error for",t,l),c=!0,f(l.err)):l.confirmations?(console.log("REST confirmation for",t,l),c=!0,e(l)):console.log("REST no confirmations for",t,l):console.log("REST null result for",t,l)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),c||console.log("REST connection error: txid",t,n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))(),m.next=6,s.sleep(2e3);case 6:m.next=2;break;case 8:case"end":return m.stop()}}),m)})))()})).catch((function(e){e.timeout&&l&&(l.err={timeout:!0}),i._signatureSubscriptions[d]&&i.removeSignatureListener(d)})).then((function(e){i._signatureSubscriptions[d]&&i.removeSignatureListener(d)}));case 7:return c=!0,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.sendSignedTransaction=P,t.simulateTransaction=T},293:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(896),t),a(n(574),t)},353:function(e,t,n){"use strict";var r=n(238),a=n(117),i=n(106);Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeBorsh=void 0;var o=n(30),u=n(354);function c(e,t,n,r){try{return"string"===typeof n?r["read".concat((a=n,a.charAt(0).toUpperCase()+a.slice(1)))]():n instanceof Array?"number"===typeof n[0]?r.readFixedArray(n[0]):r.readArray((function(){return c(e,t,n[0],r)})):"option"===n.kind?r.readU8()?c(e,t,n.type,r):void 0:l(e,n,r)}catch(i){throw i instanceof u.BorshError&&i.addToFieldPath(t),i}var a}function l(e,t,n){var o=e.get(t);if(!o)throw new u.BorshError("Class ".concat(t.name," is missing in schema"));if("struct"===o.kind){var l,s={},d=i(e.get(t).fields);try{for(d.s();!(l=d.n()).done;){var f=a(l.value,2),m=f[0],p=f[1];s[m]=c(e,m,p,n)}}catch(g){d.e(g)}finally{d.f()}return new t(s)}if("enum"===o.kind){var v=n.readU8();if(v>=o.values.length)throw new u.BorshError("Enum index: ".concat(v," is out of range"));var b=a(o.values[v],2),y=b[0],h=c(e,y,b[1],n);return new t(r({},y,h))}throw new u.BorshError("Unexpected schema kind: ".concat(o.kind," for ").concat(t.constructor.name))}u.BinaryReader.prototype.readPubkey=function(){var e=this.readFixedArray(32);return new o.PublicKey(e)},u.BinaryWriter.prototype.writePubkey=function(e){this.writeFixedArray(e.toBuffer())},t.deserializeBorsh=function(e,t,n){return l(e,t,new u.BinaryReader(n))}},379:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v}));var r,a=n(30),i=n(115),o=n.n(i),u=n(5),c=n(114),l=n(119),s=n(12),d=n(65),f=s.utils.TOKEN_PROGRAM_ID,m=s.utils.LENDING_PROGRAM_ID;!function(e){e[e.LiquidityBorrowAmount=0]="LiquidityBorrowAmount",e[e.CollateralDepositAmount=1]="CollateralDepositAmount"}(r||(r={}));var p=function(t,n,r,i,l,s,p,v,b,y,h,g,E,k,w,A,S,O,x){var M=u.struct([u.u8("instruction"),d.c("amount"),u.u8("amountType")]),P=e.alloc(M.span);M.encode({instruction:c.a.BorrowLiquidity,amount:new o.a(t),amountType:n},P);var _=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!0,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1}];return x&&_.push({pubkey:x,isSigner:!1,isWritable:!0}),new a.TransactionInstruction({keys:_,programId:m,data:P})},v=function(e){var t,n=Object(l.c)(e),r=e.config.optimalUtilizationRate/100;if(1===r||n<r){var a=n/r,i=e.config.optimalBorrowRate/100,o=e.config.minBorrowRate/100;t=a*(i-o)+o}else{var u=(n-r)/(1-r),c=e.config.optimalBorrowRate/100;t=u*(e.config.maxBorrowRate/100-c)+c}return t}}).call(this,n(27).Buffer)},472:function(e,t,n){"use strict";var r=n(117),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletProvider=t.WalletModalProvider=t.WalletModal=t.useWalletModal=t.WalletModalContext=t.WalletNotConnectedError=t.useWallet=void 0;var u=n(17);Object.defineProperty(t,"WalletNotConnectedError",{enumerable:!0,get:function(){return u.WalletNotConnectedError}});var c=n(1559),l=n(1558),s=n(53),d=o(n(0)),f=n(251),m=n(292);function p(){return c.useWallet()}function v(){return d.useContext(t.WalletModalContext)}t.useWallet=p,t.WalletModalContext=d.createContext({}),t.useWalletModal=v;t.WalletModal=function(){var e=p(),t=e.wallets,n=e.wallet,r=e.select,a=v(),i=a.visible,o=a.setVisible,u=d.useCallback((function(){return o(!1)}),[o]);return d.default.createElement(s.Modal,{title:"Select Wallet",okText:"Connect",visible:i,footer:null,onCancel:u,width:400},t.map((function(e){return d.default.createElement(s.Button,{key:e.name,size:"large",type:e===n?"primary":"ghost",onClick:function(){r(e.name),u()},icon:d.default.createElement("img",{alt:"".concat(e.name),width:20,height:20,src:e.icon,style:{marginRight:8}}),style:{display:"block",width:"100%",textAlign:"left",marginBottom:8}},e.name)})))};t.WalletModalProvider=function(e){var n=e.children,a=p().publicKey,i=d.useState(!!a),o=r(i,2),u=o[0],c=o[1],l=d.useState(!1),s=r(l,2),m=s[0],v=s[1];return d.useEffect((function(){if(a){var e=a.toBase58(),t=e.length>20?"".concat(e.substring(0,7),".....").concat(e.substring(e.length-7,e.length)):e;f.notify({message:"Wallet update",description:"Connected to wallet "+t})}}),[a]),d.useEffect((function(){!a&&u&&f.notify({message:"Wallet update",description:"Disconnected from wallet"}),c(!!a)}),[a,u,c]),d.default.createElement(t.WalletModalContext.Provider,{value:{visible:m,setVisible:v}},n,d.default.createElement(t.WalletModal,null))};t.WalletProvider=function(e){var n=e.children,r=m.useConnectionConfig().env,a=d.useMemo((function(){switch(r){case"mainnet-beta":return u.WalletAdapterNetwork.Mainnet;case"testnet":return u.WalletAdapterNetwork.Testnet;case"devnet":case"localnet":default:return u.WalletAdapterNetwork.Devnet}}),[r]),i=d.useMemo((function(){return[l.getPhantomWallet(),l.getSlopeWallet(),l.getSolflareWallet(),l.getTorusWallet({options:{clientId:"Get a client ID @ https://developer.tor.us"}}),l.getLedgerWallet(),l.getSolletWallet({network:a}),l.getSolletExtensionWallet({network:a})]}),[]),o=d.useCallback((function(e){console.error(e),f.notify({message:"Wallet error",description:e.message})}),[]);return d.default.createElement(c.WalletProvider,{wallets:i,onError:o,autoConnect:!0},d.default.createElement(t.WalletModalProvider,null,n))}},48:function(e,t,n){"use strict";var r=n(663);n.d(t,"c",(function(){return r.a})),n.d(t,"q",(function(){return r.b}));var a=n(119);n.d(t,"f",(function(){return a.a})),n.d(t,"g",(function(){return a.b})),n.d(t,"k",(function(){return a.c})),n.d(t,"l",(function(){return a.d})),n.d(t,"p",(function(){return a.e})),n.d(t,"s",(function(){return a.f})),n.d(t,"t",(function(){return a.g}));var i=n(664);n.d(t,"d",(function(){return i.a})),n.d(t,"e",(function(){return i.b})),n.d(t,"n",(function(){return i.c})),n.d(t,"o",(function(){return i.d})),n.d(t,"r",(function(){return i.e}));var o=n(114);n.d(t,"b",(function(){return o.a}));var u=n(379);n.d(t,"a",(function(){return u.a})),n.d(t,"h",(function(){return u.b})),n.d(t,"i",(function(){return u.c}));var c=n(665);n.d(t,"j",(function(){return c.a})),n.d(t,"m",(function(){return c.b}));var l=n(666);n.d(t,"u",(function(){return l.a}))},495:function(e,t,n){"use strict";var r=n(7),a=n(170),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;var c=u(n(0)),l=n(53),s=n(174),d=n(251),f=n(178);t.Settings=function(e){var t=e.additionalSettings,n=s.useWallet(),i=n.connected,o=n.disconnect,u=n.publicKey,m=s.useConnectionConfig(),p=m.endpoint,v=m.setEndpoint,b=s.useWalletModal().setVisible,y=c.useCallback((function(){return b(!0)}),[b]);return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{style:{display:"grid"}},"Network:"," ",c.default.createElement(l.Select,{onSelect:v,value:p,style:{marginBottom:20}},s.ENDPOINTS.map((function(e){var t=e.name,n=e.endpoint;return c.default.createElement(l.Select.Option,{value:n,key:n},t)}))),i&&c.default.createElement(c.default.Fragment,null,c.default.createElement("span",null,"Wallet:"),u&&c.default.createElement(l.Button,{style:{marginBottom:5},onClick:function(){var e=a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=4;break}return e.next=3,navigator.clipboard.writeText(u.toBase58());case 3:d.notify({message:"Wallet update",description:"Address copied to clipboard"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},c.default.createElement(f.CopyOutlined,null),d.shortenAddress(u.toBase58())),c.default.createElement(l.Button,{onClick:y,style:{marginBottom:5}},"Change"),c.default.createElement(l.Button,{type:"primary",onClick:function(){return o().catch()},style:{marginBottom:5}},"Disconnect")),t))}},496:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(658),t),a(n(1132),t),a(n(1133),t),a(n(1134),t)},546:function(e){e.exports=JSON.parse('{"name":"lending","version":"0.1.0","dependencies":{"@ant-design/icons":"^4.4.0","@ant-design/pro-layout":"^6.7.0","@babel/preset-typescript":"^7.12.13","@craco/craco":"^5.7.0","@oyster/common":"0.0.2","@project-serum/serum":"^0.13.11","@solana/spl-token":"0.0.13","@solana/spl-token-swap":"0.1.0","@solana/web3.js":"^1.22.0","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.5.0","@testing-library/user-event":"^7.2.1","@types/chart.js":"^2.9.29","@types/echarts":"^4.9.0","@types/react-router-dom":"^5.1.6","@types/testing-library__react":"^10.2.0","@welldone-software/why-did-you-render":"^6.0.5","antd":"^4.6.6","bn.js":"^5.1.3","bs58":"^4.0.1","buffer-layout":"^1.2.0","chart.js":"^2.9.4","craco-alias":"^2.1.1","craco-babel-loader":"^0.1.4","craco-less":"^1.17.0","echarts":"^4.9.0","eventemitter3":"^4.0.7","identicon.js":"^2.3.3","jazzicon":"^1.5.0","lodash":"^4.17.20","react":"16.13.1","react-dom":"16.13.1","react-github-btn":"^1.2.0","react-intl":"^5.10.2","react-router-dom":"^5.2.0","react-scripts":"3.4.3","typescript":"^4.1.3"},"scripts":{"prestart":"npm-link-shared ../common/node_modules/ . react","start":"craco start --verbose","start:lending":"craco start --verbose","build":"craco build","test":"craco test","eject":"react-scripts eject","localnet:update":"solana-localnet update","localnet:up":"rm client/util/store/config.json; set -x; solana-localnet down; set -e; solana-localnet up","localnet:down":"solana-localnet down","localnet:logs":"solana-localnet logs -f","predeploy":"git pull --ff-only && yarn && yarn build","deploy":"gh-pages -d build","deploy:ar":"arweave deploy-dir build --key-file ","format:fix":"prettier --write \\"**/*.+(js|jsx|ts|tsx|json|css|md)\\""},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"repository":{"type":"git","url":"https://github.com/solana-labs/oyster-lending"},"homepage":".","devDependencies":{"@types/bn.js":"^5.1.0","@types/bs58":"^4.0.1","@types/identicon.js":"^2.3.0","@types/jest":"^24.9.1","@types/node":"^12.12.62","arweave-deploy":"^1.9.1","gh-pages":"^3.1.0","prettier":"^2.1.2","npm-link-shared":"0.5.6"},"peerDependencies":{"react":"*","react-dom":"*"},"resolutions":{"react":"16.13.1","react-dom":"16.13.1"}}')},548:function(e,t,n){},549:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(812),t),a(n(1104),t),a(n(1105),t),a(n(1106),t)},571:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenSwapLayout=t.TokenSwapLayoutV1=t.TokenSwapLayoutLegacyV0=t.TokenSwap=void 0;var o=i(n(5)),u=n(572),c=n(891);Object.defineProperty(t,"TokenSwap",{enumerable:!0,get:function(){return c.TokenSwap}});var l=o.struct([o.nu64("tradeFeeNumerator"),o.nu64("tradeFeeDenominator"),o.nu64("ownerTradeFeeNumerator"),o.nu64("ownerTradeFeeDenominator"),o.nu64("ownerWithdrawFeeNumerator"),o.nu64("ownerWithdrawFeeDenominator"),o.nu64("hostFeeNumerator"),o.nu64("hostFeeDenominator")],"fees");t.TokenSwapLayoutLegacyV0=o.struct([o.u8("isInitialized"),o.u8("nonce"),u.publicKey("tokenAccountA"),u.publicKey("tokenAccountB"),u.publicKey("tokenPool"),u.uint64("feesNumerator"),u.uint64("feesDenominator")]),t.TokenSwapLayoutV1=o.struct([o.u8("isInitialized"),o.u8("nonce"),u.publicKey("tokenProgramId"),u.publicKey("tokenAccountA"),u.publicKey("tokenAccountB"),u.publicKey("tokenPool"),u.publicKey("mintA"),u.publicKey("mintB"),u.publicKey("feeAccount"),o.u8("curveType"),u.uint64("tradeFeeNumerator"),u.uint64("tradeFeeDenominator"),u.uint64("ownerTradeFeeNumerator"),u.uint64("ownerTradeFeeDenominator"),u.uint64("ownerWithdrawFeeNumerator"),u.uint64("ownerWithdrawFeeDenominator"),o.blob(16,"padding")]);var s=o.union(o.u8(),o.blob(32),"curve");s.addVariant(0,o.struct([]),"constantProduct"),s.addVariant(1,o.struct([o.nu64("token_b_price")]),"constantPrice"),s.addVariant(2,o.struct([]),"stable"),s.addVariant(3,o.struct([o.nu64("token_b_offset")]),"offset"),t.TokenSwapLayout=o.struct([o.u8("isInitialized"),o.u8("nonce"),u.publicKey("tokenProgramId"),u.publicKey("tokenAccountA"),u.publicKey("tokenAccountB"),u.publicKey("tokenPool"),u.publicKey("mintA"),u.publicKey("mintB"),u.publicKey("feeAccount"),l,s])},572:function(e,t,n){"use strict";(function(e){var r=n(214),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.rustString=t.uint128=t.uint64=t.publicKey=void 0;var c=n(30),l=u(n(467)),s=o(n(5));t.publicKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey",t=s.blob(32,e),n=t.decode.bind(t),r=t.encode.bind(t);return t.decode=function(e,t){var r=n(e,t);return new c.PublicKey(r)},t.encode=function(e,t,n){return r(e.toBuffer(),t,n)},t};t.uint64=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64",n=s.blob(8,t),a=n.decode.bind(n),i=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new l.default(r(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),o=e.from(a);if(8!==o.length){var u=e.alloc(8);o.copy(u),o=u}return i(o,n,r)},n};t.uint128=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint128",n=s.blob(16,t),a=n.decode.bind(n),i=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new l.default(r(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),o=e.from(a);if(16!==o.length){var u=e.alloc(16);o.copy(u),o=u}return i(o,n,r)},n};t.rustString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",n=s.struct([s.u32("length"),s.u32("lengthPadding"),s.blob(s.offset(s.u32(),-8),"chars")],t),r=n.decode.bind(n),a=n.encode.bind(n);return n.decode=function(e,t){return r(e,t).chars.toString("utf8")},n.encode=function(t,n,r){var i={chars:e.from(t,"utf8")};return a(i,n,r)},n}}).call(this,n(27).Buffer)},574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LABELS=void 0,t.LABELS={CONNECT_LABEL:"Connect Wallet",AUDIT_WARNING:"Oyster is an unaudited software project used for internal purposes at the Solana Foundation. This app is not for public use.",FOOTER:'This page was produced by the Solana Foundation ("SF") for internal educational and inspiration purposes only. SF does not encourage, induce or sanction the deployment, integration or use of Oyster or any similar application (including its code) in violation of applicable laws or regulations and hereby prohibits any such deployment, integration or use. Anyone using this code or a derivation thereof must comply with applicable laws and regulations when releasing related software.',MENU_HOME:"Home",MENU_DASHBOARD:"Dashboard",CONNECT_BUTTON:"Connect",WALLET_TOOLTIP:"Wallet public key",WALLET_BALANCE:"Wallet balance",SETTINGS_TOOLTIP:"Settings",DASHBOARD_ACTION:"Go to dashboard",GO_BACK_ACTION:"Go back"}},575:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.notify=void 0;var a=r(n(0)),i=n(53);t.notify=function(e){var t=e.message,n=void 0===t?"":t,r=e.description,o=void 0===r?void 0:r,u=e.txid,c=void 0===u?"":u,l=e.type,s=void 0===l?"info":l,d=e.placement,f=void 0===d?"bottomLeft":d;c&&(o=a.default.createElement(a.default.Fragment,null)),i.notification[s]({message:a.default.createElement("span",{style:{color:"black"}},n),description:a.default.createElement("span",{style:{color:"black",opacity:.5}},o),placement:f,style:{backgroundColor:"white"}})}},591:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerLink=void 0;var a=r(n(0)),i=n(53),o=n(239),u=n(174),c=n(592);t.ExplorerLink=function(e){var t,n,r=e.type,l=e.code,s=e.short,d=u.useConnectionConfig().endpoint,f="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58();if(!f)return null;var m=s||e.length?o.shortenAddress(f,null!==(n=e.length)&&void 0!==n?n:9):f;return a.default.createElement("a",{href:c.getExplorerUrl(f,d,r,e.connection),target:"_blank",title:f,style:e.style},l?a.default.createElement(i.Typography.Text,{style:e.style,code:!0},m):m)}},592:function(e,t,n){"use strict";(function(e){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getExplorerInspectorUrl=t.getExplorerUrl=void 0;var a=n(174),i=n(776),o=r(n(39));function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"address",r=arguments.length>3?arguments[3]:void 0,o=function(){var e;r&&(t=null!==(e=r._rpcEndpoint)&&void 0!==e?e:t);var n,o=a.ENDPOINTS.find((function(e){return e.endpoint===t}));return(null===o||void 0===o?void 0:o.ChainId)==i.ENV.Testnet?n="testnet":(null===o||void 0===o?void 0:o.ChainId)==i.ENV.Devnet&&(n="localnet"===(null===o||void 0===o?void 0:o.name)?"custom&customUrl=".concat(encodeURIComponent("http://127.0.0.1:8899")):"devnet"),n?"?cluster=".concat(n):""};return"https://explorer.solana.com/".concat(n,"/").concat(e).concat(o())}t.getExplorerUrl=u,t.getExplorerInspectorUrl=function(t,n,r){var a=new URL(u("inspector",t,"tx",r)),i=n.signatures.map((function(t){var n;return o.default.encode(null!==(n=t.signature)&&void 0!==n?n:e.alloc(64))}));a.searchParams.append("signatures",JSON.stringify(i));var c=n.serializeMessage();return a.searchParams.append("message",c.toString("base64")),a.toString()}}).call(this,n(27).Buffer)},593:function(e,t,n){"use strict";var r=n(86),a=n(148),i=n(149),o=n(336);Object.defineProperty(t,"__esModule",{value:!0}),t.isTransactionTimeoutError=t.TransactionTimeoutError=t.isSignTransactionError=t.SignTransactionError=t.isSendTransactionError=t.SendTransactionError=void 0;var u=function(e){a(n,e);var t=i(n);function n(e,a,i){var o;return r(this,n),(o=t.call(this,e)).txError=i,o.txId=a,o}return n}(o(Error));t.SendTransactionError=u,t.isSendTransactionError=function(e){return e instanceof u};var c=function(e){a(n,e);var t=i(n);function n(e){return r(this,n),t.call(this,e)}return n}(o(Error));t.SignTransactionError=c,t.isSignTransactionError=function(e){return e instanceof c};var l=function(e){a(n,e);var t=i(n);function n(e){var a;return r(this,n),(a=t.call(this,"Transaction has timed out")).txId=e,a}return n}(o(Error));t.TransactionTimeoutError=l,t.isTransactionTimeoutError=function(e){return e instanceof l}},65:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s}));var r=n(38),a=n(30),i=n(115),o=n.n(i),u=n(5),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey",t=u.blob(32,e),n=t.decode.bind(t),r=t.encode.bind(t);return t.decode=function(e,t){var r=n(e,t);return new a.PublicKey(r)},t.encode=function(e,t,n){return r(e.toBuffer(),t,n)},t},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64",n=u.blob(8,t),a=n.decode.bind(n),i=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new o.a(Object(r.a)(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),o=e.from(a);if(8!==o.length){var u=e.alloc(8);o.copy(u),o=u}return i(o,n,r)},n},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint128",n=u.blob(16,t),a=n.decode.bind(n),i=n.encode.bind(n);return n.decode=function(e,t){var n=a(e,t);return new o.a(Object(r.a)(n).reverse().map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),16)},n.encode=function(t,n,r){var a=t.toArray().reverse(),o=e.from(a);if(16!==o.length){var u=e.alloc(16);o.copy(u),o=u}return i(o,n,r)},n}}).call(this,n(27).Buffer)},650:function(e,t,n){"use strict";var r=n(96),a=n(86);Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=t.MarketUpdateEvent=t.CacheDeleteEvent=t.CacheUpdateEvent=void 0;var i=n(194),o=function e(t,n,r){a(this,e),this.id=t,this.parser=r,this.isNew=n};t.CacheUpdateEvent=o,o.type="CacheUpdate";var u=function e(t){a(this,e),this.id=t};t.CacheDeleteEvent=u,u.type="CacheUpdate";var c=function e(t){a(this,e),this.ids=t};t.MarketUpdateEvent=c,c.type="MarketUpdate";var l=function(){function e(){a(this,e),this.emitter=new i.EventEmitter}return r(e,[{key:"onMarket",value:function(e){var t=this;return this.emitter.on(c.type,e),function(){return t.emitter.removeListener(c.type,e)}}},{key:"onCache",value:function(e){var t=this;return this.emitter.on(o.type,e),function(){return t.emitter.removeListener(o.type,e)}}},{key:"raiseMarketUpdated",value:function(e){this.emitter.emit(c.type,new c(e))}},{key:"raiseCacheUpdated",value:function(e,t,n){this.emitter.emit(o.type,new o(e,t,n))}},{key:"raiseCacheDeleted",value:function(e){this.emitter.emit(u.type,new u(e))}}]),e}();t.EventEmitter=l},651:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EtherscanLink=t.TokenDisplay=t.TokenIcon=t.BackButton=t.ActionConfirmation=t.Settings=t.AppBar=t.NumericInput=t.Info=t.Identicon=t.CurrentUserBadge=t.ConnectButton=t.ExplorerLink=void 0;var r=n(591);Object.defineProperty(t,"ExplorerLink",{enumerable:!0,get:function(){return r.ExplorerLink}});var a=n(652);Object.defineProperty(t,"ConnectButton",{enumerable:!0,get:function(){return a.ConnectButton}});var i=n(653);Object.defineProperty(t,"CurrentUserBadge",{enumerable:!0,get:function(){return i.CurrentUserBadge}});var o=n(655);Object.defineProperty(t,"Identicon",{enumerable:!0,get:function(){return o.Identicon}});var u=n(1121);Object.defineProperty(t,"Info",{enumerable:!0,get:function(){return u.Info}});var c=n(1122);Object.defineProperty(t,"NumericInput",{enumerable:!0,get:function(){return c.NumericInput}});var l=n(1123);Object.defineProperty(t,"AppBar",{enumerable:!0,get:function(){return l.AppBar}});var s=n(495);Object.defineProperty(t,"Settings",{enumerable:!0,get:function(){return s.Settings}});var d=n(1125);Object.defineProperty(t,"ActionConfirmation",{enumerable:!0,get:function(){return d.ActionConfirmation}});var f=n(1130);Object.defineProperty(t,"BackButton",{enumerable:!0,get:function(){return f.BackButton}});var m=n(657);Object.defineProperty(t,"TokenIcon",{enumerable:!0,get:function(){return m.TokenIcon}});var p=n(1131);Object.defineProperty(t,"TokenDisplay",{enumerable:!0,get:function(){return p.TokenDisplay}});var v=n(1135);Object.defineProperty(t,"EtherscanLink",{enumerable:!0,get:function(){return v.EtherscanLink}})},652:function(e,t,n){"use strict";var r=n(468),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectButton=void 0;var u=n(53),c=o(n(0)),l=n(174);t.ConnectButton=function(e){var t=l.useWallet(),n=t.wallet,a=t.connected,i=t.connect,o=l.useWalletModal().setVisible,s=c.useCallback((function(){return o(!0)}),[o]),d=e.onClick,f=(e.children,e.disabled),m=e.allowWalletChange,p=r(e,["onClick","children","disabled","allowWalletChange"]);return n&&m?c.default.createElement(u.Dropdown.Button,{onClick:a?d:i,disabled:a&&f,overlay:c.default.createElement(u.Menu,null,c.default.createElement(u.Menu.Item,{onClick:s},"Change Wallet"))},"Connect"):c.default.createElement(u.Button,Object.assign({},p,{onClick:a?d:n?i:s,disabled:a&&f}),a?e.children:"Connect")}},653:function(e,t,n){"use strict";var r=n(211),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUserBadge=void 0;var u=o(n(0)),c=n(30),l=n(174),s=n(251);n(1107);var d=n(53),f=n(495);t.CurrentUserBadge=function(e){var t=l.useWallet(),n=t.wallet,a=t.publicKey,i=l.useNativeAccount().account,o=u.useMemo((function(){if(a){var e=a.toBase58();return"".concat(e.slice(0,4),"...").concat(e.slice(-4))}}),[a]);if(!n||!o)return null;var m=e.showAddress?{marginLeft:"0.5rem",display:"flex",width:e.iconSize||20,borderRadius:50}:{display:"flex",width:e.iconSize||20,paddingLeft:0,borderRadius:50},p={height:e.iconSize,cursor:"pointer",userSelect:"none"},v=e.showAddress?p:r(r({},p),{},{paddingLeft:0});return u.default.createElement("div",{className:"wallet-wrapper"},e.showBalance&&u.default.createElement("span",null,s.formatNumber.format(((null===i||void 0===i?void 0:i.lamports)||0)/c.LAMPORTS_PER_SOL)," SOL"),u.default.createElement(d.Popover,{placement:"topRight",title:"Settings",content:u.default.createElement(f.Settings,null),trigger:"click"},u.default.createElement("div",{className:"wallet-key",style:v},u.default.createElement("span",{style:{marginRight:"0.5rem"}},o),u.default.createElement("img",{src:n.icon,style:m}))))}},655:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Identicon=void 0;var u=i(n(0)),c=o(n(1108)),l=o(n(39));n(1120);t.Identicon=function(e){var t,n=e.style,r=e.className,a="string"===typeof e.address?e.address:null===(t=e.address)||void 0===t?void 0:t.toBase58(),i=u.useRef();return u.useEffect((function(){if(a&&i.current)try{i.current.innerHTML="",i.current.className=r||"",i.current.appendChild(c.default((null===n||void 0===n?void 0:n.width)||16,parseInt(l.default.decode(a).toString("hex").slice(5,15),16)))}catch(e){}}),[a,n,r]),u.default.createElement("div",{className:"identicon-wrapper",ref:i,style:e.style})}},657:function(e,t,n){"use strict";var r=n(211),a=n(117),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PoolIcon=t.TokenIcon=void 0;var c=u(n(0)),l=n(251),s=n(292),d=n(655);t.TokenIcon=function(e){var t,n,i=c.useState(!0),o=a(i,2),u=o[0],f=o[1],m="";if(e.tokenMap)m=l.getTokenIcon(e.tokenMap,e.mintAddress);else{var p=s.useConnectionConfig().tokenMap;m=l.getTokenIcon(p,e.mintAddress)}var v=e.size||20;return u&&m?c.default.createElement("img",{alt:"Token icon",className:e.className,key:m,width:(null===(t=e.style)||void 0===t?void 0:t.width)||v.toString(),height:(null===(n=e.style)||void 0===n?void 0:n.height)||v.toString(),src:m,style:r({marginRight:"0.5rem",marginTop:"0.11rem",borderRadius:"10rem",backgroundColor:"white",backgroundClip:"padding-box"},e.style),onError:function(){return f(!1)}}):c.default.createElement(d.Identicon,{address:e.mintAddress,style:r({marginRight:"0.5rem",width:v,height:v,marginTop:2},e.style)})};t.PoolIcon=function(e){return c.default.createElement("div",{className:e.className,style:{display:"flex"}},c.default.createElement(t.TokenIcon,{mintAddress:e.mintA,style:r({marginRight:"-0.5rem"},e.style)}),c.default.createElement(t.TokenIcon,{mintAddress:e.mintB}))}},658:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUserAccounts=void 0;var r=n(291);t.useUserAccounts=function(){return{userAccounts:r.useAccountsContext().userAccounts}}},659:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(1136),t),a(n(571),t)},663:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(35),a=n(5),i=n(65),o=a.struct([a.u8("version"),a.u8("bumpSeed"),i.a("owner"),i.a("quoteMint"),i.a("tokenProgramId"),a.blob(62,"padding")]),u=function(e){return e.data.length===o.span},c=function(t,n){var a=e.from(n.data),i=o.decode(a);return{pubkey:t,account:Object(r.a)({},n),info:i}}}).call(this,n(27).Buffer)},664:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return v}));var r=n(35),a=n(30),i=n(5),o=n(48),u=n(12),c=n(65),l=u.utils.TOKEN_PROGRAM_ID,s=u.utils.LENDING_PROGRAM_ID,d=i.struct([i.u8("version"),c.c("depositedCollateral"),c.a("collateralReserve"),c.b("cumulativeBorrowRateWad"),c.b("borrowAmountWad"),c.a("borrowReserve"),c.a("tokenMint"),i.blob(128,"padding")]),f=function(e){return e.data.length===d.span},m=function(t,n){var a=e.from(n.data),i=d.decode(a);return{pubkey:t,account:Object(r.a)({},n),info:i}},p=function(e){return""},v=function(t,n,r,u,c,d,f,m){var p=i.struct([i.u8("instruction")]),v=e.alloc(p.span);p.encode({instruction:o.b.InitObligation},v);var b=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1}];return new a.TransactionInstruction({keys:b,programId:s,data:v})}}).call(this,n(27).Buffer)},665:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return v}));var r=n(30),a=n(115),i=n.n(a),o=n(5),u=n(379),c=n(114),l=n(119),s=n(12),d=n(65),f=s.utils.TOKEN_PROGRAM_ID,m=s.utils.LENDING_PROGRAM_ID,p=function(t,n,a,u,l,s,p,v,b){var y=o.struct([o.u8("instruction"),d.c("liquidityAmount")]),h=e.alloc(y.span);y.encode({instruction:c.a.DepositReserveLiquidity,liquidityAmount:new i.a(t)},h);var g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:g,programId:m,data:h})},v=function(e){return Object(l.c)(e)*Object(u.c)(e)}}).call(this,n(27).Buffer)},666:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(30),a=n(115),i=n.n(a),o=n(5),u=n(114),c=n(12),l=n(65),s=c.utils.TOKEN_PROGRAM_ID,d=c.utils.LENDING_PROGRAM_ID,f=function(t,n,a,c,f,m,p,v,b){var y=o.struct([o.u8("instruction"),l.c("collateralAmount")]),h=e.alloc(y.span);y.encode({instruction:u.a.WithdrawReserveLiquidity,collateralAmount:new i.a(t)},h);var g=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:g,programId:d,data:h})}}).call(this,n(27).Buffer)},668:function(e,t,n){"use strict";var r;!function(e){e[e.ConstantProduct=0]="ConstantProduct",e[e.ConstantPrice=1]="ConstantPrice",e[e.Stable=2]="Stable",e[e.ConstantProductWithOffset=3]="ConstantProductWithOffset"}(r||(r={}))},669:function(e,t){},801:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(30),a=n(115),i=n.n(a),o=n(114),u=n(5),c=n(12),l=n(65),s=c.utils.TOKEN_PROGRAM_ID,d=c.utils.LENDING_PROGRAM_ID,f=function(t,n,a,c,f,m,p,v,b,y,h,g,E){var k=u.struct([u.u8("instruction"),l.c("liquidityAmount")]),w=e.alloc(k.span);k.encode({instruction:o.a.RepayOblogationLiquidity,liquidityAmount:new i.a(t)},w);var A=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!0,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:A,programId:d,data:w})}}).call(this,n(27).Buffer)},802:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(30),a=n(115),i=n.n(a),o=n(114),u=n(5),c=n(12),l=n(65),s=c.utils.TOKEN_PROGRAM_ID,d=c.utils.LENDING_PROGRAM_ID,f=function(t,n,a,c,f,m,p,v,b,y,h,g,E,k){var w=u.struct([u.u8("instruction"),l.c("liquidityAmount")]),A=e.alloc(w.span);w.encode({instruction:o.a.LiquidateObligation,liquidityAmount:new i.a(t)},A);var S=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:v,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!0,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:r.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:S,programId:d,data:A})}}).call(this,n(27).Buffer)},806:function(e,t,n){e.exports=n(1557)},811:function(e,t,n){},812:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.findOrCreateAccountByMint=t.createTokenAccount=t.createMint=t.createAssociatedTokenAccountInstruction=t.createUninitializedAccount=t.createUninitializedMint=t.createTempMemoryAccount=t.DEFAULT_TEMP_MEM_SPACE=t.ensureSplAccount=void 0;var r=n(95),a=n(30),i=n(186),o=n(291);function u(e,t,n,o){var u=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:u.publicKey,lamports:n,space:r.MintLayout.span,programId:i.TOKEN_PROGRAM_ID})),o.push(u),u.publicKey}function c(e,t,n,o){var u=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:t,newAccountPubkey:u.publicKey,lamports:n,space:r.AccountLayout.span,programId:i.TOKEN_PROGRAM_ID})),o.push(u),u.publicKey}function l(e,t,n,a,o,u){var l=c(e,t,n,u);return e.push(r.Token.createInitAccountInstruction(i.TOKEN_PROGRAM_ID,a,l,o)),l}t.ensureSplAccount=function(e,t,n,a,o,u){if(!n.info.isNative)return n.pubkey;var l=c(e,a,o,u);return e.push(r.Token.createInitAccountInstruction(i.TOKEN_PROGRAM_ID,i.WRAPPED_SOL_MINT,l,a)),t.push(r.Token.createCloseAccountInstruction(i.TOKEN_PROGRAM_ID,l,a,a,[])),l},t.DEFAULT_TEMP_MEM_SPACE=65548,t.createTempMemoryAccount=function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.DEFAULT_TEMP_MEM_SPACE,u=new a.Account;return e.push(a.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:u.publicKey,lamports:0,space:o,programId:i})),r.push(u),u.publicKey},t.createUninitializedMint=u,t.createUninitializedAccount=c,t.createAssociatedTokenAccountInstruction=function(t,n,r,o,u){var c=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];t.push(new a.TransactionInstruction({keys:c,programId:i.SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID,data:e.from([])}))},t.createMint=function(e,t,n,a,o,c,l){var s=u(e,t,n,l);return e.push(r.Token.createInitMintInstruction(i.TOKEN_PROGRAM_ID,s,a,o,c)),s},t.createTokenAccount=l,t.findOrCreateAccountByMint=function(e,t,n,a,u,c,s,d){var f,m=c.toBase58(),p=o.cache.byParser(o.TokenAccountParser).map((function(e){return o.cache.get(e)})).find((function(e){return void 0!==e&&e.info.mint.toBase58()===m&&e.info.owner.toBase58()===t.toBase58()&&(void 0===d||!d.has(e.pubkey.toBase58()))})),v=m===i.WRAPPED_SOL_MINT.toBase58();return p&&!v?f=p.pubkey:(f=l(n,e,u,c,t,s),v&&a.push(r.Token.createCloseAccountInstruction(i.TOKEN_PROGRAM_ID,f,e,e,[]))),f}}).call(this,n(27).Buffer)},818:function(e,t){},820:function(e,t){},840:function(e,t){},842:function(e,t){},852:function(e,t){},853:function(e,t){},880:function(e,t){},890:function(e,t){},892:function(e,t){},896:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ZERO=t.RAY=t.WAD=t.HALF_WAD=t.TEN=void 0;var a=r(n(467));t.TEN=new a.default(10),t.HALF_WAD=t.TEN.pow(new a.default(18)),t.WAD=t.TEN.pow(new a.default(18)),t.RAY=t.TEN.pow(new a.default(27)),t.ZERO=new a.default(0)}},[[806,1,2]]]);